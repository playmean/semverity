#!/usr/bin/env node
var ou=Object.create;var fn=Object.defineProperty;var au=Object.getOwnPropertyDescriptor;var cu=Object.getOwnPropertyNames,Rs=Object.getOwnPropertySymbols,uu=Object.getPrototypeOf,js=Object.prototype.hasOwnProperty,lu=Object.prototype.propertyIsEnumerable;var Ps=(e,t,n)=>t in e?fn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ke=(e,t)=>{for(var n in t||(t={}))js.call(t,n)&&Ps(e,n,t[n]);if(Rs)for(var n of Rs(t))lu.call(t,n)&&Ps(e,n,t[n]);return e};var mt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ks=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of cu(t))!js.call(e,s)&&s!==n&&fn(e,s,{get:()=>t[s],enumerable:!(r=au(t,s))||r.enumerable});return e};var re=(e,t,n)=>(n=e!=null?ou(uu(e)):{},ks(t||!e||!e.__esModule?fn(n,"default",{value:e,enumerable:!0}):n,e)),fu=e=>ks(fn({},"__esModule",{value:!0}),e);var xn=mt((_m,Gi)=>{var Gu="2.0.0",Uu=Number.MAX_SAFE_INTEGER||9007199254740991,Wu=16;Gi.exports={SEMVER_SPEC_VERSION:Gu,MAX_LENGTH:256,MAX_SAFE_INTEGER:Uu,MAX_SAFE_COMPONENT_LENGTH:Wu}});var Rr=mt((Em,Ui)=>{var zu=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};Ui.exports=zu});var jr=mt((le,Wi)=>{var{MAX_SAFE_COMPONENT_LENGTH:Pr}=xn(),qu=Rr();le=Wi.exports={};var Hu=le.re=[],R=le.src=[],P=le.t={},Vu=0,z=(e,t,n)=>{let r=Vu++;qu(r,t),P[e]=r,R[r]=t,Hu[r]=new RegExp(t,n?"g":void 0)};z("NUMERICIDENTIFIER","0|[1-9]\\d*");z("NUMERICIDENTIFIERLOOSE","[0-9]+");z("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");z("MAINVERSION",`(${R[P.NUMERICIDENTIFIER]})\\.(${R[P.NUMERICIDENTIFIER]})\\.(${R[P.NUMERICIDENTIFIER]})`);z("MAINVERSIONLOOSE",`(${R[P.NUMERICIDENTIFIERLOOSE]})\\.(${R[P.NUMERICIDENTIFIERLOOSE]})\\.(${R[P.NUMERICIDENTIFIERLOOSE]})`);z("PRERELEASEIDENTIFIER",`(?:${R[P.NUMERICIDENTIFIER]}|${R[P.NONNUMERICIDENTIFIER]})`);z("PRERELEASEIDENTIFIERLOOSE",`(?:${R[P.NUMERICIDENTIFIERLOOSE]}|${R[P.NONNUMERICIDENTIFIER]})`);z("PRERELEASE",`(?:-(${R[P.PRERELEASEIDENTIFIER]}(?:\\.${R[P.PRERELEASEIDENTIFIER]})*))`);z("PRERELEASELOOSE",`(?:-?(${R[P.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${R[P.PRERELEASEIDENTIFIERLOOSE]})*))`);z("BUILDIDENTIFIER","[0-9A-Za-z-]+");z("BUILD",`(?:\\+(${R[P.BUILDIDENTIFIER]}(?:\\.${R[P.BUILDIDENTIFIER]})*))`);z("FULLPLAIN",`v?${R[P.MAINVERSION]}${R[P.PRERELEASE]}?${R[P.BUILD]}?`);z("FULL",`^${R[P.FULLPLAIN]}$`);z("LOOSEPLAIN",`[v=\\s]*${R[P.MAINVERSIONLOOSE]}${R[P.PRERELEASELOOSE]}?${R[P.BUILD]}?`);z("LOOSE",`^${R[P.LOOSEPLAIN]}$`);z("GTLT","((?:<|>)?=?)");z("XRANGEIDENTIFIERLOOSE",`${R[P.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);z("XRANGEIDENTIFIER",`${R[P.NUMERICIDENTIFIER]}|x|X|\\*`);z("XRANGEPLAIN",`[v=\\s]*(${R[P.XRANGEIDENTIFIER]})(?:\\.(${R[P.XRANGEIDENTIFIER]})(?:\\.(${R[P.XRANGEIDENTIFIER]})(?:${R[P.PRERELEASE]})?${R[P.BUILD]}?)?)?`);z("XRANGEPLAINLOOSE",`[v=\\s]*(${R[P.XRANGEIDENTIFIERLOOSE]})(?:\\.(${R[P.XRANGEIDENTIFIERLOOSE]})(?:\\.(${R[P.XRANGEIDENTIFIERLOOSE]})(?:${R[P.PRERELEASELOOSE]})?${R[P.BUILD]}?)?)?`);z("XRANGE",`^${R[P.GTLT]}\\s*${R[P.XRANGEPLAIN]}$`);z("XRANGELOOSE",`^${R[P.GTLT]}\\s*${R[P.XRANGEPLAINLOOSE]}$`);z("COERCE",`(^|[^\\d])(\\d{1,${Pr}})(?:\\.(\\d{1,${Pr}}))?(?:\\.(\\d{1,${Pr}}))?(?:$|[^\\d])`);z("COERCERTL",R[P.COERCE],!0);z("LONETILDE","(?:~>?)");z("TILDETRIM",`(\\s*)${R[P.LONETILDE]}\\s+`,!0);le.tildeTrimReplace="$1~";z("TILDE",`^${R[P.LONETILDE]}${R[P.XRANGEPLAIN]}$`);z("TILDELOOSE",`^${R[P.LONETILDE]}${R[P.XRANGEPLAINLOOSE]}$`);z("LONECARET","(?:\\^)");z("CARETTRIM",`(\\s*)${R[P.LONECARET]}\\s+`,!0);le.caretTrimReplace="$1^";z("CARET",`^${R[P.LONECARET]}${R[P.XRANGEPLAIN]}$`);z("CARETLOOSE",`^${R[P.LONECARET]}${R[P.XRANGEPLAINLOOSE]}$`);z("COMPARATORLOOSE",`^${R[P.GTLT]}\\s*(${R[P.LOOSEPLAIN]})$|^$`);z("COMPARATOR",`^${R[P.GTLT]}\\s*(${R[P.FULLPLAIN]})$|^$`);z("COMPARATORTRIM",`(\\s*)${R[P.GTLT]}\\s*(${R[P.LOOSEPLAIN]}|${R[P.XRANGEPLAIN]})`,!0);le.comparatorTrimReplace="$1$2$3";z("HYPHENRANGE",`^\\s*(${R[P.XRANGEPLAIN]})\\s+-\\s+(${R[P.XRANGEPLAIN]})\\s*$`);z("HYPHENRANGELOOSE",`^\\s*(${R[P.XRANGEPLAINLOOSE]})\\s+-\\s+(${R[P.XRANGEPLAINLOOSE]})\\s*$`);z("STAR","(<|>)?=?\\s*\\*");z("GTE0","^\\s*>=\\s*0.0.0\\s*$");z("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var kr=mt((wm,zi)=>{var Yu=["includePrerelease","loose","rtl"],Ku=e=>e?typeof e!="object"?{loose:!0}:Yu.filter(t=>e[t]).reduce((t,n)=>(t[n]=!0,t),{}):{};zi.exports=Ku});var Yi=mt((Om,Vi)=>{var qi=/^[0-9]+$/,Hi=(e,t)=>{let n=qi.test(e),r=qi.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},Xu=(e,t)=>Hi(t,e);Vi.exports={compareIdentifiers:Hi,rcompareIdentifiers:Xu}});var Zi=mt((Cm,Ji)=>{var Rn=Rr(),{MAX_LENGTH:Ki,MAX_SAFE_INTEGER:Pn}=xn(),{re:Xi,t:Qi}=jr(),Qu=kr(),{compareIdentifiers:tn}=Yi(),Lt=class{constructor(t,n){if(n=Qu(n),t instanceof Lt){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>Ki)throw new TypeError(`version is longer than ${Ki} characters`);Rn("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=t.trim().match(n.loose?Xi[Qi.LOOSE]:Xi[Qi.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Pn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Pn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Pn||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<Pn)return i}return s}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Rn("SemVer.compare",this.version,this.options,t),!(t instanceof Lt)){if(typeof t=="string"&&t===this.version)return 0;t=new Lt(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Lt||(t=new Lt(t,this.options)),tn(this.major,t.major)||tn(this.minor,t.minor)||tn(this.patch,t.patch)}comparePre(t){if(t instanceof Lt||(t=new Lt(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],s=t.prerelease[n];if(Rn("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return tn(r,s)}while(++n)}compareBuild(t){t instanceof Lt||(t=new Lt(t,this.options));let n=0;do{let r=this.build[n],s=t.build[n];if(Rn("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return tn(r,s)}while(++n)}inc(t,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}n&&(this.prerelease[0]===n?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}};Ji.exports=Lt});var Mr=mt((Tm,ro)=>{var{MAX_LENGTH:Ju}=xn(),{re:to,t:eo}=jr(),no=Zi(),Zu=kr(),tl=(e,t)=>{if(t=Zu(t),e instanceof no)return e;if(typeof e!="string"||e.length>Ju||!(t.loose?to[eo.LOOSE]:to[eo.FULL]).test(e))return null;try{return new no(e,t)}catch{return null}};ro.exports=tl});var io=mt((Am,so)=>{var Ge=1e3,Ue=Ge*60,We=Ue*60,xe=We*24,el=xe*7,nl=xe*365.25;so.exports=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return rl(e);if(n==="number"&&isFinite(e))return t.long?il(e):sl(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function rl(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*nl;case"weeks":case"week":case"w":return n*el;case"days":case"day":case"d":return n*xe;case"hours":case"hour":case"hrs":case"hr":case"h":return n*We;case"minutes":case"minute":case"mins":case"min":case"m":return n*Ue;case"seconds":case"second":case"secs":case"sec":case"s":return n*Ge;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function sl(e){var t=Math.abs(e);return t>=xe?Math.round(e/xe)+"d":t>=We?Math.round(e/We)+"h":t>=Ue?Math.round(e/Ue)+"m":t>=Ge?Math.round(e/Ge)+"s":e+"ms"}function il(e){var t=Math.abs(e);return t>=xe?kn(e,t,xe,"day"):t>=We?kn(e,t,We,"hour"):t>=Ue?kn(e,t,Ue,"minute"):t>=Ge?kn(e,t,Ge,"second"):e+" ms"}function kn(e,t,n,r){var s=t>=n*1.5;return Math.round(e/n)+" "+r+(s?"s":"")}});var Nr=mt((Sm,oo)=>{function ol(e){n.debug=n,n.default=n,n.coerce=h,n.disable=i,n.enable=s,n.enabled=o,n.humanize=io(),n.destroy=y,Object.keys(e).forEach(p=>{n[p]=e[p]}),n.names=[],n.skips=[],n.formatters={};function t(p){let l=0;for(let m=0;m<p.length;m++)l=(l<<5)-l+p.charCodeAt(m),l|=0;return n.colors[Math.abs(l)%n.colors.length]}n.selectColor=t;function n(p){let l,m=null,b,v;function w(...g){if(!w.enabled)return;let D=w,U=Number(new Date),Y=U-(l||U);D.diff=Y,D.prev=l,D.curr=U,l=U,g[0]=n.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let W=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(vt,wt)=>{if(vt==="%%")return"%";W++;let Bt=n.formatters[wt];if(typeof Bt=="function"){let Gt=g[W];vt=Bt.call(D,Gt),g.splice(W,1),W--}return vt}),n.formatArgs.call(D,g),(D.log||n.log).apply(D,g)}return w.namespace=p,w.useColors=n.useColors(),w.color=n.selectColor(p),w.extend=r,w.destroy=n.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(b!==n.namespaces&&(b=n.namespaces,v=n.enabled(p)),v),set:g=>{m=g}}),typeof n.init=="function"&&n.init(w),w}function r(p,l){let m=n(this.namespace+(typeof l>"u"?":":l)+p);return m.log=this.log,m}function s(p){n.save(p),n.namespaces=p,n.names=[],n.skips=[];let l,m=(typeof p=="string"?p:"").split(/[\s,]+/),b=m.length;for(l=0;l<b;l++)!m[l]||(p=m[l].replace(/\*/g,".*?"),p[0]==="-"?n.skips.push(new RegExp("^"+p.slice(1)+"$")):n.names.push(new RegExp("^"+p+"$")))}function i(){let p=[...n.names.map(u),...n.skips.map(u).map(l=>"-"+l)].join(",");return n.enable(""),p}function o(p){if(p[p.length-1]==="*")return!0;let l,m;for(l=0,m=n.skips.length;l<m;l++)if(n.skips[l].test(p))return!1;for(l=0,m=n.names.length;l<m;l++)if(n.names[l].test(p))return!0;return!1}function u(p){return p.toString().substring(2,p.toString().length-2).replace(/\.\*\?$/,"*")}function h(p){return p instanceof Error?p.stack||p.message:p}function y(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}oo.exports=ol});var ao=mt((Rt,Mn)=>{Rt.formatArgs=cl;Rt.save=ul;Rt.load=ll;Rt.useColors=al;Rt.storage=fl();Rt.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Rt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function al(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function cl(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Mn.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(n++,s==="%c"&&(r=n))}),e.splice(r,0,t)}Rt.log=console.debug||console.log||(()=>{});function ul(e){try{e?Rt.storage.setItem("debug",e):Rt.storage.removeItem("debug")}catch{}}function ll(){let e;try{e=Rt.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function fl(){try{return localStorage}catch{}}Mn.exports=Nr()(Rt);var{formatters:hl}=Mn.exports;hl.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var uo=mt((Im,co)=>{"use strict";co.exports=(e,t)=>{t=t||process.argv;let n=e.startsWith("-")?"":e.length===1?"-":"--",r=t.indexOf(n+e),s=t.indexOf("--");return r!==-1&&(s===-1?!0:r<s)}});var fo=mt((xm,lo)=>{"use strict";var pl=require("os"),Ht=uo(),yt=process.env,ze;Ht("no-color")||Ht("no-colors")||Ht("color=false")?ze=!1:(Ht("color")||Ht("colors")||Ht("color=true")||Ht("color=always"))&&(ze=!0);"FORCE_COLOR"in yt&&(ze=yt.FORCE_COLOR.length===0||parseInt(yt.FORCE_COLOR,10)!==0);function dl(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function ml(e){if(ze===!1)return 0;if(Ht("color=16m")||Ht("color=full")||Ht("color=truecolor"))return 3;if(Ht("color=256"))return 2;if(e&&!e.isTTY&&ze!==!0)return 0;let t=ze?1:0;if(process.platform==="win32"){let n=pl.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in yt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in yt)||yt.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in yt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(yt.TEAMCITY_VERSION)?1:0;if(yt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in yt){let n=parseInt((yt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(yt.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(yt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(yt.TERM)||"COLORTERM"in yt?1:(yt.TERM==="dumb",t)}function Fr(e){let t=ml(e);return dl(t)}lo.exports={supportsColor:Fr,stdout:Fr(process.stdout),stderr:Fr(process.stderr)}});var po=mt((bt,Fn)=>{var gl=require("tty"),Nn=require("util");bt.init=Cl;bt.log=El;bt.formatArgs=yl;bt.save=wl;bt.load=Ol;bt.useColors=bl;bt.destroy=Nn.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");bt.colors=[6,2,3,4,5,1];try{let e=fo();e&&(e.stderr||e).level>=2&&(bt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}bt.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(s,i)=>i.toUpperCase()),r=process.env[t];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),e[n]=r,e},{});function bl(){return"colors"in bt.inspectOpts?Boolean(bt.inspectOpts.colors):gl.isatty(process.stderr.fd)}function yl(e){let{namespace:t,useColors:n}=this;if(n){let r=this.color,s="\x1B[3"+(r<8?r:"8;5;"+r),i=`  ${s};1m${t} \x1B[0m`;e[0]=i+e[0].split(`
`).join(`
`+i),e.push(s+"m+"+Fn.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=_l()+t+" "+e[0]}function _l(){return bt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function El(...e){return process.stderr.write(Nn.format(...e)+`
`)}function wl(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function Ol(){return process.env.DEBUG}function Cl(e){e.inspectOpts={};let t=Object.keys(bt.inspectOpts);for(let n=0;n<t.length;n++)e.inspectOpts[t[n]]=bt.inspectOpts[t[n]]}Fn.exports=Nr()(bt);var{formatters:ho}=Fn.exports;ho.o=function(e){return this.inspectOpts.colors=this.useColors,Nn.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};ho.O=function(e){return this.inspectOpts.colors=this.useColors,Nn.inspect(e,this.inspectOpts)}});var Lr=mt((Rm,$r)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?$r.exports=ao():$r.exports=po()});var mo=mt(Pt=>{"use strict";var Tl=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pt,"__esModule",{value:!0});var vl=require("fs"),Al=Tl(Lr()),qe=Al.default("@kwsites/file-exists");function Sl(e,t,n){qe("checking %s",e);try{let r=vl.statSync(e);return r.isFile()&&t?(qe("[OK] path represents a file"),!0):r.isDirectory()&&n?(qe("[OK] path represents a directory"),!0):(qe("[FAIL] path represents something other than a file or directory"),!1)}catch(r){if(r.code==="ENOENT")return qe("[FAIL] path is not accessible: %o",r),!1;throw qe("[FATAL] %o",r),r}}function Il(e,t=Pt.READABLE){return Sl(e,(t&Pt.FILE)>0,(t&Pt.FOLDER)>0)}Pt.exists=Il;Pt.FILE=1;Pt.FOLDER=2;Pt.READABLE=Pt.FILE+Pt.FOLDER});var go=mt($n=>{"use strict";function xl(e){for(var t in e)$n.hasOwnProperty(t)||($n[t]=e[t])}Object.defineProperty($n,"__esModule",{value:!0});xl(mo())});var Br=mt(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.createDeferred=Re.deferred=void 0;function Dr(){let e,t,n="pending";return{promise:new Promise((s,i)=>{e=s,t=i}),done(s){n==="pending"&&(n="resolved",e(s))},fail(s){n==="pending"&&(n="rejected",t(s))},get fulfilled(){return n!=="pending"},get status(){return n}}}Re.deferred=Dr;Re.createDeferred=Dr;Re.default=Dr});var Ss=mt(As=>{As.get=function(e,t,n){return(e=(t.split?t.split("."):t).reduce(function(r,s){return r&&r[s]},e))===void 0?n:e},As.set=function(e,t,n,r){return!/^(__proto__|constructor|prototype)$/.test(t)&&((t=t.split?t.split("."):t.slice(0)).slice(0,-1).reduce(function(s,i){return s[i]=s[i]||{}},e)[t.pop()]=n),e}});var kp={};module.exports=fu(kp);var _n=require("assert");var hu={right:bu,center:yu},pu=0,hn=1,du=2,pn=3,Ns=class{constructor(t){var n;this.width=t.width,this.wrap=(n=t.wrap)!==null&&n!==void 0?n:!0,this.rows=[]}span(...t){let n=this.div(...t);n.span=!0}resetOutput(){this.rows=[]}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);let n=t.map(r=>typeof r=="string"?this.colFromString(r):r);return this.rows.push(n),n}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){let n=t.split(`
`).map(s=>s.split("	")),r=0;return n.forEach(s=>{s.length>1&&At.stringWidth(s[0])>r&&(r=Math.min(Math.floor(this.width*.5),At.stringWidth(s[0])))}),n.forEach(s=>{this.div(...s.map((i,o)=>({text:i.trim(),padding:this.measurePadding(i),width:o===0&&s.length>1?r:void 0})))}),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){let n=At.stripAnsi(t);return[0,n.match(/\s*$/)[0].length,0,n.match(/^\s*/)[0].length]}toString(){let t=[];return this.rows.forEach(n=>{this.rowToString(n,t)}),t.filter(n=>!n.hidden).map(n=>n.text).join(`
`)}rowToString(t,n){return this.rasterize(t).forEach((r,s)=>{let i="";r.forEach((o,u)=>{let{width:h}=t[u],y=this.negatePadding(t[u]),p=o;y>At.stringWidth(o)&&(p+=" ".repeat(y-At.stringWidth(o))),t[u].align&&t[u].align!=="left"&&this.wrap&&(p=hu[t[u].align](p,y),At.stringWidth(p)<y&&(p+=" ".repeat((h||0)-At.stringWidth(p)-1)));let l=t[u].padding||[0,0,0,0];l[pn]&&(i+=" ".repeat(l[pn])),i+=Ms(t[u],p,"| "),i+=p,i+=Ms(t[u],p," |"),l[hn]&&(i+=" ".repeat(l[hn])),s===0&&n.length>0&&(i=this.renderInline(i,n[n.length-1]))}),n.push({text:i.replace(/ +$/,""),span:t.span})}),n}renderInline(t,n){let r=t.match(/^ */),s=r?r[0].length:0,i=n.text,o=At.stringWidth(i.trimRight());return n.span?this.wrap?s<o?t:(n.hidden=!0,i.trimRight()+" ".repeat(s-o)+t.trimLeft()):(n.hidden=!0,i+t):t}rasterize(t){let n=[],r=this.columnWidths(t),s;return t.forEach((i,o)=>{i.width=r[o],this.wrap?s=At.wrap(i.text,this.negatePadding(i),{hard:!0}).split(`
`):s=i.text.split(`
`),i.border&&(s.unshift("."+"-".repeat(this.negatePadding(i)+2)+"."),s.push("'"+"-".repeat(this.negatePadding(i)+2)+"'")),i.padding&&(s.unshift(...new Array(i.padding[pu]||0).fill("")),s.push(...new Array(i.padding[du]||0).fill(""))),s.forEach((u,h)=>{n[h]||n.push([]);let y=n[h];for(let p=0;p<o;p++)y[p]===void 0&&y.push("");y.push(u)})}),n}negatePadding(t){let n=t.width||0;return t.padding&&(n-=(t.padding[pn]||0)+(t.padding[hn]||0)),t.border&&(n-=4),n}columnWidths(t){if(!this.wrap)return t.map(o=>o.width||At.stringWidth(o.text));let n=t.length,r=this.width,s=t.map(o=>{if(o.width)return n--,r-=o.width,o.width}),i=n?Math.floor(r/n):0;return s.map((o,u)=>o===void 0?Math.max(i,mu(t[u])):o)}};function Ms(e,t,n){return e.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?n:"  ":""}function mu(e){let t=e.padding||[],n=1+(t[pn]||0)+(t[hn]||0);return e.border?n+4:n}function gu(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function bu(e,t){e=e.trim();let n=At.stringWidth(e);return n<t?" ".repeat(t-n)+e:e}function yu(e,t){e=e.trim();let n=At.stringWidth(e);return n>=t?e:" ".repeat(t-n>>1)+e}var At;function Fs(e,t){return At=t,new Ns({width:(e==null?void 0:e.width)||gu(),wrap:e==null?void 0:e.wrap})}var $s=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function cr(e){return e.replace($s,"")}function Ls(e,t){let[n,r]=e.match($s)||["",""];e=cr(e);let s="";for(let i=0;i<e.length;i++)i!==0&&i%t===0&&(s+=`
`),s+=e.charAt(i);return n&&r&&(s=`${n}${s}${r}`),s}function ur(e){return Fs(e,{stringWidth:t=>[...t].length,stripAnsi:cr,wrap:Ls})}var Me=require("path"),dn=require("fs");function Ds(e,t){let n=(0,Me.resolve)(".",e),r;for((0,dn.statSync)(n).isDirectory()||(n=(0,Me.dirname)(n));;){if(r=t(n,(0,dn.readdirSync)(n)),r)return(0,Me.resolve)(n,r);if(n=(0,Me.dirname)(r=n),r===n)break}}var ei=require("util"),ni=require("fs"),ri=require("url");var Ws=require("util"),bn=require("path");function ge(e){if(e!==e.toLowerCase()&&e!==e.toUpperCase()||(e=e.toLowerCase()),e.indexOf("-")===-1&&e.indexOf("_")===-1)return e;{let n="",r=!1,s=e.match(/^-+/);for(let i=s?s[0].length:0;i<e.length;i++){let o=e.charAt(i);r&&(r=!1,o=o.toUpperCase()),i!==0&&(o==="-"||o==="_")?r=!0:o!=="-"&&o!=="_"&&(n+=o)}return n}}function mn(e,t){let n=e.toLowerCase();t=t||"-";let r="";for(let s=0;s<e.length;s++){let i=n.charAt(s),o=e.charAt(s);i!==o&&s>0?r+=`${t}${n.charAt(s)}`:r+=o}return r}function gn(e){return e==null?!1:typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^0[^.]/.test(e)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function Bs(e){if(Array.isArray(e))return e.map(o=>typeof o!="string"?o+"":o);e=e.trim();let t=0,n=null,r=null,s=null,i=[];for(let o=0;o<e.length;o++){if(n=r,r=e.charAt(o),r===" "&&!s){n!==" "&&t++;continue}r===s?s=null:(r==="'"||r==='"')&&!s&&(s=r),i[t]||(i[t]=""),i[t]+=r}return i}var kt;(function(e){e.BOOLEAN="boolean",e.STRING="string",e.NUMBER="number",e.ARRAY="array"})(kt||(kt={}));var ee,fr=class{constructor(t){ee=t}parse(t,n){let r=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},n),s=Bs(t),i=typeof t=="string",o=_u(Object.assign(Object.create(null),r.alias)),u=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},r.configuration),h=Object.assign(Object.create(null),r.default),y=r.configObjects||[],p=r.envPrefix,l=u["populate--"],m=l?"--":"_",b=Object.create(null),v=Object.create(null),w=r.__||ee.format,g={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},D=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,U=new RegExp("^--"+u["negation-prefix"]+"(.+)");[].concat(r.array||[]).filter(Boolean).forEach(function(c){let f=typeof c=="object"?c.key:c,E=Object.keys(c).map(function(_){return{boolean:"bools",string:"strings",number:"numbers"}[_]}).filter(Boolean).pop();E&&(g[E][f]=!0),g.arrays[f]=!0,g.keys.push(f)}),[].concat(r.boolean||[]).filter(Boolean).forEach(function(c){g.bools[c]=!0,g.keys.push(c)}),[].concat(r.string||[]).filter(Boolean).forEach(function(c){g.strings[c]=!0,g.keys.push(c)}),[].concat(r.number||[]).filter(Boolean).forEach(function(c){g.numbers[c]=!0,g.keys.push(c)}),[].concat(r.count||[]).filter(Boolean).forEach(function(c){g.counts[c]=!0,g.keys.push(c)}),[].concat(r.normalize||[]).filter(Boolean).forEach(function(c){g.normalize[c]=!0,g.keys.push(c)}),typeof r.narg=="object"&&Object.entries(r.narg).forEach(([c,f])=>{typeof f=="number"&&(g.nargs[c]=f,g.keys.push(c))}),typeof r.coerce=="object"&&Object.entries(r.coerce).forEach(([c,f])=>{typeof f=="function"&&(g.coercions[c]=f,g.keys.push(c))}),typeof r.config<"u"&&(Array.isArray(r.config)||typeof r.config=="string"?[].concat(r.config).filter(Boolean).forEach(function(c){g.configs[c]=!0}):typeof r.config=="object"&&Object.entries(r.config).forEach(([c,f])=>{(typeof f=="boolean"||typeof f=="function")&&(g.configs[c]=f)})),te(r.key,o,r.default,g.arrays),Object.keys(h).forEach(function(c){(g.aliases[c]||[]).forEach(function(f){h[f]=h[c]})});let Y=null;me();let W=[],Q=Object.assign(Object.create(null),{_:[]}),vt={};for(let c=0;c<s.length;c++){let f=s[c],E=f.replace(/^-{3,}/,"---"),_,d,S,T,N,dt;if(f!=="--"&&rt(f))wt(f);else if(E.match(/---+(=|$)/)){wt(f);continue}else if(f.match(/^--.+=/)||!u["short-option-groups"]&&f.match(/^-.+=/))T=f.match(/^--?([^=]+)=([\s\S]*)$/),T!==null&&Array.isArray(T)&&T.length>=3&&($(T[1],g.arrays)?c=Gt(c,T[1],s,T[2]):$(T[1],g.nargs)!==!1?c=Bt(c,T[1],s,T[2]):J(T[1],T[2],!0));else if(f.match(U)&&u["boolean-negation"])T=f.match(U),T!==null&&Array.isArray(T)&&T.length>=2&&(d=T[1],J(d,$(d,g.arrays)?[!1]:!1));else if(f.match(/^--.+/)||!u["short-option-groups"]&&f.match(/^-[^-]+/))T=f.match(/^--?(.+)/),T!==null&&Array.isArray(T)&&T.length>=2&&(d=T[1],$(d,g.arrays)?c=Gt(c,d,s):$(d,g.nargs)!==!1?c=Bt(c,d,s):(N=s[c+1],N!==void 0&&(!N.match(/^-/)||N.match(D))&&!$(d,g.bools)&&!$(d,g.counts)||/^(true|false)$/.test(N)?(J(d,N),c++):J(d,st(d))));else if(f.match(/^-.\..+=/))T=f.match(/^-([^=]+)=([\s\S]*)$/),T!==null&&Array.isArray(T)&&T.length>=3&&J(T[1],T[2]);else if(f.match(/^-.\..+/)&&!f.match(D))N=s[c+1],T=f.match(/^-(.\..+)/),T!==null&&Array.isArray(T)&&T.length>=2&&(d=T[1],N!==void 0&&!N.match(/^-/)&&!$(d,g.bools)&&!$(d,g.counts)?(J(d,N),c++):J(d,st(d)));else if(f.match(/^-[^-]+/)&&!f.match(D)){S=f.slice(1,-1).split(""),_=!1;for(let Ot=0;Ot<S.length;Ot++){if(N=f.slice(Ot+2),S[Ot+1]&&S[Ot+1]==="="){dt=f.slice(Ot+3),d=S[Ot],$(d,g.arrays)?c=Gt(c,d,s,dt):$(d,g.nargs)!==!1?c=Bt(c,d,s,dt):J(d,dt),_=!0;break}if(N==="-"){J(S[Ot],N);continue}if(/[A-Za-z]/.test(S[Ot])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(N)&&$(N,g.bools)===!1){J(S[Ot],N),_=!0;break}if(S[Ot+1]&&S[Ot+1].match(/\W/)){J(S[Ot],N),_=!0;break}else J(S[Ot],st(S[Ot]))}d=f.slice(-1)[0],!_&&d!=="-"&&($(d,g.arrays)?c=Gt(c,d,s):$(d,g.nargs)!==!1?c=Bt(c,d,s):(N=s[c+1],N!==void 0&&(!/^(-|--)[^-]/.test(N)||N.match(D))&&!$(d,g.bools)&&!$(d,g.counts)||/^(true|false)$/.test(N)?(J(d,N),c++):J(d,st(d))))}else if(f.match(/^-[0-9]$/)&&f.match(D)&&$(f.slice(1),g.bools))d=f.slice(1),J(d,st(d));else if(f==="--"){W=s.slice(c+1);break}else if(u["halt-at-non-option"]){W=s.slice(c);break}else wt(f)}V(Q,!0),V(Q,!1),B(Q),at(),nt(Q,g.aliases,h,!0),ht(Q),u["set-placeholder-key"]&&Zt(Q),Object.keys(g.counts).forEach(function(c){Ut(Q,c.split("."))||J(c,0)}),l&&W.length&&(Q[m]=[]),W.forEach(function(c){Q[m].push(c)}),u["camel-case-expansion"]&&u["strip-dashed"]&&Object.keys(Q).filter(c=>c!=="--"&&c.includes("-")).forEach(c=>{delete Q[c]}),u["strip-aliased"]&&[].concat(...Object.keys(o).map(c=>o[c])).forEach(c=>{u["camel-case-expansion"]&&c.includes("-")&&delete Q[c.split(".").map(f=>ge(f)).join(".")],delete Q[c]});function wt(c){let f=I("_",c);(typeof f=="string"||typeof f=="number")&&Q._.push(f)}function Bt(c,f,E,_){let d,S=$(f,g.nargs);if(S=typeof S!="number"||isNaN(S)?1:S,S===0)return A(_)||(Y=Error(w("Argument unexpected for: %s",f))),J(f,st(f)),c;let T=A(_)?0:1;if(u["nargs-eats-options"])E.length-(c+1)+T<S&&(Y=Error(w("Not enough arguments following: %s",f))),T=S;else{for(d=c+1;d<E.length&&(!E[d].match(/^-[^0-9]/)||E[d].match(D)||rt(E[d]));d++)T++;T<S&&(Y=Error(w("Not enough arguments following: %s",f)))}let N=Math.min(T,S);for(!A(_)&&N>0&&(J(f,_),N--),d=c+1;d<N+c+1;d++)J(f,E[d]);return c+N}function Gt(c,f,E,_){let d=[],S=_||E[c+1],T=$(f,g.nargs);if($(f,g.bools)&&!/^(true|false)$/.test(S))d.push(!0);else if(A(S)||A(_)&&/^-/.test(S)&&!D.test(S)&&!rt(S)){if(h[f]!==void 0){let N=h[f];d=Array.isArray(N)?N:[N]}}else{A(_)||d.push(O(f,_,!0));for(let N=c+1;N<E.length&&!(!u["greedy-arrays"]&&d.length>0||T&&typeof T=="number"&&d.length>=T||(S=E[N],/^-/.test(S)&&!D.test(S)&&!rt(S)));N++)c=N,d.push(O(f,S,i))}return typeof T=="number"&&(T&&d.length<T||isNaN(T)&&d.length===0)&&(Y=Error(w("Not enough arguments following: %s",f))),J(f,d),c}function J(c,f,E=i){if(/-/.test(c)&&u["camel-case-expansion"]){let S=c.split(".").map(function(T){return ge(T)}).join(".");k(c,S)}let _=O(c,f,E),d=c.split(".");Wt(Q,d,_),g.aliases[c]&&g.aliases[c].forEach(function(S){let T=S.split(".");Wt(Q,T,_)}),d.length>1&&u["dot-notation"]&&(g.aliases[d[0]]||[]).forEach(function(S){let T=S.split("."),N=[].concat(d);N.shift(),T=T.concat(N),(g.aliases[c]||[]).includes(T.join("."))||Wt(Q,T,_)}),$(c,g.normalize)&&!$(c,g.arrays)&&[c].concat(g.aliases[c]||[]).forEach(function(T){Object.defineProperty(vt,T,{enumerable:!0,get(){return f},set(N){f=typeof N=="string"?ee.normalize(N):N}})})}function k(c,f){g.aliases[c]&&g.aliases[c].length||(g.aliases[c]=[f],b[f]=!0),g.aliases[f]&&g.aliases[f].length||k(f,c)}function O(c,f,E){E&&(f=Eu(f)),($(c,g.bools)||$(c,g.counts))&&typeof f=="string"&&(f=f==="true");let _=Array.isArray(f)?f.map(function(d){return I(c,d)}):I(c,f);return $(c,g.counts)&&(A(_)||typeof _=="boolean")&&(_=lr()),$(c,g.normalize)&&$(c,g.arrays)&&(Array.isArray(f)?_=f.map(d=>ee.normalize(d)):_=ee.normalize(f)),_}function I(c,f){return!u["parse-positional-numbers"]&&c==="_"||!$(c,g.strings)&&!$(c,g.bools)&&!Array.isArray(f)&&(gn(f)&&u["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${f}`)))||!A(f)&&$(c,g.numbers))&&(f=Number(f)),f}function B(c){let f=Object.create(null);nt(f,g.aliases,h),Object.keys(g.configs).forEach(function(E){let _=c[E]||f[E];if(_)try{let d=null,S=ee.resolve(ee.cwd(),_),T=g.configs[E];if(typeof T=="function"){try{d=T(S)}catch(N){d=N}if(d instanceof Error){Y=d;return}}else d=ee.require(S);Z(d)}catch(d){d.name==="PermissionDenied"?Y=d:c[E]&&(Y=Error(w("Invalid JSON config file: %s",_)))}})}function Z(c,f){Object.keys(c).forEach(function(E){let _=c[E],d=f?f+"."+E:E;typeof _=="object"&&_!==null&&!Array.isArray(_)&&u["dot-notation"]?Z(_,d):(!Ut(Q,d.split("."))||$(d,g.arrays)&&u["combine-arrays"])&&J(d,_)})}function at(){typeof y<"u"&&y.forEach(function(c){Z(c)})}function V(c,f){if(typeof p>"u")return;let E=typeof p=="string"?p:"",_=ee.env();Object.keys(_).forEach(function(d){if(E===""||d.lastIndexOf(E,0)===0){let S=d.split("__").map(function(T,N){return N===0&&(T=T.substring(E.length)),ge(T)});(f&&g.configs[S.join(".")]||!f)&&!Ut(c,S)&&J(S.join("."),_[d])}})}function ht(c){let f,E=new Set;Object.keys(c).forEach(function(_){if(!E.has(_)&&(f=$(_,g.coercions),typeof f=="function"))try{let d=I(_,f(c[_]));[].concat(g.aliases[_]||[],_).forEach(S=>{E.add(S),c[S]=d})}catch(d){Y=d}})}function Zt(c){return g.keys.forEach(f=>{~f.indexOf(".")||typeof c[f]>"u"&&(c[f]=void 0)}),c}function nt(c,f,E,_=!1){Object.keys(E).forEach(function(d){Ut(c,d.split("."))||(Wt(c,d.split("."),E[d]),_&&(v[d]=!0),(f[d]||[]).forEach(function(S){Ut(c,S.split("."))||Wt(c,S.split("."),E[d])}))})}function Ut(c,f){let E=c;u["dot-notation"]||(f=[f.join(".")]),f.slice(0,-1).forEach(function(d){E=E[d]||{}});let _=f[f.length-1];return typeof E!="object"?!1:_ in E}function Wt(c,f,E){let _=c;u["dot-notation"]||(f=[f.join(".")]),f.slice(0,-1).forEach(function(dt){dt=Gs(dt),typeof _=="object"&&_[dt]===void 0&&(_[dt]={}),typeof _[dt]!="object"||Array.isArray(_[dt])?(Array.isArray(_[dt])?_[dt].push({}):_[dt]=[_[dt],{}],_=_[dt][_[dt].length-1]):_=_[dt]});let d=Gs(f[f.length-1]),S=$(f.join("."),g.arrays),T=Array.isArray(E),N=u["duplicate-arguments-array"];!N&&$(d,g.nargs)&&(N=!0,(!A(_[d])&&g.nargs[d]===1||Array.isArray(_[d])&&_[d].length===g.nargs[d])&&(_[d]=void 0)),E===lr()?_[d]=lr(_[d]):Array.isArray(_[d])?N&&S&&T?_[d]=u["flatten-duplicate-arrays"]?_[d].concat(E):(Array.isArray(_[d][0])?_[d]:[_[d]]).concat([E]):!N&&Boolean(S)===Boolean(T)?_[d]=E:_[d]=_[d].concat([E]):_[d]===void 0&&S?_[d]=T?E:[E]:N&&!(_[d]===void 0||$(d,g.counts)||$(d,g.bools))?_[d]=[_[d],E]:_[d]=E}function te(...c){c.forEach(function(f){Object.keys(f||{}).forEach(function(E){g.aliases[E]||(g.aliases[E]=[].concat(o[E]||[]),g.aliases[E].concat(E).forEach(function(_){if(/-/.test(_)&&u["camel-case-expansion"]){let d=ge(_);d!==E&&g.aliases[E].indexOf(d)===-1&&(g.aliases[E].push(d),b[d]=!0)}}),g.aliases[E].concat(E).forEach(function(_){if(_.length>1&&/[A-Z]/.test(_)&&u["camel-case-expansion"]){let d=mn(_,"-");d!==E&&g.aliases[E].indexOf(d)===-1&&(g.aliases[E].push(d),b[d]=!0)}}),g.aliases[E].forEach(function(_){g.aliases[_]=[E].concat(g.aliases[E].filter(function(d){return _!==d}))}))})})}function $(c,f){let E=[].concat(g.aliases[c]||[],c),_=Object.keys(f),d=E.find(S=>_.includes(S));return d?f[d]:!1}function Ye(c){let f=Object.keys(g);return[].concat(f.map(_=>g[_])).some(function(_){return Array.isArray(_)?_.includes(c):_[c]})}function F(c,...f){return[].concat(...f).some(function(_){let d=c.match(_);return d&&Ye(d[1])})}function tt(c){if(c.match(D)||!c.match(/^-[^-]+/))return!1;let f=!0,E,_=c.slice(1).split("");for(let d=0;d<_.length;d++){if(E=c.slice(d+2),!Ye(_[d])){f=!1;break}if(_[d+1]&&_[d+1]==="="||E==="-"||/[A-Za-z]/.test(_[d])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(E)||_[d+1]&&_[d+1].match(/\W/))break}return f}function rt(c){return u["unknown-options-as-args"]&&H(c)}function H(c){return c=c.replace(/^-{3,}/,"--"),c.match(D)||tt(c)?!1:!F(c,/^-+([^=]+?)=[\s\S]*$/,U,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function st(c){return!$(c,g.bools)&&!$(c,g.counts)&&`${c}`in h?h[c]:ct(it(c))}function ct(c){return{[kt.BOOLEAN]:!0,[kt.STRING]:"",[kt.NUMBER]:void 0,[kt.ARRAY]:[]}[c]}function it(c){let f=kt.BOOLEAN;return $(c,g.strings)?f=kt.STRING:$(c,g.numbers)?f=kt.NUMBER:$(c,g.bools)?f=kt.BOOLEAN:$(c,g.arrays)&&(f=kt.ARRAY),f}function A(c){return c===void 0}function me(){Object.keys(g.counts).find(c=>$(c,g.arrays)?(Y=Error(w("Invalid configuration: %s, opts.count excludes opts.array.",c)),!0):$(c,g.nargs)?(Y=Error(w("Invalid configuration: %s, opts.count excludes opts.narg.",c)),!0):!1)}return{aliases:Object.assign({},g.aliases),argv:Object.assign(vt,Q),configuration:u,defaulted:Object.assign({},v),error:Y,newAliases:Object.assign({},b)}}};function _u(e){let t=[],n=Object.create(null),r=!0;for(Object.keys(e).forEach(function(s){t.push([].concat(e[s],s))});r;){r=!1;for(let s=0;s<t.length;s++)for(let i=s+1;i<t.length;i++)if(t[s].filter(function(u){return t[i].indexOf(u)!==-1}).length){t[s]=t[s].concat(t[i]),t.splice(i,1),r=!0;break}}return t.forEach(function(s){s=s.filter(function(o,u,h){return h.indexOf(o)===u});let i=s.pop();i!==void 0&&typeof i=="string"&&(n[i]=s)}),n}function lr(e){return e!==void 0?e+1:1}function Gs(e){return e==="__proto__"?"___proto___":e}function Eu(e){return typeof e=="string"&&(e[0]==="'"||e[0]==='"')&&e[e.length-1]===e[0]?e.substring(1,e.length-1):e}var zs=require("fs");var Us=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12;if(process&&process.version&&Number(process.version.match(/v([^.]+)/)[1])<Us)throw Error(`yargs parser supports a minimum Node.js version of ${Us}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var wu=process?process.env:{},qs=new fr({cwd:process.cwd,env:()=>wu,format:Ws.format,normalize:bn.normalize,resolve:bn.resolve,require:e=>{if(typeof require<"u")return require(e);if(e.match(/\.json$/))return JSON.parse((0,zs.readFileSync)(e,"utf8"));throw Error("only .json config files are supported in ESM")}}),Ke=function(t,n){return qs.parse(t.slice(),n).argv};Ke.detailed=function(e,t){return qs.parse(e.slice(),t)};Ke.camelCase=ge;Ke.decamelize=mn;Ke.looksLikeNumber=gn;var hr=Ke;var qt=require("path");function Hs(){return Ou()?0:1}function Ou(){return Cu()&&!process.defaultApp}function Cu(){return!!process.versions.electron}function pr(e){return e.slice(Hs()+1)}function Vs(){return process.argv[Hs()]}var et=class extends Error{constructor(t){super(t||"yargs error");this.name="YError",Error.captureStackTrace(this,et)}};var Ne=require("fs"),Ys=require("util"),Ks=require("path"),Xs={fs:{readFileSync:Ne.readFileSync,writeFile:Ne.writeFile},format:Ys.format,resolve:Ks.resolve,exists:e=>{try{return(0,Ne.statSync)(e).isFile()}catch{return!1}}};var zt,Qs=class{constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let n=t.shift(),r=function(){};return typeof t[t.length-1]=="function"&&(r=t.pop()),r=r||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]=n,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:r})):r(),zt.format.apply(zt.format,[this.cache[this.locale][n]||n].concat(t))}__n(){let t=Array.prototype.slice.call(arguments),n=t.shift(),r=t.shift(),s=t.shift(),i=function(){};typeof t[t.length-1]=="function"&&(i=t.pop()),this.cache[this.locale]||this._readLocaleFile();let o=s===1?n:r;this.cache[this.locale][n]&&(o=this.cache[this.locale][n][s===1?"one":"other"]),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]={one:n,other:r},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:i})):i();let u=[o];return~o.indexOf("%d")&&u.push(s),zt.format.apply(zt.format,u.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this.cache[this.locale][n]=t[n])}_taggedLiteral(t,...n){let r="";return t.forEach(function(s,i){let o=n[i+1];r+=s,typeof o<"u"&&(r+="%s")}),this.__.apply(this,[r].concat([].slice.call(n,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let t=this,n=this.writeQueue[0],r=n.directory,s=n.locale,i=n.cb,o=this._resolveLocaleFile(r,s),u=JSON.stringify(this.cache[s],null,2);zt.fs.writeFile(o,u,"utf-8",function(h){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),i(h)})}_readLocaleFile(){let t={},n=this._resolveLocaleFile(this.directory,this.locale);try{zt.fs.readFileSync&&(t=JSON.parse(zt.fs.readFileSync(n,"utf-8")))}catch(r){if(r instanceof SyntaxError&&(r.message="syntax error in "+n),r.code==="ENOENT")t={};else throw r}this.cache[this.locale]=t}_resolveLocaleFile(t,n){let r=zt.resolve(t,"./",n+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(r)&&~n.lastIndexOf("_")){let s=zt.resolve(t,"./",n.split("_")[0]+".json");this._fileExistsSync(s)&&(r=s)}return r}_fileExistsSync(t){return zt.exists(t)}};function Js(e,t){zt=t;let n=new Qs(e);return{__:n.__.bind(n),__n:n.__n.bind(n),setLocale:n.setLocale.bind(n),getLocale:n.getLocale.bind(n),updateLocale:n.updateLocale.bind(n),locale:n.locale}}var Tu=e=>Js(e,Xs),Zs=Tu;var Su={},vu="require is not supported by ESM",ti="loading a directory of commands is not supported yet for ESM",yn;try{yn=(0,ri.fileURLToPath)(Su.url)}catch{yn=process.cwd()}var Au=yn.split("node_modules")[0],dr={assert:{notStrictEqual:_n.notStrictEqual,strictEqual:_n.strictEqual},cliui:ur,findUp:Ds,getEnv:e=>process.env[e],inspect:ei.inspect,getCallerFile:()=>{throw new et(ti)},getProcessArgvBin:Vs,mainFilename:Au||process.cwd(),Parser:hr,path:{basename:qt.basename,dirname:qt.dirname,extname:qt.extname,relative:qt.relative,resolve:qt.resolve},process:{argv:()=>process.argv,cwd:process.cwd,emitWarning:(e,t)=>process.emitWarning(e,t),execPath:()=>process.execPath,exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<"u"?process.stdout.columns:null},readFileSync:ni.readFileSync,require:()=>{throw new et(vu)},requireDirectory:()=>{throw new et(ti)},stringWidth:e=>[...e].length,y18n:Zs({directory:(0,qt.resolve)(yn,"../../../locales"),updateFiles:!1})};function Ct(e,t,n,r){n.assert.notStrictEqual(e,t,r)}function mr(e,t){t.assert.strictEqual(typeof e,"string")}function Fe(e){return Object.keys(e)}function ot(e){return!!e&&!!e.then&&typeof e.then=="function"}function se(e){let n=e.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),r=/\.*[\][<>]/g,s=n.shift();if(!s)throw new Error(`No command found in: ${e}`);let i={cmd:s.replace(r,""),demanded:[],optional:[]};return n.forEach((o,u)=>{let h=!1;o=o.replace(/\s/g,""),/\.+[\]>]/.test(o)&&u===n.length-1&&(h=!0),/^\[/.test(o)?i.optional.push({cmd:o.replace(r,"").split("|"),variadic:h}):i.demanded.push({cmd:o.replace(r,"").split("|"),variadic:h})}),i}var Iu=["first","second","third","fourth","fifth","sixth"];function x(e,t,n){function r(){return typeof e=="object"?[{demanded:[],optional:[]},e,t]:[se(`cmd ${e}`),t,n]}try{let s=0,[i,o,u]=r(),h=[].slice.call(o);for(;h.length&&h[h.length-1]===void 0;)h.pop();let y=u||h.length;if(y<i.demanded.length)throw new et(`Not enough arguments provided. Expected ${i.demanded.length} but received ${h.length}.`);let p=i.demanded.length+i.optional.length;if(y>p)throw new et(`Too many arguments provided. Expected max ${p} but received ${y}.`);i.demanded.forEach(l=>{let m=h.shift(),b=si(m);l.cmd.filter(w=>w===b||w==="*").length===0&&ii(b,l.cmd,s),s+=1}),i.optional.forEach(l=>{if(h.length===0)return;let m=h.shift(),b=si(m);l.cmd.filter(w=>w===b||w==="*").length===0&&ii(b,l.cmd,s),s+=1})}catch(s){console.warn(s.stack)}}function si(e){return Array.isArray(e)?"array":e===null?"null":typeof e}function ii(e,t,n){throw new et(`Invalid ${Iu[n]||"manyith"} argument. Expected ${t.join(" or ")} but received ${e}.`)}var gr=class{constructor(t){this.globalMiddleware=[],this.frozens=[],this.yargs=t}addMiddleware(t,n,r=!0,s=!1){if(x("<array|function> [boolean] [boolean] [boolean]",[t,n,r],arguments.length),Array.isArray(t)){for(let i=0;i<t.length;i++){if(typeof t[i]!="function")throw Error("middleware must be a function");let o=t[i];o.applyBeforeValidation=n,o.global=r}Array.prototype.push.apply(this.globalMiddleware,t)}else if(typeof t=="function"){let i=t;i.applyBeforeValidation=n,i.global=r,i.mutates=s,this.globalMiddleware.push(t)}return this.yargs}addCoerceMiddleware(t,n){let r=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(s=>{let i=[...r[n]||[],n];return s.option?!i.includes(s.option):!0}),t.option=n,this.addMiddleware(t,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let t=this.frozens.pop();t!==void 0&&(this.globalMiddleware=t)}reset(){this.globalMiddleware=this.globalMiddleware.filter(t=>t.global)}};function oi(e){return e?e.map(t=>(t.applyBeforeValidation=!1,t)):[]}function be(e,t,n,r){return n.reduce((s,i)=>{if(i.applyBeforeValidation!==r)return s;if(i.mutates){if(i.applied)return s;i.applied=!0}if(ot(s))return s.then(o=>Promise.all([o,i(o,t)])).then(([o,u])=>Object.assign(o,u));{let o=i(s,t);return ot(o)?o.then(u=>Object.assign(s,u)):Object.assign(s,o)}},e)}function ye(e,t,n=r=>{throw r}){try{let r=xu(e)?e():e;return ot(r)?r.then(s=>t(s)):t(r)}catch(r){return n(r)}}function xu(e){return typeof e=="function"}function br(e){if(typeof require>"u")return null;for(let t=0,n=Object.keys(require.cache),r;t<n.length;t++)if(r=require.cache[n[t]],r.exports===e)return r;return null}var $e=/(^\*)|(^\$0)/,ci=class{constructor(t,n,r,s){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=s,this.usage=t,this.globalMiddleware=r,this.validation=n}addDirectory(t,n,r,s){s=s||{},typeof s.recurse!="boolean"&&(s.recurse=!1),Array.isArray(s.extensions)||(s.extensions=["js"]);let i=typeof s.visit=="function"?s.visit:o=>o;s.visit=(o,u,h)=>{let y=i(o,u,h);if(y){if(this.requireCache.has(u))return y;this.requireCache.add(u),this.addHandler(y)}return y},this.shim.requireDirectory({require:n,filename:r},t,s)}addHandler(t,n,r,s,i,o){let u=[],h=oi(i);if(s=s||(()=>{}),Array.isArray(t))if(Ru(t))[t,...u]=t;else for(let y of t)this.addHandler(y);else if(ju(t)){let y=Array.isArray(t.command)||typeof t.command=="string"?t.command:this.moduleName(t);t.aliases&&(y=[].concat(y).concat(t.aliases)),this.addHandler(y,this.extractDesc(t),t.builder,t.handler,t.middlewares,t.deprecated);return}else if(ai(r)){this.addHandler([t].concat(u),n,r.builder,r.handler,r.middlewares,r.deprecated);return}if(typeof t=="string"){let y=se(t);u=u.map(m=>se(m).cmd);let p=!1,l=[y.cmd].concat(u).filter(m=>$e.test(m)?(p=!0,!1):!0);l.length===0&&p&&l.push("$0"),p&&(y.cmd=l[0],u=l.slice(1),t=t.replace($e,y.cmd)),u.forEach(m=>{this.aliasMap[m]=y.cmd}),n!==!1&&this.usage.command(t,n,p,u,o),this.handlers[y.cmd]={original:t,description:n,handler:s,builder:r||{},middlewares:h,deprecated:o,demanded:y.demanded,optional:y.optional},p&&(this.defaultCommand=this.handlers[y.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(t,n,r,s,i,o){let u=this.handlers[t]||this.handlers[this.aliasMap[t]]||this.defaultCommand,h=n.getInternalMethods().getContext(),y=h.commands.slice(),p=!t;t&&(h.commands.push(t),h.fullCommands.push(u.original));let l=this.applyBuilderUpdateUsageAndParse(p,u,n,r.aliases,y,s,i,o);return ot(l)?l.then(m=>this.applyMiddlewareAndGetResult(p,u,m.innerArgv,h,i,m.aliases,n)):this.applyMiddlewareAndGetResult(p,u,l.innerArgv,h,i,l.aliases,n)}applyBuilderUpdateUsageAndParse(t,n,r,s,i,o,u,h){let y=n.builder,p=r;if(En(y)){let l=y(r.getInternalMethods().reset(s),h);if(ot(l))return l.then(m=>(p=li(m)?m:r,this.parseAndUpdateUsage(t,n,p,i,o,u)))}else Pu(y)&&(p=r.getInternalMethods().reset(s),Object.keys(n.builder).forEach(l=>{p.option(l,y[l])}));return this.parseAndUpdateUsage(t,n,p,i,o,u)}parseAndUpdateUsage(t,n,r,s,i,o){t&&r.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(r)&&r.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(s,n),n.description);let u=r.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,i,o);return ot(u)?u.then(h=>({aliases:r.parsed.aliases,innerArgv:h})):{aliases:r.parsed.aliases,innerArgv:u}}shouldUpdateUsage(t){return!t.getInternalMethods().getUsageInstance().getUsageDisabled()&&t.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(t,n){let r=$e.test(n.original)?n.original.replace($e,"").trim():n.original,s=t.filter(i=>!$e.test(i));return s.push(r),`$0 ${s.join(" ")}`}applyMiddlewareAndGetResult(t,n,r,s,i,o,u){let h={};if(i)return r;u.getInternalMethods().getHasOutput()||(h=this.populatePositionals(n,r,s,u));let y=this.globalMiddleware.getMiddleware().slice(0).concat(n.middlewares);if(r=be(r,u,y,!0),!u.getInternalMethods().getHasOutput()){let p=u.getInternalMethods().runValidation(o,h,u.parsed.error,t);r=ye(r,l=>(p(l),l))}if(n.handler&&!u.getInternalMethods().getHasOutput()){u.getInternalMethods().setHasOutput();let p=!!u.getOptions().configuration["populate--"];u.getInternalMethods().postProcess(r,p,!1,!1),r=be(r,u,y,!1),r=ye(r,l=>{let m=n.handler(l);return ot(m)?m.then(()=>l):l}),t||u.getInternalMethods().getUsageInstance().cacheHelpMessage(),ot(r)&&!u.getInternalMethods().hasParseCallback()&&r.catch(l=>{try{u.getInternalMethods().getUsageInstance().fail(null,l)}catch{}})}return t||(s.commands.pop(),s.fullCommands.pop()),r}populatePositionals(t,n,r,s){n._=n._.slice(r.commands.length);let i=t.demanded.slice(0),o=t.optional.slice(0),u={};for(this.validation.positionalCount(i.length,n._.length);i.length;){let h=i.shift();this.populatePositional(h,n,u)}for(;o.length;){let h=o.shift();this.populatePositional(h,n,u)}return n._=r.commands.concat(n._.map(h=>""+h)),this.postProcessPositionals(n,u,this.cmdToParseOptions(t.original),s),u}populatePositional(t,n,r){let s=t.cmd[0];t.variadic?r[s]=n._.splice(0).map(String):n._.length&&(r[s]=[String(n._.shift())])}cmdToParseOptions(t){let n={array:[],default:{},alias:{},demand:{}},r=se(t);return r.demanded.forEach(s=>{let[i,...o]=s.cmd;s.variadic&&(n.array.push(i),n.default[i]=[]),n.alias[i]=o,n.demand[i]=!0}),r.optional.forEach(s=>{let[i,...o]=s.cmd;s.variadic&&(n.array.push(i),n.default[i]=[]),n.alias[i]=o}),n}postProcessPositionals(t,n,r,s){let i=Object.assign({},s.getOptions());i.default=Object.assign(r.default,i.default);for(let y of Object.keys(r.alias))i.alias[y]=(i.alias[y]||[]).concat(r.alias[y]);i.array=i.array.concat(r.array),i.config={};let o=[];if(Object.keys(n).forEach(y=>{n[y].map(p=>{i.configuration["unknown-options-as-args"]&&(i.key[y]=!0),o.push(`--${y}`),o.push(p)})}),!o.length)return;let u=Object.assign({},i.configuration,{"populate--":!1}),h=this.shim.Parser.detailed(o,Object.assign({},i,{configuration:u}));if(h.error)s.getInternalMethods().getUsageInstance().fail(h.error.message,h.error);else{let y=Object.keys(n);Object.keys(n).forEach(l=>{y.push(...h.aliases[l])});let p=s.getOptions().default;Object.keys(h.argv).forEach(l=>{y.includes(l)&&(n[l]||(n[l]=h.argv[l]),!Object.prototype.hasOwnProperty.call(p,l)&&Object.prototype.hasOwnProperty.call(t,l)&&Object.prototype.hasOwnProperty.call(h.argv,l)&&(Array.isArray(t[l])||Array.isArray(h.argv[l]))?t[l]=[].concat(t[l],h.argv[l]):t[l]=h.argv[l])})}}runDefaultBuilderOn(t){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(t)){let r=$e.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");t.getInternalMethods().getUsageInstance().usage(r,this.defaultCommand.description)}let n=this.defaultCommand.builder;if(En(n))return n(t,!0);ai(n)||Object.keys(n).forEach(r=>{t.option(r,n[r])})}moduleName(t){let n=br(t);if(!n)throw new Error(`No command name given for module: ${this.shim.inspect(t)}`);return this.commandFromFilename(n.filename)}commandFromFilename(t){return this.shim.path.basename(t,this.shim.path.extname(t))}extractDesc({describe:t,description:n,desc:r}){for(let s of[t,n,r]){if(typeof s=="string"||s===!1)return s;Ct(s,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let t=this.frozens.pop();Ct(t,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=t}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function ui(e,t,n,r){return new ci(e,t,n,r)}function ai(e){return typeof e=="object"&&!!e.builder&&typeof e.handler=="function"}function Ru(e){return e.every(t=>typeof t=="string")}function En(e){return typeof e=="function"}function Pu(e){return typeof e=="object"}function ju(e){return typeof e=="object"&&!Array.isArray(e)}function ie(e={},t=()=>!0){let n={};return Fe(e).forEach(r=>{t(r,e[r])&&(n[r]=e[r])}),n}function oe(e){typeof process>"u"||[process.stdout,process.stderr].forEach(t=>{let n=t;n._handle&&n.isTTY&&typeof n._handle.setBlocking=="function"&&n._handle.setBlocking(e)})}function ku(e){return typeof e=="boolean"}function hi(e,t){let n=t.y18n.__,r={},s=[];r.failFn=function(O){s.push(O)};let i=null,o=!0;r.showHelpOnFail=function(O=!0,I){function B(){return typeof O=="string"?[!0,O]:[O,I]}let[Z,at]=B();return i=at,o=Z,r};let u=!1;r.fail=function(O,I){let B=e.getInternalMethods().getLoggerInstance();if(s.length)for(let Z=s.length-1;Z>=0;--Z){let at=s[Z];if(ku(at)){if(I)throw I;if(O)throw Error(O)}else at(O,I,r)}else{if(e.getExitProcess()&&oe(!0),u||(u=!0,o&&(e.showHelp("error"),B.error()),(O||I)&&B.error(O||I),i&&((O||I)&&B.error(""),B.error(i))),I=I||new et(O),e.getExitProcess())return e.exit(1);if(e.getInternalMethods().hasParseCallback())return e.exit(1,I);throw I}};let h=[],y=!1;r.usage=(k,O)=>k===null?(y=!0,h=[],r):(y=!1,h.push([k,O||""]),r),r.getUsage=()=>h,r.getUsageDisabled=()=>y,r.getPositionalGroupName=()=>n("Positionals:");let p=[];r.example=(k,O)=>{p.push([k,O||""])};let l=[];r.command=function(O,I,B,Z,at=!1){B&&(l=l.map(V=>(V[2]=!1,V))),l.push([O,I||"",B,Z,at])},r.getCommands=()=>l;let m={};r.describe=function(O,I){Array.isArray(O)?O.forEach(B=>{r.describe(B,I)}):typeof O=="object"?Object.keys(O).forEach(B=>{r.describe(B,O[B])}):m[O]=I},r.getDescriptions=()=>m;let b=[];r.epilog=k=>{b.push(k)};let v=!1,w;r.wrap=k=>{v=!0,w=k};function g(){return v||(w=Bt(),v=!0),w}let D="__yargsString__:";r.deferY18nLookup=k=>D+k,r.help=function(){if(W)return W;Y();let O=e.customScriptName?e.$0:t.path.basename(e.$0),I=e.getDemandedOptions(),B=e.getDemandedCommands(),Z=e.getDeprecatedOptions(),at=e.getGroups(),V=e.getOptions(),ht=[];ht=ht.concat(Object.keys(m)),ht=ht.concat(Object.keys(I)),ht=ht.concat(Object.keys(B)),ht=ht.concat(Object.keys(V.default)),ht=ht.filter(vt),ht=Object.keys(ht.reduce((F,tt)=>(tt!=="_"&&(F[tt]=!0),F),{}));let Zt=g(),nt=t.cliui({width:Zt,wrap:!!Zt});if(!y){if(h.length)h.forEach(F=>{nt.div({text:`${F[0].replace(/\$0/g,O)}`}),F[1]&&nt.div({text:`${F[1]}`,padding:[1,0,0,0]})}),nt.div();else if(l.length){let F=null;B._?F=`${O} <${n("command")}>
`:F=`${O} [${n("command")}]
`,nt.div(`${F}`)}}if(l.length>1||l.length===1&&!l[0][2]){nt.div(n("Commands:"));let F=e.getInternalMethods().getContext(),tt=F.commands.length?`${F.commands.join(" ")} `:"";e.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(l=l.sort((H,st)=>H[0].localeCompare(st[0])));let rt=O?`${O} `:"";l.forEach(H=>{let st=`${rt}${tt}${H[0].replace(/^\$0 ?/,"")}`;nt.span({text:st,padding:[0,2,0,2],width:U(l,Zt,`${O}${tt}`)+4},{text:H[1]});let ct=[];H[2]&&ct.push(`[${n("default")}]`),H[3]&&H[3].length&&ct.push(`[${n("aliases:")} ${H[3].join(", ")}]`),H[4]&&(typeof H[4]=="string"?ct.push(`[${n("deprecated: %s",H[4])}]`):ct.push(`[${n("deprecated")}]`)),ct.length?nt.div({text:ct.join(" "),padding:[0,0,0,2],align:"right"}):nt.div()}),nt.div()}let Ut=(Object.keys(V.alias)||[]).concat(Object.keys(e.parsed.newAliases)||[]);ht=ht.filter(F=>!e.parsed.newAliases[F]&&Ut.every(tt=>(V.alias[tt]||[]).indexOf(F)===-1));let Wt=n("Options:");at[Wt]||(at[Wt]=[]),Q(ht,V.alias,at,Wt);let te=F=>/^--/.test(wn(F)),$=Object.keys(at).filter(F=>at[F].length>0).map(F=>{let tt=at[F].filter(vt).map(rt=>{if(Ut.includes(rt))return rt;for(let H=0,st;(st=Ut[H])!==void 0;H++)if((V.alias[st]||[]).includes(rt))return st;return rt});return{groupName:F,normalizedKeys:tt}}).filter(({normalizedKeys:F})=>F.length>0).map(({groupName:F,normalizedKeys:tt})=>{let rt=tt.reduce((H,st)=>(H[st]=[st].concat(V.alias[st]||[]).map(ct=>F===r.getPositionalGroupName()?ct:(/^[0-9]$/.test(ct)?V.boolean.includes(st)?"-":"--":ct.length>1?"--":"-")+ct).sort((ct,it)=>te(ct)===te(it)?0:te(ct)?1:-1).join(", "),H),{});return{groupName:F,normalizedKeys:tt,switches:rt}});if($.filter(({groupName:F})=>F!==r.getPositionalGroupName()).some(({normalizedKeys:F,switches:tt})=>!F.every(rt=>te(tt[rt])))&&$.filter(({groupName:F})=>F!==r.getPositionalGroupName()).forEach(({normalizedKeys:F,switches:tt})=>{F.forEach(rt=>{te(tt[rt])&&(tt[rt]=Mu(tt[rt],4))})}),$.forEach(({groupName:F,normalizedKeys:tt,switches:rt})=>{nt.div(F),tt.forEach(H=>{let st=rt[H],ct=m[H]||"",it=null;ct.includes(D)&&(ct=n(ct.substring(D.length))),V.boolean.includes(H)&&(it=`[${n("boolean")}]`),V.count.includes(H)&&(it=`[${n("count")}]`),V.string.includes(H)&&(it=`[${n("string")}]`),V.normalize.includes(H)&&(it=`[${n("string")}]`),V.array.includes(H)&&(it=`[${n("array")}]`),V.number.includes(H)&&(it=`[${n("number")}]`);let A=c=>typeof c=="string"?`[${n("deprecated: %s",c)}]`:`[${n("deprecated")}]`,me=[H in Z?A(Z[H]):null,it,H in I?`[${n("required")}]`:null,V.choices&&V.choices[H]?`[${n("choices:")} ${r.stringifiedValues(V.choices[H])}]`:null,wt(V.default[H],V.defaultDescription[H])].filter(Boolean).join(" ");nt.span({text:wn(st),padding:[0,2,0,2+fi(st)],width:U(rt,Zt)+4},ct),me?nt.div({text:me,padding:[0,0,0,2],align:"right"}):nt.div()}),nt.div()}),p.length&&(nt.div(n("Examples:")),p.forEach(F=>{F[0]=F[0].replace(/\$0/g,O)}),p.forEach(F=>{F[1]===""?nt.div({text:F[0],padding:[0,2,0,2]}):nt.div({text:F[0],padding:[0,2,0,2],width:U(p,Zt)+4},{text:F[1]})}),nt.div()),b.length>0){let F=b.map(tt=>tt.replace(/\$0/g,O)).join(`
`);nt.div(`${F}
`)}return nt.toString().replace(/\s*$/,"")};function U(k,O,I){let B=0;return Array.isArray(k)||(k=Object.values(k).map(Z=>[Z])),k.forEach(Z=>{B=Math.max(t.stringWidth(I?`${I} ${wn(Z[0])}`:wn(Z[0]))+fi(Z[0]),B)}),O&&(B=Math.min(B,parseInt((O*.5).toString(),10))),B}function Y(){let k=e.getDemandedOptions(),O=e.getOptions();(Object.keys(O.alias)||[]).forEach(I=>{O.alias[I].forEach(B=>{m[B]&&r.describe(I,m[B]),B in k&&e.demandOption(I,k[B]),O.boolean.includes(B)&&e.boolean(I),O.count.includes(B)&&e.count(I),O.string.includes(B)&&e.string(I),O.normalize.includes(B)&&e.normalize(I),O.array.includes(B)&&e.array(I),O.number.includes(B)&&e.number(I)})})}let W;r.cacheHelpMessage=function(){W=this.help()},r.clearCachedHelpMessage=function(){W=void 0},r.hasCachedHelpMessage=function(){return!!W};function Q(k,O,I,B){let Z=[],at=null;return Object.keys(I).forEach(V=>{Z=Z.concat(I[V])}),k.forEach(V=>{at=[V].concat(O[V]),at.some(ht=>Z.indexOf(ht)!==-1)||I[B].push(V)}),Z}function vt(k){return e.getOptions().hiddenOptions.indexOf(k)<0||e.parsed.argv[e.getOptions().showHiddenOpt]}r.showHelp=k=>{let O=e.getInternalMethods().getLoggerInstance();k||(k="error"),(typeof k=="function"?k:O[k])(r.help())},r.functionDescription=k=>{let O=k.name?t.Parser.decamelize(k.name,"-"):n("generated-value");return["(",O,")"].join("")},r.stringifiedValues=function(O,I){let B="",Z=I||", ",at=[].concat(O);return!O||!at.length||at.forEach(V=>{B.length&&(B+=Z),B+=JSON.stringify(V)}),B};function wt(k,O){let I=`[${n("default:")} `;if(k===void 0&&!O)return null;if(O)I+=O;else switch(typeof k){case"string":I+=`"${k}"`;break;case"object":I+=JSON.stringify(k);break;default:I+=k}return`${I}]`}function Bt(){return t.process.stdColumns?Math.min(80,t.process.stdColumns):80}let Gt=null;r.version=k=>{Gt=k},r.showVersion=k=>{let O=e.getInternalMethods().getLoggerInstance();k||(k="error"),(typeof k=="function"?k:O[k])(Gt)},r.reset=function(O){return i=null,u=!1,h=[],y=!1,b=[],p=[],l=[],m=ie(m,I=>!O[I]),r};let J=[];return r.freeze=function(){J.push({failMessage:i,failureOutput:u,usages:h,usageDisabled:y,epilogs:b,examples:p,commands:l,descriptions:m})},r.unfreeze=function(O=!1){let I=J.pop();!I||(O?(m=ke(ke({},I.descriptions),m),l=[...I.commands,...l],h=[...I.usages,...h],p=[...I.examples,...p],b=[...I.epilogs,...b]):{failMessage:i,failureOutput:u,usages:h,usageDisabled:y,epilogs:b,examples:p,commands:l,descriptions:m}=I)},r}function yr(e){return typeof e=="object"}function Mu(e,t){return yr(e)?{text:e.text,indentation:e.indentation+t}:{text:e,indentation:t}}function fi(e){return yr(e)?e.indentation:0}function wn(e){return yr(e)?e.text:e}var pi=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,di=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zsh_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;var mi=class{constructor(t,n,r,s){var i,o,u;this.yargs=t,this.usage=n,this.command=r,this.shim=s,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(u=((i=this.shim.getEnv("SHELL"))===null||i===void 0?void 0:i.includes("zsh"))||((o=this.shim.getEnv("ZSH_NAME"))===null||o===void 0?void 0:o.includes("zsh")))!==null&&u!==void 0?u:!1}defaultCompletion(t,n,r,s){let i=this.command.getCommandHandlers();for(let u=0,h=t.length;u<h;++u)if(i[t[u]]&&i[t[u]].builder){let y=i[t[u]].builder;if(En(y)){this.indexAfterLastReset=u+1;let p=this.yargs.getInternalMethods().reset();return y(p,!0),p.argv}}let o=[];this.commandCompletions(o,t,r),this.optionCompletions(o,t,n,r),this.choicesFromOptionsCompletions(o,t,n,r),this.choicesFromPositionalsCompletions(o,t,n,r),s(null,o)}commandCompletions(t,n,r){let s=this.yargs.getInternalMethods().getContext().commands;!r.match(/^-/)&&s[s.length-1]!==r&&!this.previousArgHasChoices(n)&&this.usage.getCommands().forEach(i=>{let o=se(i[0]).cmd;if(n.indexOf(o)===-1)if(!this.zshShell)t.push(o);else{let u=i[1]||"";t.push(o.replace(/:/g,"\\:")+":"+u)}})}optionCompletions(t,n,r,s){if((s.match(/^-/)||s===""&&t.length===0)&&!this.previousArgHasChoices(n)){let i=this.yargs.getOptions(),o=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(i.key).forEach(u=>{let h=!!i.configuration["boolean-negation"]&&i.boolean.includes(u);!o.includes(u)&&!this.argsContainKey(n,r,u,h)&&(this.completeOptionKey(u,t,s),h&&!!i.default[u]&&this.completeOptionKey(`no-${u}`,t,s))})}}choicesFromOptionsCompletions(t,n,r,s){if(this.previousArgHasChoices(n)){let i=this.getPreviousArgChoices(n);i&&i.length>0&&t.push(...i)}}choicesFromPositionalsCompletions(t,n,r,s){let i=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],o=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),u=r._.slice(o),h=i[u.length-1];if(!h)return;let y=this.yargs.getOptions().choices[h]||[];for(let p of y)p.startsWith(s)&&t.push(p)}getPreviousArgChoices(t){if(t.length<1)return;let n=t[t.length-1],r="";if(!n.startsWith("-")&&t.length>1&&(r=n,n=t[t.length-2]),!n.startsWith("-"))return;let s=n.replace(/^-+/,""),i=this.yargs.getOptions(),o=[s,...this.yargs.getAliases()[s]||[]],u;for(let h of o)if(Object.prototype.hasOwnProperty.call(i.key,h)&&Array.isArray(i.choices[h])){u=i.choices[h];break}if(u)return u.filter(h=>!r||h.startsWith(r))}previousArgHasChoices(t){let n=this.getPreviousArgChoices(t);return n!==void 0&&n.length>0}argsContainKey(t,n,r,s){if(t.indexOf(`--${r}`)!==-1||s&&t.indexOf(`--no-${r}`)!==-1)return!0;if(this.aliases){for(let i of this.aliases[r])if(n[i]!==void 0)return!0}return!1}completeOptionKey(t,n,r){let s=this.usage.getDescriptions(),i=h=>/^--/.test(h),o=h=>/^[^0-9]$/.test(h),u=!i(r)&&o(t)?"-":"--";if(!this.zshShell)n.push(u+t);else{let h=s[t]||"";n.push(u+`${t.replace(/:/g,"\\:")}:${h.replace("__yargsString__:","")}`)}}customCompletion(t,n,r,s){if(Ct(this.customCompletionFunction,null,this.shim),Fu(this.customCompletionFunction)){let i=this.customCompletionFunction(r,n);return ot(i)?i.then(o=>{this.shim.process.nextTick(()=>{s(null,o)})}).catch(o=>{this.shim.process.nextTick(()=>{s(o,void 0)})}):s(null,i)}else return $u(this.customCompletionFunction)?this.customCompletionFunction(r,n,(i=s)=>this.defaultCompletion(t,n,r,i),i=>{s(null,i)}):this.customCompletionFunction(r,n,i=>{s(null,i)})}getCompletion(t,n){let r=t.length?t[t.length-1]:"",s=this.yargs.parse(t,!0),i=this.customCompletionFunction?o=>this.customCompletion(t,o,r,n):o=>this.defaultCompletion(t,o,r,n);return ot(s)?s.then(i):i(s)}generateCompletionScript(t,n){let r=this.zshShell?di:pi,s=this.shim.path.basename(t);return t.match(/\.js$/)&&(t=`./${t}`),r=r.replace(/{{app_name}}/g,s),r=r.replace(/{{completion_command}}/g,n),r.replace(/{{app_path}}/g,t)}registerFunction(t){this.customCompletionFunction=t}setParsed(t){this.aliases=t.aliases}};function gi(e,t,n,r){return new mi(e,t,n,r)}function Fu(e){return e.length<3}function $u(e){return e.length>3}function bi(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;let n=[],r;for(r=0;r<=t.length;r++)n[r]=[r];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(r=1;r<=t.length;r++)for(s=1;s<=e.length;s++)t.charAt(r-1)===e.charAt(s-1)?n[r][s]=n[r-1][s-1]:r>1&&s>1&&t.charAt(r-2)===e.charAt(s-1)&&t.charAt(r-1)===e.charAt(s-2)?n[r][s]=n[r-2][s-2]+1:n[r][s]=Math.min(n[r-1][s-1]+1,Math.min(n[r][s-1]+1,n[r-1][s]+1));return n[t.length][e.length]}var yi=["$0","--","_"];function _i(e,t,n){let r=n.y18n.__,s=n.y18n.__n,i={};i.nonOptionCount=function(l){let m=e.getDemandedCommands(),v=l._.length+(l["--"]?l["--"].length:0)-e.getInternalMethods().getContext().commands.length;m._&&(v<m._.min||v>m._.max)&&(v<m._.min?m._.minMsg!==void 0?t.fail(m._.minMsg?m._.minMsg.replace(/\$0/g,v.toString()).replace(/\$1/,m._.min.toString()):null):t.fail(s("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",v,v.toString(),m._.min.toString())):v>m._.max&&(m._.maxMsg!==void 0?t.fail(m._.maxMsg?m._.maxMsg.replace(/\$0/g,v.toString()).replace(/\$1/,m._.max.toString()):null):t.fail(s("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",v,v.toString(),m._.max.toString()))))},i.positionalCount=function(l,m){m<l&&t.fail(s("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",m,m+"",l+""))},i.requiredArguments=function(l,m){let b=null;for(let v of Object.keys(m))(!Object.prototype.hasOwnProperty.call(l,v)||typeof l[v]>"u")&&(b=b||{},b[v]=m[v]);if(b){let v=[];for(let g of Object.keys(b)){let D=b[g];D&&v.indexOf(D)<0&&v.push(D)}let w=v.length?`
${v.join(`
`)}`:"";t.fail(s("Missing required argument: %s","Missing required arguments: %s",Object.keys(b).length,Object.keys(b).join(", ")+w))}},i.unknownArguments=function(l,m,b,v,w=!0){var g;let D=e.getInternalMethods().getCommandInstance().getCommands(),U=[],Y=e.getInternalMethods().getContext();if(Object.keys(l).forEach(W=>{!yi.includes(W)&&!Object.prototype.hasOwnProperty.call(b,W)&&!Object.prototype.hasOwnProperty.call(e.getInternalMethods().getParseContext(),W)&&!i.isValidAndSomeAliasIsNotNew(W,m)&&U.push(W)}),w&&(Y.commands.length>0||D.length>0||v)&&l._.slice(Y.commands.length).forEach(W=>{D.includes(""+W)||U.push(""+W)}),w){let Q=((g=e.getDemandedCommands()._)===null||g===void 0?void 0:g.max)||0,vt=Y.commands.length+Q;vt<l._.length&&l._.slice(vt).forEach(wt=>{wt=String(wt),!Y.commands.includes(wt)&&!U.includes(wt)&&U.push(wt)})}U.length&&t.fail(s("Unknown argument: %s","Unknown arguments: %s",U.length,U.map(W=>W.trim()?W:`"${W}"`).join(", ")))},i.unknownCommands=function(l){let m=e.getInternalMethods().getCommandInstance().getCommands(),b=[],v=e.getInternalMethods().getContext();return(v.commands.length>0||m.length>0)&&l._.slice(v.commands.length).forEach(w=>{m.includes(""+w)||b.push(""+w)}),b.length>0?(t.fail(s("Unknown command: %s","Unknown commands: %s",b.length,b.join(", "))),!0):!1},i.isValidAndSomeAliasIsNotNew=function(l,m){if(!Object.prototype.hasOwnProperty.call(m,l))return!1;let b=e.parsed.newAliases;return[l,...m[l]].some(v=>!Object.prototype.hasOwnProperty.call(b,v)||!b[l])},i.limitedChoices=function(l){let m=e.getOptions(),b={};if(!Object.keys(m.choices).length)return;Object.keys(l).forEach(g=>{yi.indexOf(g)===-1&&Object.prototype.hasOwnProperty.call(m.choices,g)&&[].concat(l[g]).forEach(D=>{m.choices[g].indexOf(D)===-1&&D!==void 0&&(b[g]=(b[g]||[]).concat(D))})});let v=Object.keys(b);if(!v.length)return;let w=r("Invalid values:");v.forEach(g=>{w+=`
  ${r("Argument: %s, Given: %s, Choices: %s",g,t.stringifiedValues(b[g]),t.stringifiedValues(m.choices[g]))}`}),t.fail(w)};let o={};i.implies=function(l,m){x("<string|object> [array|number|string]",[l,m],arguments.length),typeof l=="object"?Object.keys(l).forEach(b=>{i.implies(b,l[b])}):(e.global(l),o[l]||(o[l]=[]),Array.isArray(m)?m.forEach(b=>i.implies(l,b)):(Ct(m,void 0,n),o[l].push(m)))},i.getImplied=function(){return o};function u(p,l){let m=Number(l);return l=isNaN(m)?l:m,typeof l=="number"?l=p._.length>=l:l.match(/^--no-.+/)?(l=l.match(/^--no-(.+)/)[1],l=!Object.prototype.hasOwnProperty.call(p,l)):l=Object.prototype.hasOwnProperty.call(p,l),l}i.implications=function(l){let m=[];if(Object.keys(o).forEach(b=>{let v=b;(o[b]||[]).forEach(w=>{let g=v,D=w;g=u(l,g),w=u(l,w),g&&!w&&m.push(` ${v} -> ${D}`)})}),m.length){let b=`${r("Implications failed:")}
`;m.forEach(v=>{b+=v}),t.fail(b)}};let h={};i.conflicts=function(l,m){x("<string|object> [array|string]",[l,m],arguments.length),typeof l=="object"?Object.keys(l).forEach(b=>{i.conflicts(b,l[b])}):(e.global(l),h[l]||(h[l]=[]),Array.isArray(m)?m.forEach(b=>i.conflicts(l,b)):h[l].push(m))},i.getConflicting=()=>h,i.conflicting=function(l){Object.keys(l).forEach(m=>{h[m]&&h[m].forEach(b=>{b&&l[m]!==void 0&&l[b]!==void 0&&t.fail(r("Arguments %s and %s are mutually exclusive",m,b))})}),e.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(h).forEach(m=>{h[m].forEach(b=>{b&&l[n.Parser.camelCase(m)]!==void 0&&l[n.Parser.camelCase(b)]!==void 0&&t.fail(r("Arguments %s and %s are mutually exclusive",m,b))})})},i.recommendCommands=function(l,m){m=m.sort((g,D)=>D.length-g.length);let v=null,w=1/0;for(let g=0,D;(D=m[g])!==void 0;g++){let U=bi(l,D);U<=3&&U<w&&(w=U,v=D)}v&&t.fail(r("Did you mean %s?",v))},i.reset=function(l){return o=ie(o,m=>!l[m]),h=ie(h,m=>!l[m]),i};let y=[];return i.freeze=function(){y.push({implied:o,conflicting:h})},i.unfreeze=function(){let l=y.pop();Ct(l,void 0,n),{implied:o,conflicting:h}=l},i}var _r=[],Xe;function Qe(e,t,n,r){Xe=r;let s={};if(Object.prototype.hasOwnProperty.call(e,"extends")){if(typeof e.extends!="string")return s;let i=/\.json|\..*rc$/.test(e.extends),o=null;if(i)o=Du(t,e.extends);else try{o=require.resolve(e.extends)}catch{return e}Lu(o),_r.push(o),s=i?JSON.parse(Xe.readFileSync(o,"utf8")):require(e.extends),delete e.extends,s=Qe(s,Xe.path.dirname(o),n,Xe)}return _r=[],n?Ei(s,e):Object.assign({},s,e)}function Lu(e){if(_r.indexOf(e)>-1)throw new et(`Circular extended configurations: '${e}'.`)}function Du(e,t){return Xe.path.resolve(e,t)}function Ei(e,t){let n={};function r(s){return s&&typeof s=="object"&&!Array.isArray(s)}Object.assign(n,e);for(let s of Object.keys(t))r(t[s])&&r(n[s])?n[s]=Ei(e[s],t[s]):n[s]=t[s];return n}var j=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},a=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},pt,_e,Je,Mt,St,On,ae,Ee,Cn,Nt,Tn,Ft,Xt,It,$t,Le,gt,M,vn,An,xt,we,De,Oe,ce,Sn,L,Ce,Te,ve,G,Qt,lt;function Li(e){return(t=[],n=e.process.cwd(),r)=>{let s=new Di(t,n,r,e);return Object.defineProperty(s,"argv",{get:()=>s.parse(),enumerable:!0}),s.help(),s.version(),s}}var wi=Symbol("copyDoubleDash"),Oi=Symbol("copyDoubleDash"),Er=Symbol("deleteFromParserHintObject"),Ci=Symbol("emitWarning"),Ti=Symbol("freeze"),vi=Symbol("getDollarZero"),Ae=Symbol("getParserConfiguration"),wr=Symbol("guessLocale"),Ai=Symbol("guessVersion"),Si=Symbol("parsePositionalNumbers"),Or=Symbol("pkgUp"),ue=Symbol("populateParserHintArray"),Be=Symbol("populateParserHintSingleValueDictionary"),Cr=Symbol("populateParserHintArrayDictionary"),Tr=Symbol("populateParserHintDictionary"),vr=Symbol("sanitizeKey"),Ar=Symbol("setKey"),Sr=Symbol("unfreeze"),Ii=Symbol("validateAsync"),xi=Symbol("getCommandInstance"),Ri=Symbol("getContext"),Pi=Symbol("getHasOutput"),ji=Symbol("getLoggerInstance"),ki=Symbol("getParseContext"),Mi=Symbol("getUsageInstance"),Ni=Symbol("getValidationInstance"),In=Symbol("hasParseCallback"),Se=Symbol("postProcess"),Fi=Symbol("rebase"),Ir=Symbol("reset"),Ze=Symbol("runYargsParserAndExecuteCommands"),xr=Symbol("runValidation"),$i=Symbol("setHasOutput"),Ie=Symbol("kTrackManuallySetKeys"),Di=class{constructor(t=[],n,r,s){this.customScriptName=!1,this.parsed=!1,pt.set(this,void 0),_e.set(this,void 0),Je.set(this,{commands:[],fullCommands:[]}),Mt.set(this,null),St.set(this,null),On.set(this,"show-hidden"),ae.set(this,null),Ee.set(this,!0),Cn.set(this,{}),Nt.set(this,!0),Tn.set(this,[]),Ft.set(this,void 0),Xt.set(this,{}),It.set(this,!1),$t.set(this,null),Le.set(this,void 0),gt.set(this,""),M.set(this,void 0),vn.set(this,void 0),An.set(this,{}),xt.set(this,null),we.set(this,null),De.set(this,{}),Oe.set(this,{}),ce.set(this,void 0),Sn.set(this,!1),L.set(this,void 0),Ce.set(this,!1),Te.set(this,!1),ve.set(this,!1),G.set(this,void 0),Qt.set(this,null),lt.set(this,void 0),j(this,L,s,"f"),j(this,ce,t,"f"),j(this,_e,n,"f"),j(this,vn,r,"f"),j(this,Ft,new gr(this),"f"),this.$0=this[vi](),this[Ir](),j(this,pt,a(this,pt,"f"),"f"),j(this,G,a(this,G,"f"),"f"),j(this,lt,a(this,lt,"f"),"f"),j(this,M,a(this,M,"f"),"f"),a(this,M,"f").showHiddenOpt=a(this,On,"f"),j(this,Le,this[Oi](),"f")}addHelpOpt(t,n){let r="help";return x("[string|boolean] [string]",[t,n],arguments.length),a(this,$t,"f")&&(this[Er](a(this,$t,"f")),j(this,$t,null,"f")),t===!1&&n===void 0?this:(j(this,$t,typeof t=="string"?t:r,"f"),this.boolean(a(this,$t,"f")),this.describe(a(this,$t,"f"),n||a(this,G,"f").deferY18nLookup("Show help")),this)}help(t,n){return this.addHelpOpt(t,n)}addShowHiddenOpt(t,n){if(x("[string|boolean] [string]",[t,n],arguments.length),t===!1&&n===void 0)return this;let r=typeof t=="string"?t:a(this,On,"f");return this.boolean(r),this.describe(r,n||a(this,G,"f").deferY18nLookup("Show hidden options")),a(this,M,"f").showHiddenOpt=r,this}showHidden(t,n){return this.addShowHiddenOpt(t,n)}alias(t,n){return x("<object|string|array> [string|array]",[t,n],arguments.length),this[Cr](this.alias.bind(this),"alias",t,n),this}array(t){return x("<array|string>",[t],arguments.length),this[ue]("array",t),this[Ie](t),this}boolean(t){return x("<array|string>",[t],arguments.length),this[ue]("boolean",t),this[Ie](t),this}check(t,n){return x("<function> [boolean]",[t,n],arguments.length),this.middleware((r,s)=>ye(()=>t(r,s.getOptions()),i=>(i?(typeof i=="string"||i instanceof Error)&&a(this,G,"f").fail(i.toString(),i):a(this,G,"f").fail(a(this,L,"f").y18n.__("Argument check failed: %s",t.toString())),r),i=>(a(this,G,"f").fail(i.message?i.message:i.toString(),i),r)),!1,n),this}choices(t,n){return x("<object|string|array> [string|array]",[t,n],arguments.length),this[Cr](this.choices.bind(this),"choices",t,n),this}coerce(t,n){if(x("<object|string|array> [function]",[t,n],arguments.length),Array.isArray(t)){if(!n)throw new et("coerce callback must be provided");for(let r of t)this.coerce(r,n);return this}else if(typeof t=="object"){for(let r of Object.keys(t))this.coerce(r,t[r]);return this}if(!n)throw new et("coerce callback must be provided");return a(this,M,"f").key[t]=!0,a(this,Ft,"f").addCoerceMiddleware((r,s)=>{let i;return ye(()=>(i=s.getAliases(),n(r[t])),o=>{if(r[t]=o,i[t])for(let u of i[t])r[u]=o;return r},o=>{throw new et(o.message)})},t),this}conflicts(t,n){return x("<string|object> [string|array]",[t,n],arguments.length),a(this,lt,"f").conflicts(t,n),this}config(t="config",n,r){return x("[object|string] [string|function] [function]",[t,n,r],arguments.length),typeof t=="object"&&!Array.isArray(t)?(t=Qe(t,a(this,_e,"f"),this[Ae]()["deep-merge-config"]||!1,a(this,L,"f")),a(this,M,"f").configObjects=(a(this,M,"f").configObjects||[]).concat(t),this):(typeof n=="function"&&(r=n,n=void 0),this.describe(t,n||a(this,G,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(t)?t:[t]).forEach(s=>{a(this,M,"f").config[s]=r||!0}),this)}completion(t,n,r){return x("[string] [string|boolean|function] [function]",[t,n,r],arguments.length),typeof n=="function"&&(r=n,n=void 0),j(this,St,t||a(this,St,"f")||"completion","f"),!n&&n!==!1&&(n="generate completion script"),this.command(a(this,St,"f"),n),r&&a(this,Mt,"f").registerFunction(r),this}command(t,n,r,s,i,o){return x("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[t,n,r,s,i,o],arguments.length),a(this,pt,"f").addHandler(t,n,r,s,i,o),this}commands(t,n,r,s,i,o){return this.command(t,n,r,s,i,o)}commandDir(t,n){x("<string> [object]",[t,n],arguments.length);let r=a(this,vn,"f")||a(this,L,"f").require;return a(this,pt,"f").addDirectory(t,r,a(this,L,"f").getCallerFile(),n),this}count(t){return x("<array|string>",[t],arguments.length),this[ue]("count",t),this[Ie](t),this}default(t,n,r){return x("<object|string|array> [*] [string]",[t,n,r],arguments.length),r&&(mr(t,a(this,L,"f")),a(this,M,"f").defaultDescription[t]=r),typeof n=="function"&&(mr(t,a(this,L,"f")),a(this,M,"f").defaultDescription[t]||(a(this,M,"f").defaultDescription[t]=a(this,G,"f").functionDescription(n)),n=n.call()),this[Be](this.default.bind(this),"default",t,n),this}defaults(t,n,r){return this.default(t,n,r)}demandCommand(t=1,n,r,s){return x("[number] [number|string] [string|null|undefined] [string|null|undefined]",[t,n,r,s],arguments.length),typeof n!="number"&&(r=n,n=1/0),this.global("_",!1),a(this,M,"f").demandedCommands._={min:t,max:n,minMsg:r,maxMsg:s},this}demand(t,n,r){return Array.isArray(n)?(n.forEach(s=>{Ct(r,!0,a(this,L,"f")),this.demandOption(s,r)}),n=1/0):typeof n!="number"&&(r=n,n=1/0),typeof t=="number"?(Ct(r,!0,a(this,L,"f")),this.demandCommand(t,n,r,r)):Array.isArray(t)?t.forEach(s=>{Ct(r,!0,a(this,L,"f")),this.demandOption(s,r)}):typeof r=="string"?this.demandOption(t,r):(r===!0||typeof r>"u")&&this.demandOption(t),this}demandOption(t,n){return x("<object|string|array> [string]",[t,n],arguments.length),this[Be](this.demandOption.bind(this),"demandedOptions",t,n),this}deprecateOption(t,n){return x("<string> [string|boolean]",[t,n],arguments.length),a(this,M,"f").deprecatedOptions[t]=n,this}describe(t,n){return x("<object|string|array> [string]",[t,n],arguments.length),this[Ar](t,!0),a(this,G,"f").describe(t,n),this}detectLocale(t){return x("<boolean>",[t],arguments.length),j(this,Ee,t,"f"),this}env(t){return x("[string|boolean]",[t],arguments.length),t===!1?delete a(this,M,"f").envPrefix:a(this,M,"f").envPrefix=t||"",this}epilogue(t){return x("<string>",[t],arguments.length),a(this,G,"f").epilog(t),this}epilog(t){return this.epilogue(t)}example(t,n){return x("<string|array> [string]",[t,n],arguments.length),Array.isArray(t)?t.forEach(r=>this.example(...r)):a(this,G,"f").example(t,n),this}exit(t,n){j(this,It,!0,"f"),j(this,ae,n,"f"),a(this,Nt,"f")&&a(this,L,"f").process.exit(t)}exitProcess(t=!0){return x("[boolean]",[t],arguments.length),j(this,Nt,t,"f"),this}fail(t){if(x("<function|boolean>",[t],arguments.length),typeof t=="boolean"&&t!==!1)throw new et("Invalid first argument. Expected function or boolean 'false'");return a(this,G,"f").failFn(t),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(t,n){return x("<array> [function]",[t,n],arguments.length),n?a(this,Mt,"f").getCompletion(t,n):new Promise((r,s)=>{a(this,Mt,"f").getCompletion(t,(i,o)=>{i?s(i):r(o)})})}getDemandedOptions(){return x([],0),a(this,M,"f").demandedOptions}getDemandedCommands(){return x([],0),a(this,M,"f").demandedCommands}getDeprecatedOptions(){return x([],0),a(this,M,"f").deprecatedOptions}getDetectLocale(){return a(this,Ee,"f")}getExitProcess(){return a(this,Nt,"f")}getGroups(){return Object.assign({},a(this,Xt,"f"),a(this,Oe,"f"))}getHelp(){if(j(this,It,!0,"f"),!a(this,G,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[Ze](a(this,ce,"f"),void 0,void 0,0,!0);if(ot(n))return n.then(()=>a(this,G,"f").help())}let t=a(this,pt,"f").runDefaultBuilderOn(this);if(ot(t))return t.then(()=>a(this,G,"f").help())}return Promise.resolve(a(this,G,"f").help())}getOptions(){return a(this,M,"f")}getStrict(){return a(this,Ce,"f")}getStrictCommands(){return a(this,Te,"f")}getStrictOptions(){return a(this,ve,"f")}global(t,n){return x("<string|array> [boolean]",[t,n],arguments.length),t=[].concat(t),n!==!1?a(this,M,"f").local=a(this,M,"f").local.filter(r=>t.indexOf(r)===-1):t.forEach(r=>{a(this,M,"f").local.includes(r)||a(this,M,"f").local.push(r)}),this}group(t,n){x("<string|array> <string>",[t,n],arguments.length);let r=a(this,Oe,"f")[n]||a(this,Xt,"f")[n];a(this,Oe,"f")[n]&&delete a(this,Oe,"f")[n];let s={};return a(this,Xt,"f")[n]=(r||[]).concat(t).filter(i=>s[i]?!1:s[i]=!0),this}hide(t){return x("<string>",[t],arguments.length),a(this,M,"f").hiddenOptions.push(t),this}implies(t,n){return x("<string|object> [number|string|array]",[t,n],arguments.length),a(this,lt,"f").implies(t,n),this}locale(t){return x("[string]",[t],arguments.length),t?(j(this,Ee,!1,"f"),a(this,L,"f").y18n.setLocale(t),this):(this[wr](),a(this,L,"f").y18n.getLocale())}middleware(t,n,r){return a(this,Ft,"f").addMiddleware(t,!!n,r)}nargs(t,n){return x("<string|object|array> [number]",[t,n],arguments.length),this[Be](this.nargs.bind(this),"narg",t,n),this}normalize(t){return x("<array|string>",[t],arguments.length),this[ue]("normalize",t),this}number(t){return x("<array|string>",[t],arguments.length),this[ue]("number",t),this[Ie](t),this}option(t,n){if(x("<string|object> [object]",[t,n],arguments.length),typeof t=="object")Object.keys(t).forEach(r=>{this.options(r,t[r])});else{typeof n!="object"&&(n={}),this[Ie](t),a(this,Qt,"f")&&(t==="version"||(n==null?void 0:n.alias)==="version")&&this[Ci](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),a(this,M,"f").key[t]=!0,n.alias&&this.alias(t,n.alias);let r=n.deprecate||n.deprecated;r&&this.deprecateOption(t,r);let s=n.demand||n.required||n.require;s&&this.demand(t,s),n.demandOption&&this.demandOption(t,typeof n.demandOption=="string"?n.demandOption:void 0),n.conflicts&&this.conflicts(t,n.conflicts),"default"in n&&this.default(t,n.default),n.implies!==void 0&&this.implies(t,n.implies),n.nargs!==void 0&&this.nargs(t,n.nargs),n.config&&this.config(t,n.configParser),n.normalize&&this.normalize(t),n.choices&&this.choices(t,n.choices),n.coerce&&this.coerce(t,n.coerce),n.group&&this.group(t,n.group),(n.boolean||n.type==="boolean")&&(this.boolean(t),n.alias&&this.boolean(n.alias)),(n.array||n.type==="array")&&(this.array(t),n.alias&&this.array(n.alias)),(n.number||n.type==="number")&&(this.number(t),n.alias&&this.number(n.alias)),(n.string||n.type==="string")&&(this.string(t),n.alias&&this.string(n.alias)),(n.count||n.type==="count")&&this.count(t),typeof n.global=="boolean"&&this.global(t,n.global),n.defaultDescription&&(a(this,M,"f").defaultDescription[t]=n.defaultDescription),n.skipValidation&&this.skipValidation(t);let i=n.describe||n.description||n.desc;this.describe(t,i),n.hidden&&this.hide(t),n.requiresArg&&this.requiresArg(t)}return this}options(t,n){return this.option(t,n)}parse(t,n,r){x("[string|array] [function|boolean|object] [function]",[t,n,r],arguments.length),this[Ti](),typeof t>"u"&&(t=a(this,ce,"f")),typeof n=="object"&&(j(this,we,n,"f"),n=r),typeof n=="function"&&(j(this,xt,n,"f"),n=!1),n||j(this,ce,t,"f"),a(this,xt,"f")&&j(this,Nt,!1,"f");let s=this[Ze](t,!!n),i=this.parsed;return a(this,Mt,"f").setParsed(this.parsed),ot(s)?s.then(o=>(a(this,xt,"f")&&a(this,xt,"f").call(this,a(this,ae,"f"),o,a(this,gt,"f")),o)).catch(o=>{throw a(this,xt,"f")&&a(this,xt,"f")(o,this.parsed.argv,a(this,gt,"f")),o}).finally(()=>{this[Sr](),this.parsed=i}):(a(this,xt,"f")&&a(this,xt,"f").call(this,a(this,ae,"f"),s,a(this,gt,"f")),this[Sr](),this.parsed=i,s)}parseAsync(t,n,r){let s=this.parse(t,n,r);return ot(s)?s:Promise.resolve(s)}parseSync(t,n,r){let s=this.parse(t,n,r);if(ot(s))throw new et(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return s}parserConfiguration(t){return x("<object>",[t],arguments.length),j(this,An,t,"f"),this}pkgConf(t,n){x("<string> [string]",[t,n],arguments.length);let r=null,s=this[Or](n||a(this,_e,"f"));return s[t]&&typeof s[t]=="object"&&(r=Qe(s[t],n||a(this,_e,"f"),this[Ae]()["deep-merge-config"]||!1,a(this,L,"f")),a(this,M,"f").configObjects=(a(this,M,"f").configObjects||[]).concat(r)),this}positional(t,n){x("<string> <object>",[t,n],arguments.length);let r=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];n=ie(n,(o,u)=>o==="type"&&!["string","number","boolean"].includes(u)?!1:r.includes(o));let s=a(this,Je,"f").fullCommands[a(this,Je,"f").fullCommands.length-1],i=s?a(this,pt,"f").cmdToParseOptions(s):{array:[],alias:{},default:{},demand:{}};return Fe(i).forEach(o=>{let u=i[o];Array.isArray(u)?u.indexOf(t)!==-1&&(n[o]=!0):u[t]&&!(o in n)&&(n[o]=u[t])}),this.group(t,a(this,G,"f").getPositionalGroupName()),this.option(t,n)}recommendCommands(t=!0){return x("[boolean]",[t],arguments.length),j(this,Sn,t,"f"),this}required(t,n,r){return this.demand(t,n,r)}require(t,n,r){return this.demand(t,n,r)}requiresArg(t){return x("<array|string|object> [number]",[t],arguments.length),typeof t=="string"&&a(this,M,"f").narg[t]?this:(this[Be](this.requiresArg.bind(this),"narg",t,NaN),this)}showCompletionScript(t,n){return x("[string] [string]",[t,n],arguments.length),t=t||this.$0,a(this,Le,"f").log(a(this,Mt,"f").generateCompletionScript(t,n||a(this,St,"f")||"completion")),this}showHelp(t){if(x("[string|function]",[t],arguments.length),j(this,It,!0,"f"),!a(this,G,"f").hasCachedHelpMessage()){if(!this.parsed){let r=this[Ze](a(this,ce,"f"),void 0,void 0,0,!0);if(ot(r))return r.then(()=>{a(this,G,"f").showHelp(t)}),this}let n=a(this,pt,"f").runDefaultBuilderOn(this);if(ot(n))return n.then(()=>{a(this,G,"f").showHelp(t)}),this}return a(this,G,"f").showHelp(t),this}scriptName(t){return this.customScriptName=!0,this.$0=t,this}showHelpOnFail(t,n){return x("[boolean|string] [string]",[t,n],arguments.length),a(this,G,"f").showHelpOnFail(t,n),this}showVersion(t){return x("[string|function]",[t],arguments.length),a(this,G,"f").showVersion(t),this}skipValidation(t){return x("<array|string>",[t],arguments.length),this[ue]("skipValidation",t),this}strict(t){return x("[boolean]",[t],arguments.length),j(this,Ce,t!==!1,"f"),this}strictCommands(t){return x("[boolean]",[t],arguments.length),j(this,Te,t!==!1,"f"),this}strictOptions(t){return x("[boolean]",[t],arguments.length),j(this,ve,t!==!1,"f"),this}string(t){return x("<array|string>",[t],arguments.length),this[ue]("string",t),this[Ie](t),this}terminalWidth(){return x([],0),a(this,L,"f").process.stdColumns}updateLocale(t){return this.updateStrings(t)}updateStrings(t){return x("<object>",[t],arguments.length),j(this,Ee,!1,"f"),a(this,L,"f").y18n.updateLocale(t),this}usage(t,n,r,s){if(x("<string|null|undefined> [string|boolean] [function|object] [function]",[t,n,r,s],arguments.length),n!==void 0){if(Ct(t,null,a(this,L,"f")),(t||"").match(/^\$0( |$)/))return this.command(t,n,r,s);throw new et(".usage() description must start with $0 if being used as alias for .command()")}else return a(this,G,"f").usage(t),this}version(t,n,r){let s="version";if(x("[boolean|string] [string] [string]",[t,n,r],arguments.length),a(this,Qt,"f")&&(this[Er](a(this,Qt,"f")),a(this,G,"f").version(void 0),j(this,Qt,null,"f")),arguments.length===0)r=this[Ai](),t=s;else if(arguments.length===1){if(t===!1)return this;r=t,t=s}else arguments.length===2&&(r=n,n=void 0);return j(this,Qt,typeof t=="string"?t:s,"f"),n=n||a(this,G,"f").deferY18nLookup("Show version number"),a(this,G,"f").version(r||void 0),this.boolean(a(this,Qt,"f")),this.describe(a(this,Qt,"f"),n),this}wrap(t){return x("<number|null|undefined>",[t],arguments.length),a(this,G,"f").wrap(t),this}[(pt=new WeakMap,_e=new WeakMap,Je=new WeakMap,Mt=new WeakMap,St=new WeakMap,On=new WeakMap,ae=new WeakMap,Ee=new WeakMap,Cn=new WeakMap,Nt=new WeakMap,Tn=new WeakMap,Ft=new WeakMap,Xt=new WeakMap,It=new WeakMap,$t=new WeakMap,Le=new WeakMap,gt=new WeakMap,M=new WeakMap,vn=new WeakMap,An=new WeakMap,xt=new WeakMap,we=new WeakMap,De=new WeakMap,Oe=new WeakMap,ce=new WeakMap,Sn=new WeakMap,L=new WeakMap,Ce=new WeakMap,Te=new WeakMap,ve=new WeakMap,G=new WeakMap,Qt=new WeakMap,lt=new WeakMap,wi)](t){if(!t._||!t["--"])return t;t._.push.apply(t._,t["--"]);try{delete t["--"]}catch{}return t}[Oi](){return{log:(...t)=>{this[In]()||console.log(...t),j(this,It,!0,"f"),a(this,gt,"f").length&&j(this,gt,a(this,gt,"f")+`
`,"f"),j(this,gt,a(this,gt,"f")+t.join(" "),"f")},error:(...t)=>{this[In]()||console.error(...t),j(this,It,!0,"f"),a(this,gt,"f").length&&j(this,gt,a(this,gt,"f")+`
`,"f"),j(this,gt,a(this,gt,"f")+t.join(" "),"f")}}}[Er](t){Fe(a(this,M,"f")).forEach(n=>{if((s=>s==="configObjects")(n))return;let r=a(this,M,"f")[n];Array.isArray(r)?r.includes(t)&&r.splice(r.indexOf(t),1):typeof r=="object"&&delete r[t]}),delete a(this,G,"f").getDescriptions()[t]}[Ci](t,n,r){a(this,Cn,"f")[r]||(a(this,L,"f").process.emitWarning(t,n),a(this,Cn,"f")[r]=!0)}[Ti](){a(this,Tn,"f").push({options:a(this,M,"f"),configObjects:a(this,M,"f").configObjects.slice(0),exitProcess:a(this,Nt,"f"),groups:a(this,Xt,"f"),strict:a(this,Ce,"f"),strictCommands:a(this,Te,"f"),strictOptions:a(this,ve,"f"),completionCommand:a(this,St,"f"),output:a(this,gt,"f"),exitError:a(this,ae,"f"),hasOutput:a(this,It,"f"),parsed:this.parsed,parseFn:a(this,xt,"f"),parseContext:a(this,we,"f")}),a(this,G,"f").freeze(),a(this,lt,"f").freeze(),a(this,pt,"f").freeze(),a(this,Ft,"f").freeze()}[vi](){let t="",n;return/\b(node|iojs|electron)(\.exe)?$/.test(a(this,L,"f").process.argv()[0])?n=a(this,L,"f").process.argv().slice(1,2):n=a(this,L,"f").process.argv().slice(0,1),t=n.map(r=>{let s=this[Fi](a(this,_e,"f"),r);return r.match(/^(\/|([a-zA-Z]:)?\\)/)&&s.length<r.length?s:r}).join(" ").trim(),a(this,L,"f").getEnv("_")&&a(this,L,"f").getProcessArgvBin()===a(this,L,"f").getEnv("_")&&(t=a(this,L,"f").getEnv("_").replace(`${a(this,L,"f").path.dirname(a(this,L,"f").process.execPath())}/`,"")),t}[Ae](){return a(this,An,"f")}[wr](){if(!a(this,Ee,"f"))return;let t=a(this,L,"f").getEnv("LC_ALL")||a(this,L,"f").getEnv("LC_MESSAGES")||a(this,L,"f").getEnv("LANG")||a(this,L,"f").getEnv("LANGUAGE")||"en_US";this.locale(t.replace(/[.:].*/,""))}[Ai](){return this[Or]().version||"unknown"}[Si](t){let n=t["--"]?t["--"]:t._;for(let r=0,s;(s=n[r])!==void 0;r++)a(this,L,"f").Parser.looksLikeNumber(s)&&Number.isSafeInteger(Math.floor(parseFloat(`${s}`)))&&(n[r]=Number(s));return t}[Or](t){let n=t||"*";if(a(this,De,"f")[n])return a(this,De,"f")[n];let r={};try{let s=t||a(this,L,"f").mainFilename;!t&&a(this,L,"f").path.extname(s)&&(s=a(this,L,"f").path.dirname(s));let i=a(this,L,"f").findUp(s,(o,u)=>{if(u.includes("package.json"))return"package.json"});Ct(i,void 0,a(this,L,"f")),r=JSON.parse(a(this,L,"f").readFileSync(i,"utf8"))}catch{}return a(this,De,"f")[n]=r||{},a(this,De,"f")[n]}[ue](t,n){n=[].concat(n),n.forEach(r=>{r=this[vr](r),a(this,M,"f")[t].push(r)})}[Be](t,n,r,s){this[Tr](t,n,r,s,(i,o,u)=>{a(this,M,"f")[i][o]=u})}[Cr](t,n,r,s){this[Tr](t,n,r,s,(i,o,u)=>{a(this,M,"f")[i][o]=(a(this,M,"f")[i][o]||[]).concat(u)})}[Tr](t,n,r,s,i){if(Array.isArray(r))r.forEach(o=>{t(o,s)});else if((o=>typeof o=="object")(r))for(let o of Fe(r))t(o,r[o]);else i(n,this[vr](r),s)}[vr](t){return t==="__proto__"?"___proto___":t}[Ar](t,n){return this[Be](this[Ar].bind(this),"key",t,n),this}[Sr](){var t,n,r,s,i,o,u,h,y,p,l,m;let b=a(this,Tn,"f").pop();Ct(b,void 0,a(this,L,"f"));let v;t=this,n=this,r=this,s=this,i=this,o=this,u=this,h=this,y=this,p=this,l=this,m=this,{options:{set value(w){j(t,M,w,"f")}}.value,configObjects:v,exitProcess:{set value(w){j(n,Nt,w,"f")}}.value,groups:{set value(w){j(r,Xt,w,"f")}}.value,output:{set value(w){j(s,gt,w,"f")}}.value,exitError:{set value(w){j(i,ae,w,"f")}}.value,hasOutput:{set value(w){j(o,It,w,"f")}}.value,parsed:this.parsed,strict:{set value(w){j(u,Ce,w,"f")}}.value,strictCommands:{set value(w){j(h,Te,w,"f")}}.value,strictOptions:{set value(w){j(y,ve,w,"f")}}.value,completionCommand:{set value(w){j(p,St,w,"f")}}.value,parseFn:{set value(w){j(l,xt,w,"f")}}.value,parseContext:{set value(w){j(m,we,w,"f")}}.value}=b,a(this,M,"f").configObjects=v,a(this,G,"f").unfreeze(),a(this,lt,"f").unfreeze(),a(this,pt,"f").unfreeze(),a(this,Ft,"f").unfreeze()}[Ii](t,n){return ye(n,r=>(t(r),r))}getInternalMethods(){return{getCommandInstance:this[xi].bind(this),getContext:this[Ri].bind(this),getHasOutput:this[Pi].bind(this),getLoggerInstance:this[ji].bind(this),getParseContext:this[ki].bind(this),getParserConfiguration:this[Ae].bind(this),getUsageInstance:this[Mi].bind(this),getValidationInstance:this[Ni].bind(this),hasParseCallback:this[In].bind(this),postProcess:this[Se].bind(this),reset:this[Ir].bind(this),runValidation:this[xr].bind(this),runYargsParserAndExecuteCommands:this[Ze].bind(this),setHasOutput:this[$i].bind(this)}}[xi](){return a(this,pt,"f")}[Ri](){return a(this,Je,"f")}[Pi](){return a(this,It,"f")}[ji](){return a(this,Le,"f")}[ki](){return a(this,we,"f")||{}}[Mi](){return a(this,G,"f")}[Ni](){return a(this,lt,"f")}[In](){return!!a(this,xt,"f")}[Se](t,n,r,s){return r||ot(t)||(n||(t=this[wi](t)),(this[Ae]()["parse-positional-numbers"]||this[Ae]()["parse-positional-numbers"]===void 0)&&(t=this[Si](t)),s&&(t=be(t,this,a(this,Ft,"f").getMiddleware(),!1))),t}[Ir](t={}){j(this,M,a(this,M,"f")||{},"f");let n={};n.local=a(this,M,"f").local||[],n.configObjects=a(this,M,"f").configObjects||[];let r={};n.local.forEach(o=>{r[o]=!0,(t[o]||[]).forEach(u=>{r[u]=!0})}),Object.assign(a(this,Oe,"f"),Object.keys(a(this,Xt,"f")).reduce((o,u)=>{let h=a(this,Xt,"f")[u].filter(y=>!(y in r));return h.length>0&&(o[u]=h),o},{})),j(this,Xt,{},"f");let s=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],i=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return s.forEach(o=>{n[o]=(a(this,M,"f")[o]||[]).filter(u=>!r[u])}),i.forEach(o=>{n[o]=ie(a(this,M,"f")[o],u=>!r[u])}),n.envPrefix=a(this,M,"f").envPrefix,j(this,M,n,"f"),j(this,G,a(this,G,"f")?a(this,G,"f").reset(r):hi(this,a(this,L,"f")),"f"),j(this,lt,a(this,lt,"f")?a(this,lt,"f").reset(r):_i(this,a(this,G,"f"),a(this,L,"f")),"f"),j(this,pt,a(this,pt,"f")?a(this,pt,"f").reset():ui(a(this,G,"f"),a(this,lt,"f"),a(this,Ft,"f"),a(this,L,"f")),"f"),a(this,Mt,"f")||j(this,Mt,gi(this,a(this,G,"f"),a(this,pt,"f"),a(this,L,"f")),"f"),a(this,Ft,"f").reset(),j(this,St,null,"f"),j(this,gt,"","f"),j(this,ae,null,"f"),j(this,It,!1,"f"),this.parsed=!1,this}[Fi](t,n){return a(this,L,"f").path.relative(t,n)}[Ze](t,n,r,s=0,i=!1){let o=!!r||i;t=t||a(this,ce,"f"),a(this,M,"f").__=a(this,L,"f").y18n.__,a(this,M,"f").configuration=this[Ae]();let u=!!a(this,M,"f").configuration["populate--"],h=Object.assign({},a(this,M,"f").configuration,{"populate--":!0}),y=a(this,L,"f").Parser.detailed(t,Object.assign({},a(this,M,"f"),{configuration:ke({"parse-positional-numbers":!1},h)})),p=Object.assign(y.argv,a(this,we,"f")),l,m=y.aliases,b=!1,v=!1;Object.keys(p).forEach(w=>{w===a(this,$t,"f")&&p[w]?b=!0:w===a(this,Qt,"f")&&p[w]&&(v=!0)}),p.$0=this.$0,this.parsed=y,s===0&&a(this,G,"f").clearCachedHelpMessage();try{if(this[wr](),n)return this[Se](p,u,!!r,!1);a(this,$t,"f")&&[a(this,$t,"f")].concat(m[a(this,$t,"f")]||[]).filter(Y=>Y.length>1).includes(""+p._[p._.length-1])&&(p._.pop(),b=!0);let w=a(this,pt,"f").getCommands(),g=a(this,Mt,"f").completionKey in p,D=b||g||i;if(p._.length){if(w.length){let U;for(let Y=s||0,W;p._[Y]!==void 0;Y++)if(W=String(p._[Y]),w.includes(W)&&W!==a(this,St,"f")){let Q=a(this,pt,"f").runCommand(W,this,y,Y+1,i,b||v||i);return this[Se](Q,u,!!r,!1)}else if(!U&&W!==a(this,St,"f")){U=W;break}!a(this,pt,"f").hasDefaultCommand()&&a(this,Sn,"f")&&U&&!D&&a(this,lt,"f").recommendCommands(U,w)}a(this,St,"f")&&p._.includes(a(this,St,"f"))&&!g&&(a(this,Nt,"f")&&oe(!0),this.showCompletionScript(),this.exit(0))}if(a(this,pt,"f").hasDefaultCommand()&&!D){let U=a(this,pt,"f").runCommand(null,this,y,0,i,b||v||i);return this[Se](U,u,!!r,!1)}if(g){a(this,Nt,"f")&&oe(!0),t=[].concat(t);let U=t.slice(t.indexOf(`--${a(this,Mt,"f").completionKey}`)+1);return a(this,Mt,"f").getCompletion(U,(Y,W)=>{if(Y)throw new et(Y.message);(W||[]).forEach(Q=>{a(this,Le,"f").log(Q)}),this.exit(0)}),this[Se](p,!u,!!r,!1)}if(a(this,It,"f")||(b?(a(this,Nt,"f")&&oe(!0),o=!0,this.showHelp("log"),this.exit(0)):v&&(a(this,Nt,"f")&&oe(!0),o=!0,a(this,G,"f").showVersion("log"),this.exit(0))),!o&&a(this,M,"f").skipValidation.length>0&&(o=Object.keys(p).some(U=>a(this,M,"f").skipValidation.indexOf(U)>=0&&p[U]===!0)),!o){if(y.error)throw new et(y.error.message);if(!g){let U=this[xr](m,{},y.error);r||(l=be(p,this,a(this,Ft,"f").getMiddleware(),!0)),l=this[Ii](U,l??p),ot(l)&&!r&&(l=l.then(()=>be(p,this,a(this,Ft,"f").getMiddleware(),!1)))}}}catch(w){if(w instanceof et)a(this,G,"f").fail(w.message,w);else throw w}return this[Se](l??p,u,!!r,!0)}[xr](t,n,r,s){let i=ke({},this.getDemandedOptions());return o=>{if(r)throw new et(r.message);a(this,lt,"f").nonOptionCount(o),a(this,lt,"f").requiredArguments(o,i);let u=!1;a(this,Te,"f")&&(u=a(this,lt,"f").unknownCommands(o)),a(this,Ce,"f")&&!u?a(this,lt,"f").unknownArguments(o,t,n,!!s):a(this,ve,"f")&&a(this,lt,"f").unknownArguments(o,t,{},!1,!1),a(this,lt,"f").limitedChoices(o),a(this,lt,"f").implications(o),a(this,lt,"f").conflicting(o)}}[$i](){j(this,It,!0,"f")}[Ie](t){if(typeof t=="string")a(this,M,"f").key[t]=!0;else for(let n of t)a(this,M,"f").key[n]=!0}};function li(e){return!!e&&typeof e.getInternalMethods=="function"}var Bu=Li(dr),Bi=Bu;var rr=re(Mr());function jn(e,t=""){let[n,r=t]=e.split(":");return{filePath:n,objectPath:r}}var Yn=re(go(),1),Hn=re(Lr(),1),ja=require("child_process"),lc=re(Br(),1),He=re(Br(),1),Vn=Object.defineProperty,Rl=Object.defineProperties,Pl=Object.getOwnPropertyDescriptor,jl=Object.getOwnPropertyDescriptors,ss=Object.getOwnPropertyNames,bo=Object.getOwnPropertySymbols,Wo=Object.prototype.hasOwnProperty,kl=Object.prototype.propertyIsEnumerable,yo=(e,t,n)=>t in e?Vn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jt=(e,t)=>{for(var n in t||(t={}))Wo.call(t,n)&&yo(e,n,t[n]);if(bo)for(var n of bo(t))kl.call(t,n)&&yo(e,n,t[n]);return e},zr=(e,t)=>Rl(e,jl(t)),Ml=e=>Vn(e,"__esModule",{value:!0}),C=(e,t)=>function(){return e&&(t=(0,e[ss(e)[0]])(e=0)),t},Nl=(e,t)=>function(){return t||(0,e[ss(e)[0]])((t={exports:{}}).exports,t),t.exports},ft=(e,t)=>{for(var n in t)Vn(e,n,{get:t[n],enumerable:!0})},Fl=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ss(t))!Wo.call(e,s)&&(n||s!=="default")&&Vn(e,s,{get:()=>t[s],enumerable:!(r=Pl(t,s))||r.enumerable});return e},ut=(e=>(t,n)=>e&&e.get(t)||(n=Fl(Ml({}),t,1),e&&e.set(t,n),n))(typeof WeakMap<"u"?new WeakMap:0),nn=(e,t,n)=>new Promise((r,s)=>{var i=h=>{try{u(n.next(h))}catch(y){s(y)}},o=h=>{try{u(n.throw(h))}catch(y){s(y)}},u=h=>h.done?r(h.value):Promise.resolve(h.value).then(i,o);u((n=n.apply(e,t)).next())}),ne,de=C({"src/lib/errors/git-error.ts"(){ne=class extends Error{constructor(e,t){super(t);this.task=e,Object.setPrototypeOf(this,new.target.prototype)}}}}),on,Ve=C({"src/lib/errors/git-response-error.ts"(){de(),on=class extends ne{constructor(e,t){super(void 0,t||String(e));this.git=e}}}}),zo,qo=C({"src/lib/errors/task-configuration-error.ts"(){de(),zo=class extends ne{constructor(e){super(void 0,e)}}}});function Ho(e){return typeof e=="function"?e:je}function Vo(e){return typeof e=="function"&&e!==je}function Yo(e,t){let n=e.indexOf(t);return n<=0?[e,""]:[e.substr(0,n),e.substr(n+1)]}function Ko(e,t=0){return Xo(e)&&e.length>t?e[t]:void 0}function Pe(e,t=0){if(Xo(e)&&e.length>t)return e[e.length-1-t]}function Xo(e){return!!(e&&typeof e.length=="number")}function an(e="",t=!0,n=`
`){return e.split(n).reduce((r,s)=>{let i=t?s.trim():s;return i&&r.push(i),r},[])}function is(e,t){return an(e,!0).map(n=>t(n))}function os(e){return(0,Yn.exists)(e,Yn.FOLDER)}function K(e,t){return Array.isArray(e)?e.includes(t)||e.push(t):e.add(t),t}function Qo(e,t){return Array.isArray(e)&&!e.includes(t)&&e.push(t),e}function as(e,t){if(Array.isArray(e)){let n=e.indexOf(t);n>=0&&e.splice(n,1)}else e.delete(t);return t}function cn(e){return Array.isArray(e)?e:[e]}function Jo(e){return cn(e).map(String)}function Vt(e,t=0){if(e==null)return t;let n=parseInt(e,10);return isNaN(n)?t:n}function qn(e,t){let n=[];for(let r=0,s=e.length;r<s;r++)n.push(t,e[r]);return n}function rn(e){return(Array.isArray(e)?Buffer.concat(e):e).toString("utf-8")}function Zo(e,t){return Object.assign({},...t.map(n=>n in e?{[n]:e[n]}:{}))}function qr(e=0){return new Promise(t=>setTimeout(t,e))}var Kn,je,un,Xn=C({"src/lib/utils/util.ts"(){Kn="\0",je=()=>{},un=Object.prototype.toString.call.bind(Object.prototype.toString)}});function pe(e,t,n){return t(e)?e:arguments.length>2?n:void 0}function cs(e,t){return/number|string|boolean/.test(typeof e)&&(!t||!t.includes(typeof e))}function us(e){return!!e&&un(e)==="[object Object]"}function ta(e){return typeof e=="function"}var Qn,_t,ea,na,ls,ra=C({"src/lib/utils/argument-filters.ts"(){Xn(),Qn=e=>Array.isArray(e),_t=e=>typeof e=="string",ea=e=>Array.isArray(e)&&e.every(_t),na=e=>_t(e)||Array.isArray(e)&&e.every(_t),ls=e=>e==null||"number|boolean|function".includes(typeof e)?!1:Array.isArray(e)||typeof e=="string"||typeof e.length=="number"}}),Hr,$l=C({"src/lib/utils/exit-codes.ts"(){Hr=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.ERROR=1]="ERROR",e[e.UNCLEAN=128]="UNCLEAN",e))(Hr||{})}}),sn,Ll=C({"src/lib/utils/git-output-streams.ts"(){sn=class{constructor(e,t){this.stdOut=e,this.stdErr=t}asStrings(){return new sn(this.stdOut.toString("utf8"),this.stdErr.toString("utf8"))}}}}),X,he,Dl=C({"src/lib/utils/line-parser.ts"(){X=class{constructor(e,t){this.matches=[],this.parse=(n,r)=>(this.resetMatches(),this._regExp.every((s,i)=>this.addMatch(s,i,n(i)))?this.useMatches(r,this.prepareMatches())!==!1:!1),this._regExp=Array.isArray(e)?e:[e],t&&(this.useMatches=t)}useMatches(e,t){throw new Error("LineParser:useMatches not implemented")}resetMatches(){this.matches.length=0}prepareMatches(){return this.matches}addMatch(e,t,n){let r=n&&e.exec(n);return r&&this.pushMatch(t,r),!!r}pushMatch(e,t){this.matches.push(...t.slice(1))}},he=class extends X{addMatch(e,t,n){return/^remote:\s/.test(String(n))&&super.addMatch(e,t,n)}pushMatch(e,t){(e>0||t.length>1)&&super.pushMatch(e,t)}}}});function sa(...e){let t=process.cwd(),n=Object.assign(Jt({baseDir:t},ia),...e.filter(r=>typeof r=="object"&&r));return n.baseDir=n.baseDir||t,n}var ia,Bl=C({"src/lib/utils/simple-git-options.ts"(){ia={binary:"git",maxConcurrentProcesses:5,config:[]}}});function fs(e,t=[]){return us(e)?Object.keys(e).reduce((n,r)=>{let s=e[r];return cs(s,["boolean"])?n.push(r+"="+s):n.push(r),n},t):t}function fe(e,t=0,n=!1){let r=[];for(let s=0,i=t<0?e.length:t;s<i;s++)"string|number".includes(typeof e[s])&&r.push(String(e[s]));return fs(hs(e),r),n||r.push(...Gl(e)),r}function Gl(e){let t=typeof Pe(e)=="function";return pe(Pe(e,t?1:0),Qn,[])}function hs(e){let t=ta(Pe(e));return pe(Pe(e,t?1:0),us)}function Tt(e,t=!0){let n=Ho(Pe(e));return t||Vo(n)?n:void 0}var Ul=C({"src/lib/utils/task-options.ts"(){ra(),Xn()}});function Vr(e,t){return e(t.stdOut,t.stdErr)}function Kt(e,t,...n){return n.forEach(r=>{for(let s=an(r),i=0,o=s.length;i<o;i++){let u=(h=0)=>{if(!(i+h>=o))return s[i+h]};t.some(({parse:h})=>h(u,e))}}),e}var Wl=C({"src/lib/utils/task-parser.ts"(){Xn()}}),oa={};ft(oa,{ExitCodes:()=>Hr,GitOutputStreams:()=>sn,LineParser:()=>X,NOOP:()=>je,NULL:()=>Kn,RemoteLineParser:()=>he,append:()=>K,appendTaskOptions:()=>fs,asArray:()=>cn,asFunction:()=>Ho,asNumber:()=>Vt,asStringArray:()=>Jo,bufferToString:()=>rn,callTaskParser:()=>Vr,createInstanceConfig:()=>sa,delay:()=>qr,filterArray:()=>Qn,filterFunction:()=>ta,filterHasLength:()=>ls,filterPlainObject:()=>us,filterPrimitives:()=>cs,filterString:()=>_t,filterStringArray:()=>ea,filterStringOrStringArray:()=>na,filterType:()=>pe,first:()=>Ko,folderExists:()=>os,forEachLineWithContent:()=>is,getTrailingOptions:()=>fe,including:()=>Qo,isUserFunction:()=>Vo,last:()=>Pe,objectToString:()=>un,parseStringResponse:()=>Kt,pick:()=>Zo,prefixedArray:()=>qn,remove:()=>as,splitOn:()=>Yo,toLinesWithContent:()=>an,trailingFunctionArgument:()=>Tt,trailingOptionsArgument:()=>hs});var q=C({"src/lib/utils/index.ts"(){ra(),$l(),Ll(),Dl(),Bl(),Ul(),Wl(),Xn()}}),aa={};ft(aa,{CheckRepoActions:()=>Yr,checkIsBareRepoTask:()=>ua,checkIsRepoRootTask:()=>ca,checkIsRepoTask:()=>zl});function zl(e){switch(e){case"bare":return ua();case"root":return ca()}return{commands:["rev-parse","--is-inside-work-tree"],format:"utf-8",onError:Jn,parser:ps}}function ca(){return{commands:["rev-parse","--git-dir"],format:"utf-8",onError:Jn,parser(t){return/^\.(git)?$/.test(t.trim())}}}function ua(){return{commands:["rev-parse","--is-bare-repository"],format:"utf-8",onError:Jn,parser:ps}}function ql(e){return/(Not a git repository|Kein Git-Repository)/i.test(String(e))}var Yr,Jn,ps,la=C({"src/lib/tasks/check-is-repo.ts"(){q(),Yr=(e=>(e.BARE="bare",e.IN_TREE="tree",e.IS_REPO_ROOT="root",e))(Yr||{}),Jn=({exitCode:e},t,n,r)=>{if(e===128&&ql(t))return n(Buffer.from("false"));r(t)},ps=e=>e.trim()==="true"}});function Hl(e,t){let n=new fa(e),r=e?pa:ha;return an(t).forEach(s=>{let i=s.replace(r,"");n.paths.push(i),(da.test(i)?n.folders:n.files).push(i)}),n}var fa,ha,pa,da,Vl=C({"src/lib/responses/CleanSummary.ts"(){q(),fa=class{constructor(e){this.dryRun=e,this.paths=[],this.files=[],this.folders=[]}},ha=/^[a-z]+\s*/i,pa=/^[a-z]+\s+[a-z]+\s*/i,da=/\/$/}}),Kr={};ft(Kr,{EMPTY_COMMANDS:()=>Zn,adhocExecTask:()=>ma,configurationErrorTask:()=>Yt,isBufferTask:()=>ga,isEmptyTask:()=>ba,straightThroughBufferTask:()=>Yl,straightThroughStringTask:()=>Dt});function ma(e){return{commands:Zn,format:"empty",parser:e}}function Yt(e){return{commands:Zn,format:"empty",parser(){throw typeof e=="string"?new zo(e):e}}}function Dt(e,t=!1){return{commands:e,format:"utf-8",parser(n){return t?String(n).trim():n}}}function Yl(e){return{commands:e,format:"buffer",parser(t){return t}}}function ga(e){return e.format==="buffer"}function ba(e){return e.format==="empty"||!e.commands.length}var Zn,Et=C({"src/lib/tasks/task.ts"(){qo(),Zn=[]}}),ya={};ft(ya,{CONFIG_ERROR_INTERACTIVE_MODE:()=>ds,CONFIG_ERROR_MODE_REQUIRED:()=>ms,CONFIG_ERROR_UNKNOWN_OPTION:()=>gs,CleanOptions:()=>Gn,cleanTask:()=>_a,cleanWithOptionsTask:()=>Kl,isCleanOptionsArray:()=>Xl});function Kl(e,t){let{cleanMode:n,options:r,valid:s}=Ql(e);return n?s.options?(r.push(...t),r.some(tf)?Yt(ds):_a(n,r)):Yt(gs+JSON.stringify(e)):Yt(ms)}function _a(e,t){return{commands:["clean",`-${e}`,...t],format:"utf-8",parser(r){return Hl(e==="n",r)}}}function Xl(e){return Array.isArray(e)&&e.every(t=>bs.has(t))}function Ql(e){let t,n=[],r={cleanMode:!1,options:!0};return e.replace(/[^a-z]i/g,"").split("").forEach(s=>{Jl(s)?(t=s,r.cleanMode=!0):r.options=r.options&&Zl(n[n.length]=`-${s}`)}),{cleanMode:t,options:n,valid:r}}function Jl(e){return e==="f"||e==="n"}function Zl(e){return/^-[a-z]$/i.test(e)&&bs.has(e.charAt(1))}function tf(e){return/^-[^\-]/.test(e)?e.indexOf("i")>0:e==="--interactive"}var ds,ms,gs,Gn,bs,Ea=C({"src/lib/tasks/clean.ts"(){Vl(),q(),Et(),ds="Git clean interactive mode is not supported",ms='Git clean mode parameter ("n" or "f") is required',gs="Git clean unknown option found in: ",Gn=(e=>(e.DRY_RUN="n",e.FORCE="f",e.IGNORED_INCLUDED="x",e.IGNORED_ONLY="X",e.EXCLUDING="e",e.QUIET="q",e.RECURSIVE="d",e))(Gn||{}),bs=new Set(["i",...Jo(Object.values(Gn))])}});function ef(e){let t=new Oa;for(let n of wa(e))t.addValue(n.file,String(n.key),n.value);return t}function nf(e,t){let n=null,r=[],s=new Map;for(let i of wa(e,t))i.key===t&&(r.push(n=i.value),s.has(i.file)||s.set(i.file,[]),s.get(i.file).push(n));return{key:t,paths:Array.from(s.keys()),scopes:s,value:n,values:r}}function rf(e){return e.replace(/^(file):/,"")}function*wa(e,t=null){let n=e.split("\0");for(let r=0,s=n.length-1;r<s;){let i=rf(n[r++]),o=n[r++],u=t;if(o.includes(`
`)){let h=Yo(o,`
`);u=h[0],o=h[1]}yield{file:i,key:u,value:o}}}var Oa,sf=C({"src/lib/responses/ConfigList.ts"(){q(),Oa=class{constructor(){this.files=[],this.values=Object.create(null)}get all(){return this._all||(this._all=this.files.reduce((e,t)=>Object.assign(e,this.values[t]),{})),this._all}addFile(e){if(!(e in this.values)){let t=Pe(this.files);this.values[e]=t?Object.create(this.values[t]):{},this.files.push(e)}return this.values[e]}addValue(e,t,n){let r=this.addFile(e);r.hasOwnProperty(t)?Array.isArray(r[t])?r[t].push(n):r[t]=[r[t],n]:r[t]=n,this._all=void 0}}}});function Gr(e,t){return typeof e=="string"&&Xr.hasOwnProperty(e)?e:t}function of(e,t,n,r){let s=["config",`--${r}`];return n&&s.push("--add"),s.push(e,t),{commands:s,format:"utf-8",parser(i){return i}}}function af(e,t){let n=["config","--null","--show-origin","--get-all",e];return t&&n.splice(1,0,`--${t}`),{commands:n,format:"utf-8",parser(r){return nf(r,e)}}}function cf(e){let t=["config","--list","--show-origin","--null"];return e&&t.push(`--${e}`),{commands:t,format:"utf-8",parser(n){return ef(n)}}}function uf(){return{addConfig(e,t,...n){return this._runTask(of(e,t,n[0]===!0,Gr(n[1],"local")),Tt(arguments))},getConfig(e,t){return this._runTask(af(e,Gr(t,void 0)),Tt(arguments))},listConfig(...e){return this._runTask(cf(Gr(e[0],void 0)),Tt(arguments))}}}var Xr,Ca=C({"src/lib/tasks/config.ts"(){sf(),q(),Xr=(e=>(e.system="system",e.global="global",e.local="local",e.worktree="worktree",e))(Xr||{})}});function lf(...e){return new va().param(...e)}function ff(e){let t=new Set,n={};return is(e,r=>{let[s,i,o]=r.split(Kn);t.add(s),(n[s]=n[s]||[]).push({line:Vt(i),path:s,preview:o})}),{paths:t,results:n}}function hf(){return{grep(e){let t=Tt(arguments),n=fe(arguments);for(let s of Ta)if(n.includes(s))return this._runTask(Yt(`git.grep: use of "${s}" is not supported.`),t);typeof e=="string"&&(e=lf().param(e));let r=["grep","--null","-n","--full-name",...n,...e];return this._runTask({commands:r,format:"utf-8",parser(s){return ff(s)}},t)}}}var Ta,en,_o,va,Aa=C({"src/lib/tasks/grep.ts"(){q(),Et(),Ta=["-h"],en=Symbol("grepQuery"),va=class{constructor(){this[_o]=[]}*[(_o=en,Symbol.iterator)](){for(let e of this[en])yield e}and(...e){return e.length&&this[en].push("--and","(",...qn(e,"-e"),")"),this}param(...e){return this[en].push(...qn(e,"-e")),this}}}}),Sa={};ft(Sa,{ResetMode:()=>Un,getResetMode:()=>df,resetTask:()=>pf});function pf(e,t){let n=["reset"];return Ia(e)&&n.push(`--${e}`),n.push(...t),Dt(n)}function df(e){if(Ia(e))return e;switch(typeof e){case"string":case"undefined":return"soft"}}function Ia(e){return xa.includes(e)}var Un,xa,Ra=C({"src/lib/tasks/reset.ts"(){Et(),Un=(e=>(e.MIXED="mixed",e.SOFT="soft",e.HARD="hard",e.MERGE="merge",e.KEEP="keep",e))(Un||{}),xa=Array.from(Object.values(Un))}});function mf(){return(0,Hn.default)("simple-git")}function Eo(e,t,n){return!t||!String(t).replace(/\s*/,"")?n?(r,...s)=>{e(r,...s),n(r,...s)}:e:(r,...s)=>{e(`%s ${r}`,t,...s),n&&n(r,...s)}}function gf(e,t,{namespace:n}){if(typeof e=="string")return e;let r=t&&t.namespace||"";return r.startsWith(n)?r.substr(n.length+1):r||n}function ys(e,t,n,r=mf()){let s=e&&`[${e}]`||"",i=[],o=typeof t=="string"?r.extend(t):t,u=gf(pe(t,_t),o,r);return y(n);function h(p,l){return K(i,ys(e,u.replace(/^[^:]+/,p),l,r))}function y(p){let l=p&&`[${p}]`||"",m=o&&Eo(o,l)||je,b=Eo(r,`${s} ${l}`,m);return Object.assign(o?m:b,{label:e,sibling:h,info:b,step:y})}}var Pa=C({"src/lib/git-logger.ts"(){q(),Hn.default.formatters.L=e=>String(ls(e)?e.length:"-"),Hn.default.formatters.B=e=>Buffer.isBuffer(e)?e.toString("utf8"):un(e)}}),Ln,Qr,bf=C({"src/lib/runners/tasks-pending-queue.ts"(){de(),Pa(),Ln=class{constructor(e="GitExecutor"){this.logLabel=e,this._queue=new Map}withProgress(e){return this._queue.get(e)}createProgress(e){let t=Ln.getName(e.commands[0]),n=ys(this.logLabel,t);return{task:e,logger:n,name:t}}push(e){let t=this.createProgress(e);return t.logger("Adding task to the queue, commands = %o",e.commands),this._queue.set(e,t),t}fatal(e){for(let[t,{logger:n}]of Array.from(this._queue.entries()))t===e.task?(n.info("Failed %o",e),n("Fatal exception, any as-yet un-started tasks run through this executor will not be attempted")):n.info("A fatal exception occurred in a previous task, the queue has been purged: %o",e.message),this.complete(t);if(this._queue.size!==0)throw new Error(`Queue size should be zero after fatal: ${this._queue.size}`)}complete(e){this.withProgress(e)&&this._queue.delete(e)}attempt(e){let t=this.withProgress(e);if(!t)throw new ne(void 0,"TasksPendingQueue: attempt called for an unknown task");return t.logger("Starting task"),t}static getName(e="empty"){return`task:${e}:${++Ln.counter}`}},Qr=Ln,Qr.counter=0}});function Dn(e,t){return{method:Ko(e.commands)||"",commands:t}}function yf(e,t){return n=>{t("[ERROR] child process exception %o",n),e.push(Buffer.from(String(n.stack),"ascii"))}}function wo(e,t,n,r){return s=>{n("%s received %L bytes",t,s),r("%B",s),e.push(s)}}var Jr,_f=C({"src/lib/runners/git-executor-chain.ts"(){de(),Et(),q(),bf(),Jr=class{constructor(e,t,n){this._executor=e,this._scheduler=t,this._plugins=n,this._chain=Promise.resolve(),this._queue=new Qr}get binary(){return this._executor.binary}get cwd(){return this._cwd||this._executor.cwd}set cwd(e){this._cwd=e}get env(){return this._executor.env}get outputHandler(){return this._executor.outputHandler}chain(){return this}push(e){return this._queue.push(e),this._chain=this._chain.then(()=>this.attemptTask(e))}attemptTask(e){return nn(this,null,function*(){let t=yield this._scheduler.next(),n=()=>this._queue.complete(e);try{let{logger:r}=this._queue.attempt(e);return yield ba(e)?this.attemptEmptyTask(e,r):this.attemptRemoteTask(e,r)}catch(r){throw this.onFatalException(e,r)}finally{n(),t()}})}onFatalException(e,t){let n=t instanceof ne?Object.assign(t,{task:e}):new ne(e,t&&String(t));return this._chain=Promise.resolve(),this._queue.fatal(n),n}attemptRemoteTask(e,t){return nn(this,null,function*(){let n=this._plugins.exec("spawn.args",[...e.commands],Dn(e,e.commands)),r=yield this.gitResponse(e,this.binary,n,this.outputHandler,t.step("SPAWN")),s=yield this.handleTaskData(e,n,r,t.step("HANDLE"));return t("passing response to task's parser as a %s",e.format),ga(e)?Vr(e.parser,s):Vr(e.parser,s.asStrings())})}attemptEmptyTask(e,t){return nn(this,null,function*(){return t("empty task bypassing child process to call to task's parser"),e.parser(this)})}handleTaskData(e,t,n,r){let{exitCode:s,rejection:i,stdOut:o,stdErr:u}=n;return new Promise((h,y)=>{r("Preparing to handle process response exitCode=%d stdOut=",s);let{error:p}=this._plugins.exec("task.error",{error:i},Jt(Jt({},Dn(e,t)),n));if(p&&e.onError)return r.info("exitCode=%s handling with custom error handler"),e.onError(n,p,l=>{r.info("custom error handler treated as success"),r("custom error returned a %s",un(l)),h(new sn(Array.isArray(l)?Buffer.concat(l):l,Buffer.concat(u)))},y);if(p)return r.info("handling as error: exitCode=%s stdErr=%s rejection=%o",s,u.length,i),y(p);r.info("retrieving task output complete"),h(new sn(Buffer.concat(o),Buffer.concat(u)))})}gitResponse(e,t,n,r,s){return nn(this,null,function*(){let i=s.sibling("output"),o=this._plugins.exec("spawn.options",{cwd:this.cwd,env:this.env,windowsHide:!0},Dn(e,e.commands));return new Promise(u=>{let h=[],y=[],p;s.info("%s %o",t,n),s("%O",o);let l=(0,ja.spawn)(t,n,o);l.stdout.on("data",wo(h,"stdOut",s,i.step("stdOut"))),l.stderr.on("data",wo(y,"stdErr",s,i.step("stdErr"))),l.on("error",yf(y,s)),r&&(s("Passing child process stdOut/stdErr to custom outputHandler"),r(t,l.stdout,l.stderr,[...n])),this._plugins.exec("spawn.after",void 0,zr(Jt({},Dn(e,n)),{spawned:l,close(m,b){u({stdOut:h,stdErr:y,exitCode:m,rejection:p||b})},kill(m){l.killed||(p=m,l.kill("SIGINT"))}}))})})}}}}),ka={};ft(ka,{GitExecutor:()=>Ma});var Ma,Ef=C({"src/lib/runners/git-executor.ts"(){_f(),Ma=class{constructor(e="git",t,n,r){this.binary=e,this.cwd=t,this._scheduler=n,this._plugins=r,this._chain=new Jr(this,this._scheduler,this._plugins)}chain(){return new Jr(this,this._scheduler,this._plugins)}push(e){return this._chain.push(e)}}}});function wf(e,t,n=je){let r=i=>{n(null,i)},s=i=>{(i==null?void 0:i.task)===e&&n(i instanceof on?Of(i):i,void 0)};t.then(r,s)}function Of(e){let t=r=>{console.warn(`simple-git deprecation notice: accessing GitResponseError.${r} should be GitResponseError.git.${r}, this will no longer be available in version 3`),t=je};return Object.create(e,Object.getOwnPropertyNames(e.git).reduce(n,{}));function n(r,s){return s in e||(r[s]={enumerable:!1,configurable:!1,get(){return t(s),e.git[s]}}),r}}var Cf=C({"src/lib/task-callback.ts"(){Ve(),q()}});function Oo(e,t){return ma(n=>{if(!os(e))throw new Error(`Git.cwd: cannot change to non-directory "${e}"`);return(t||n).cwd=e})}var Tf=C({"src/lib/tasks/change-working-directory.ts"(){q(),Et()}});function vf(e,t){let n=["hash-object",e];return t&&n.push("-w"),Dt(n,!0)}var Af=C({"src/lib/tasks/hash-object.ts"(){Et()}});function Sf(e,t,n){let r=String(n).trim(),s;if(s=Na.exec(r))return new Wn(e,t,!1,s[1]);if(s=Fa.exec(r))return new Wn(e,t,!0,s[1]);let i="",o=r.split(" ");for(;o.length;)if(o.shift()==="in"){i=o.join(" ");break}return new Wn(e,t,/^re/i.test(r),i)}var Wn,Na,Fa,If=C({"src/lib/responses/InitSummary.ts"(){Wn=class{constructor(e,t,n,r){this.bare=e,this.path=t,this.existing=n,this.gitDir=r}},Na=/^Init.+ repository in (.+)$/,Fa=/^Rein.+ in (.+)$/}});function xf(e){return e.includes(_s)}function Rf(e=!1,t,n){let r=["init",...n];return e&&!xf(r)&&r.splice(1,0,_s),{commands:r,format:"utf-8",parser(s){return Sf(r.includes("--bare"),t,s)}}}var _s,Pf=C({"src/lib/tasks/init.ts"(){If(),_s="--bare"}}),$a,jf=C({"src/lib/responses/DiffSummary.ts"(){$a=class{constructor(){this.changed=0,this.deletions=0,this.insertions=0,this.files=[]}}}});function La(e){let t=e.trim().split(`
`),n=new $a;kf(n,t.pop());for(let r=0,s=t.length;r<s;r++){let i=t[r];Nf(i,n)||Ff(i,n)}return n}function kf(e,t){(t||"").trim().split(", ").forEach(function(n){let r=/(\d+)\s([a-z]+)/.exec(n);!r||Mf(e,r[2],parseInt(r[1],10))})}function Mf(e,t,n){let r=/([a-z]+?)s?\b/.exec(t);!r||!Zr[r[1]]||Zr[r[1]](e,n)}function Nf(e,{files:t}){let n=e.trim().match(/^(.+)\s+\|\s+(\d+)(\s+[+\-]+)?$/);if(n){var r=(n[3]||"").trim();return t.push({file:n[1].trim(),changes:parseInt(n[2],10),insertions:r.replace(/-/g,"").length,deletions:r.replace(/\+/g,"").length,binary:!1}),!0}return!1}function Ff(e,{files:t}){let n=e.match(/^(.+) \|\s+Bin ([0-9.]+) -> ([0-9.]+) ([a-z]+)$/);return n?(t.push({file:n[1].trim(),before:+n[2],after:+n[3],binary:!0}),!0):!1}var Zr,Da=C({"src/lib/parsers/parse-diff-summary.ts"(){jf(),Zr={file(e,t){e.changed=t},deletion(e,t){e.deletions=t},insertion(e,t){e.insertions=t}}}});function $f(e,t){return t.reduce((n,r,s)=>(n[r]=e[s]||"",n),Object.create({diff:null}))}function Ba(e=Os,t=Ga){return function(n){let r=an(n,!0,Es).map(function(s){let i=s.trim().split(ws),o=$f(i[0].trim().split(e),t);return i.length>1&&!!i[1].trim()&&(o.diff=La(i[1])),o});return{all:r,latest:r.length&&r[0]||null,total:r.length}}}var Es,ws,Os,Ga,Ua=C({"src/lib/parsers/parse-list-log-summary.ts"(){q(),Da(),Es="\xF2\xF2\xF2\xF2\xF2\xF2 ",ws=" \xF2\xF2",Os=" \xF2 ",Ga=["hash","date","message","refs","author_name","author_email"]}});function Lf(e,t){let n=[],r=[];return Object.keys(e).forEach(s=>{n.push(s),r.push(String(e[s]))}),[n,r.join(t)]}function Df(e){return Object.keys(e).reduce((t,n)=>(n in ts||(t[n]=e[n]),t),{})}function Wa(e={},t=[]){let n=pe(e.splitter,_t,Os),r=!cs(e.format)&&e.format?e.format:{hash:"%H",date:e.strictDate===!1?"%ai":"%aI",message:"%s",refs:"%D",body:e.multiLine?"%B":"%b",author_name:e.mailMap!==!1?"%aN":"%an",author_email:e.mailMap!==!1?"%aE":"%ae"},[s,i]=Lf(r,n),o=[],u=[`--pretty=format:${Es}${i}${ws}`,...t],h=e.n||e["max-count"]||e.maxCount;if(h&&u.push(`--max-count=${h}`),e.from&&e.to){let y=e.symmetric!==!1?"...":"..";o.push(`${e.from}${y}${e.to}`)}return _t(e.file)&&o.push("--follow",e.file),fs(Df(e),u),{fields:s,splitter:n,commands:[...u,...o]}}function Bf(e,t,n){return{commands:["log",...n],format:"utf-8",parser:Ba(e,t)}}function Gf(){return{log(...n){let r=Tt(arguments),s=t(...n)||e(Wa(hs(arguments),pe(arguments[0],Qn)));return this._runTask(s,r)}};function e(n){return Bf(n.splitter,n.fields,n.commands)}function t(n,r){return _t(n)&&_t(r)&&Yt("git.log(string, string) should be replaced with git.log({ from: string, to: string })")}}var ts,za=C({"src/lib/tasks/log.ts"(){Ua(),q(),Et(),ts=(e=>(e[e["--pretty"]=0]="--pretty",e[e["max-count"]=1]="max-count",e[e.maxCount=2]="maxCount",e[e.n=3]="n",e[e.file=4]="file",e[e.format=5]="format",e[e.from=6]="from",e[e.to=7]="to",e[e.splitter=8]="splitter",e[e.symmetric=9]="symmetric",e[e.mailMap=10]="mailMap",e[e.multiLine=11]="multiLine",e[e.strictDate=12]="strictDate",e))(ts||{})}}),zn,qa,Uf=C({"src/lib/responses/MergeSummary.ts"(){zn=class{constructor(e,t=null,n){this.reason=e,this.file=t,this.meta=n}toString(){return`${this.file}:${this.reason}`}},qa=class{constructor(){this.conflicts=[],this.merges=[],this.result="success"}get failed(){return this.conflicts.length>0}get reason(){return this.result}toString(){return this.conflicts.length?`CONFLICTS: ${this.conflicts.join(", ")}`:"OK"}}}}),es,Ha,Wf=C({"src/lib/responses/PullSummary.ts"(){es=class{constructor(){this.remoteMessages={all:[]},this.created=[],this.deleted=[],this.files=[],this.deletions={},this.insertions={},this.summary={changes:0,deletions:0,insertions:0}}},Ha=class{constructor(){this.remote="",this.hash={local:"",remote:""},this.branch={local:"",remote:""},this.message=""}toString(){return this.message}}}});function Ur(e){return e.objects=e.objects||{compressing:0,counting:0,enumerating:0,packReused:0,reused:{count:0,delta:0},total:{count:0,delta:0}}}function Co(e){let t=/^\s*(\d+)/.exec(e),n=/delta (\d+)/i.exec(e);return{count:Vt(t&&t[1]||"0"),delta:Vt(n&&n[1]||"0")}}var Va,zf=C({"src/lib/parsers/parse-remote-objects.ts"(){q(),Va=[new he(/^remote:\s*(enumerating|counting|compressing) objects: (\d+),/i,(e,[t,n])=>{let r=t.toLowerCase(),s=Ur(e.remoteMessages);Object.assign(s,{[r]:Vt(n)})}),new he(/^remote:\s*(enumerating|counting|compressing) objects: \d+% \(\d+\/(\d+)\),/i,(e,[t,n])=>{let r=t.toLowerCase(),s=Ur(e.remoteMessages);Object.assign(s,{[r]:Vt(n)})}),new he(/total ([^,]+), reused ([^,]+), pack-reused (\d+)/i,(e,[t,n,r])=>{let s=Ur(e.remoteMessages);s.total=Co(t),s.reused=Co(n),s.packReused=Vt(r)})]}});function Ya(e,t){return Kt({remoteMessages:new Xa},Ka,t)}var Ka,Xa,Qa=C({"src/lib/parsers/parse-remote-messages.ts"(){q(),zf(),Ka=[new he(/^remote:\s*(.+)$/,(e,[t])=>(e.remoteMessages.all.push(t.trim()),!1)),...Va,new he([/create a (?:pull|merge) request/i,/\s(https?:\/\/\S+)$/],(e,[t])=>{e.remoteMessages.pullRequestUrl=t}),new he([/found (\d+) vulnerabilities.+\(([^)]+)\)/i,/\s(https?:\/\/\S+)$/],(e,[t,n,r])=>{e.remoteMessages.vulnerabilities={count:Vt(t),summary:n,url:r}})],Xa=class{constructor(){this.all=[]}}}});function qf(e,t){let n=Kt(new Ha,Ja,e,t);return n.message&&n}var To,vo,Ao,So,Ja,Io,Cs,Za=C({"src/lib/parsers/parse-pull.ts"(){Wf(),q(),Qa(),To=/^\s*(.+?)\s+\|\s+\d+\s*(\+*)(-*)/,vo=/(\d+)\D+((\d+)\D+\(\+\))?(\D+(\d+)\D+\(-\))?/,Ao=/^(create|delete) mode \d+ (.+)/,So=[new X(To,(e,[t,n,r])=>{e.files.push(t),n&&(e.insertions[t]=n.length),r&&(e.deletions[t]=r.length)}),new X(vo,(e,[t,,n,,r])=>n!==void 0||r!==void 0?(e.summary.changes=+t||0,e.summary.insertions=+n||0,e.summary.deletions=+r||0,!0):!1),new X(Ao,(e,[t,n])=>{K(e.files,n),K(t==="create"?e.created:e.deleted,n)})],Ja=[new X(/^from\s(.+)$/i,(e,[t])=>void(e.remote=t)),new X(/^fatal:\s(.+)$/,(e,[t])=>void(e.message=t)),new X(/([a-z0-9]+)\.\.([a-z0-9]+)\s+(\S+)\s+->\s+(\S+)$/,(e,[t,n,r,s])=>{e.branch.local=r,e.hash.local=t,e.branch.remote=s,e.hash.remote=n})],Io=(e,t)=>Kt(new es,So,e,t),Cs=(e,t)=>Object.assign(new es,Io(e,t),Ya(e,t))}}),xo,tc,Ro,Hf=C({"src/lib/parsers/parse-merge.ts"(){Uf(),q(),Za(),xo=[new X(/^Auto-merging\s+(.+)$/,(e,[t])=>{e.merges.push(t)}),new X(/^CONFLICT\s+\((.+)\): Merge conflict in (.+)$/,(e,[t,n])=>{e.conflicts.push(new zn(t,n))}),new X(/^CONFLICT\s+\((.+\/delete)\): (.+) deleted in (.+) and/,(e,[t,n,r])=>{e.conflicts.push(new zn(t,n,{deleteRef:r}))}),new X(/^CONFLICT\s+\((.+)\):/,(e,[t])=>{e.conflicts.push(new zn(t,null))}),new X(/^Automatic merge failed;\s+(.+)$/,(e,[t])=>{e.result=t})],tc=(e,t)=>Object.assign(Ro(e,t),Cs(e,t)),Ro=e=>Kt(new qa,xo,e)}});function Po(e){return e.length?{commands:["merge",...e],format:"utf-8",parser(t,n){let r=tc(t,n);if(r.failed)throw new on(r);return r}}:Yt("Git.merge requires at least one option")}var Vf=C({"src/lib/tasks/merge.ts"(){Ve(),Hf(),Et()}});function Yf(e,t,n){let r=n.includes("deleted"),s=n.includes("tag")||/^refs\/tags/.test(e),i=!n.includes("new");return{deleted:r,tag:s,branch:!s,new:!i,alreadyUpdated:i,local:e,remote:t}}var jo,ec,ko,Kf=C({"src/lib/parsers/parse-push.ts"(){q(),Qa(),jo=[new X(/^Pushing to (.+)$/,(e,[t])=>{e.repo=t}),new X(/^updating local tracking ref '(.+)'/,(e,[t])=>{e.ref=zr(Jt({},e.ref||{}),{local:t})}),new X(/^[*-=]\s+([^:]+):(\S+)\s+\[(.+)]$/,(e,[t,n,r])=>{e.pushed.push(Yf(t,n,r))}),new X(/^Branch '([^']+)' set up to track remote branch '([^']+)' from '([^']+)'/,(e,[t,n,r])=>{e.branch=zr(Jt({},e.branch||{}),{local:t,remote:n,remoteName:r})}),new X(/^([^:]+):(\S+)\s+([a-z0-9]+)\.\.([a-z0-9]+)$/,(e,[t,n,r,s])=>{e.update={head:{local:t,remote:n},hash:{from:r,to:s}}})],ec=(e,t)=>{let n=ko(e,t),r=Ya(e,t);return Jt(Jt({},n),r)},ko=(e,t)=>Kt({pushed:[]},jo,e,t)}}),nc={};ft(nc,{pushTagsTask:()=>Xf,pushTask:()=>Ts});function Xf(e={},t){return K(t,"--tags"),Ts(e,t)}function Ts(e={},t){let n=["push",...t];return e.branch&&n.splice(1,0,e.branch),e.remote&&n.splice(1,0,e.remote),as(n,"-v"),K(n,"--verbose"),K(n,"--porcelain"),{commands:n,format:"utf-8",parser:ec}}var rc=C({"src/lib/tasks/push.ts"(){Kf(),q()}}),Mo,sc,Qf=C({"src/lib/responses/FileStatusSummary.ts"(){Mo=/^(.+) -> (.+)$/,sc=class{constructor(e,t,n){if(this.path=e,this.index=t,this.working_dir=n,t+n==="R"){let r=Mo.exec(e)||[null,e,e];this.from=r[1]||"",this.path=r[2]||""}}}}});function No(e){let t=/^(.+) -> (.+)$/.exec(e);return t?{from:String(t[1]),to:String(t[2])}:{from:e,to:e}}function jt(e,t,n){return[`${e}${t}`,n]}function Wr(e,...t){return t.map(n=>jt(e,n,(r,s)=>K(r.conflicted,s)))}function Jf(e,t){let n=t.trim();switch(" "){case n.charAt(2):return r(n.charAt(0),n.charAt(1),n.substr(3));case n.charAt(1):return r(" ",n.charAt(0),n.substr(2));default:return}function r(s,i,o){let u=`${s}${i}`,h=ic.get(u);h&&h(e,o),u!=="##"&&u!=="!!"&&e.files.push(new sc(o,s,i))}}var Fo,ic,oc,Zf=C({"src/lib/responses/StatusSummary.ts"(){q(),Qf(),Fo=class{constructor(){this.not_added=[],this.conflicted=[],this.created=[],this.deleted=[],this.ignored=void 0,this.modified=[],this.renamed=[],this.files=[],this.staged=[],this.ahead=0,this.behind=0,this.current=null,this.tracking=null,this.detached=!1,this.isClean=()=>!this.files.length}},ic=new Map([jt(" ","A",(e,t)=>K(e.created,t)),jt(" ","D",(e,t)=>K(e.deleted,t)),jt(" ","M",(e,t)=>K(e.modified,t)),jt("A"," ",(e,t)=>K(e.created,t)&&K(e.staged,t)),jt("A","M",(e,t)=>K(e.created,t)&&K(e.staged,t)&&K(e.modified,t)),jt("D"," ",(e,t)=>K(e.deleted,t)&&K(e.staged,t)),jt("M"," ",(e,t)=>K(e.modified,t)&&K(e.staged,t)),jt("M","M",(e,t)=>K(e.modified,t)&&K(e.staged,t)),jt("R"," ",(e,t)=>{K(e.renamed,No(t))}),jt("R","M",(e,t)=>{let n=No(t);K(e.renamed,n),K(e.modified,n.to)}),jt("!","!",(e,t)=>{K(e.ignored=e.ignored||[],t)}),jt("?","?",(e,t)=>K(e.not_added,t)),...Wr("A","A","U"),...Wr("D","D","U"),...Wr("U","A","D","U"),["##",(e,t)=>{let n=/ahead (\d+)/,r=/behind (\d+)/,s=/^(.+?(?=(?:\.{3}|\s|$)))/,i=/\.{3}(\S*)/,o=/\son\s([\S]+)$/,u;u=n.exec(t),e.ahead=u&&+u[1]||0,u=r.exec(t),e.behind=u&&+u[1]||0,u=s.exec(t),e.current=u&&u[1],u=i.exec(t),e.tracking=u&&u[1],u=o.exec(t),e.current=u&&u[1]||e.current,e.detached=/\(no branch\)/.test(t)}]]),oc=function(e){let t=e.trim().split(Kn),n=new Fo;for(let r=0,s=t.length;r<s;r++)Jf(n,t[r]);return n}}});function th(e){let t=["status","--porcelain","-b","-u","--null",...e.filter(n=>!ac.includes(n))];return{format:"utf-8",commands:t,parser(n){return oc(n)}}}var ac,eh=C({"src/lib/tasks/status.ts"(){Zf(),ac=["--null","-z"]}}),cc={};ft(cc,{SimpleGitApi:()=>ns});var ns,nh=C({"src/lib/simple-git-api.ts"(){Cf(),Tf(),Ca(),Aa(),Af(),Pf(),za(),Vf(),rc(),eh(),Et(),q(),ns=class{constructor(e){this._executor=e}_runTask(e,t){let n=this._executor.chain(),r=n.push(e);return t&&wf(e,r,t),Object.create(this,{then:{value:r.then.bind(r)},catch:{value:r.catch.bind(r)},_executor:{value:n}})}add(e){return this._runTask(Dt(["add",...cn(e)]),Tt(arguments))}cwd(e){let t=Tt(arguments);return typeof e=="string"?this._runTask(Oo(e,this._executor),t):typeof(e==null?void 0:e.path)=="string"?this._runTask(Oo(e.path,e.root&&this._executor||void 0),t):this._runTask(Yt("Git.cwd: workingDirectory must be supplied as a string"),t)}hashObject(e,t){return this._runTask(vf(e,t===!0),Tt(arguments))}init(e){return this._runTask(Rf(e===!0,this._executor.cwd,fe(arguments)),Tt(arguments))}merge(){return this._runTask(Po(fe(arguments)),Tt(arguments))}mergeFromTo(e,t){return _t(e)&&_t(t)?this._runTask(Po([e,t,...fe(arguments)]),Tt(arguments,!1)):this._runTask(Yt("Git.mergeFromTo requires that the 'remote' and 'branch' arguments are supplied as strings"))}outputHandler(e){return this._executor.outputHandler=e,this}push(){let e=Ts({remote:pe(arguments[0],_t),branch:pe(arguments[1],_t)},fe(arguments));return this._runTask(e,Tt(arguments))}stash(){return this._runTask(Dt(["stash",...fe(arguments)]),Tt(arguments))}status(){return this._runTask(th(fe(arguments)),Tt(arguments))}},Object.assign(ns.prototype,uf(),hf(),Gf())}}),uc={};ft(uc,{Scheduler:()=>fc});var $o,fc,rh=C({"src/lib/runners/scheduler.ts"(){q(),Pa(),$o=(()=>{let e=0;return()=>{e++;let{promise:t,done:n}=(0,lc.createDeferred)();return{promise:t,done:n,id:e}}})(),fc=class{constructor(e=2){this.concurrency=e,this.logger=ys("","scheduler"),this.pending=[],this.running=[],this.logger("Constructed, concurrency=%s",e)}schedule(){if(!this.pending.length||this.running.length>=this.concurrency){this.logger("Schedule attempt ignored, pending=%s running=%s concurrency=%s",this.pending.length,this.running.length,this.concurrency);return}let e=K(this.running,this.pending.shift());this.logger("Attempting id=%s",e.id),e.done(()=>{this.logger("Completing id=",e.id),as(this.running,e),this.schedule()})}next(){let{promise:e,id:t}=K(this.pending,$o());return this.logger("Scheduling id=%s",t),this.schedule(),e}}}}),hc={};ft(hc,{applyPatchTask:()=>sh});function sh(e,t){return Dt(["apply",...t,...e])}var ih=C({"src/lib/tasks/apply-patch.ts"(){Et()}});function oh(e,t){return{branch:e,hash:t,success:!0}}function ah(e){return{branch:e,hash:null,success:!1}}var pc,ch=C({"src/lib/responses/BranchDeleteSummary.ts"(){pc=class{constructor(){this.all=[],this.branches={},this.errors=[]}get success(){return!this.errors.length}}}});function dc(e,t){return t===1&&rs.test(e)}var Lo,rs,Do,tr,uh=C({"src/lib/parsers/parse-branch-delete.ts"(){ch(),q(),Lo=/(\S+)\s+\(\S+\s([^)]+)\)/,rs=/^error[^']+'([^']+)'/m,Do=[new X(Lo,(e,[t,n])=>{let r=oh(t,n);e.all.push(r),e.branches[t]=r}),new X(rs,(e,[t])=>{let n=ah(t);e.errors.push(n),e.all.push(n),e.branches[t]=n})],tr=(e,t)=>Kt(new pc,Do,e,t)}}),mc,lh=C({"src/lib/responses/BranchSummary.ts"(){mc=class{constructor(){this.all=[],this.branches={},this.current="",this.detached=!1}push(e,t,n,r,s){e&&(this.detached=t,this.current=n),this.all.push(n),this.branches[n]={current:e,name:n,commit:r,label:s}}}}});function gc(e){return Kt(new mc,bc,e)}var bc,fh=C({"src/lib/parsers/parse-branch.ts"(){lh(),q(),bc=[new X(/^(\*\s)?\((?:HEAD )?detached (?:from|at) (\S+)\)\s+([a-z0-9]+)\s(.*)$/,(e,[t,n,r,s])=>{e.push(!!t,!0,n,r,s)}),new X(/^(\*\s)?(\S+)\s+([a-z0-9]+)\s?(.*)$/s,(e,[t,n,r,s])=>{e.push(!!t,!1,n,r,s)})]}}),yc={};ft(yc,{branchLocalTask:()=>ph,branchTask:()=>hh,containsDeleteBranchCommand:()=>_c,deleteBranchTask:()=>mh,deleteBranchesTask:()=>dh});function _c(e){let t=["-d","-D","--delete"];return e.some(n=>t.includes(n))}function hh(e){let t=_c(e),n=["branch",...e];return n.length===1&&n.push("-a"),n.includes("-v")||n.splice(1,0,"-v"),{format:"utf-8",commands:n,parser(r,s){return t?tr(r,s).all[0]:gc(r)}}}function ph(){return{format:"utf-8",commands:["branch","-v"],parser:gc}}function dh(e,t=!1){return{format:"utf-8",commands:["branch","-v",t?"-D":"-d",...e],parser(n,r){return tr(n,r)},onError({exitCode:n,stdOut:r},s,i,o){if(!dc(String(s),n))return o(s);i(r)}}}function mh(e,t=!1){let n={format:"utf-8",commands:["branch","-v",t?"-D":"-d",e],parser(r,s){return tr(r,s).branches[e]},onError({exitCode:r,stdErr:s,stdOut:i},o,u,h){if(!dc(String(o),r))return h(o);throw new on(n.parser(rn(i),rn(s)),String(o))}};return n}var gh=C({"src/lib/tasks/branch.ts"(){Ve(),uh(),fh(),q()}}),Ec,bh=C({"src/lib/responses/CheckIgnore.ts"(){Ec=e=>e.split(/\n/g).map(t=>t.trim()).filter(t=>!!t)}}),wc={};ft(wc,{checkIgnoreTask:()=>yh});function yh(e){return{commands:["check-ignore",...e],format:"utf-8",parser:Ec}}var _h=C({"src/lib/tasks/check-ignore.ts"(){bh()}}),Oc={};ft(Oc,{cloneMirrorTask:()=>wh,cloneTask:()=>Cc});function Eh(e){return/^--upload-pack(=|$)/.test(e)}function Cc(e,t,n){let r=["clone",...n];return _t(e)&&r.push(e),_t(t)&&r.push(t),r.find(Eh)?Yt("git.fetch: potential exploit argument blocked."):Dt(r)}function wh(e,t,n){return K(n,"--mirror"),Cc(e,t,n)}var Oh=C({"src/lib/tasks/clone.ts"(){Et(),q()}});function Ch(e){return Kt({author:null,branch:"",commit:"",root:!1,summary:{changes:0,insertions:0,deletions:0}},Tc,e)}var Tc,Th=C({"src/lib/parsers/parse-commit.ts"(){q(),Tc=[new X(/^\[([^\s]+)( \([^)]+\))? ([^\]]+)/,(e,[t,n,r])=>{e.branch=t,e.commit=r,e.root=!!n}),new X(/\s*Author:\s(.+)/i,(e,[t])=>{let n=t.split("<"),r=n.pop();!r||!r.includes("@")||(e.author={email:r.substr(0,r.length-1),name:n.join("<").trim()})}),new X(/(\d+)[^,]*(?:,\s*(\d+)[^,]*)(?:,\s*(\d+))/g,(e,[t,n,r])=>{e.summary.changes=parseInt(t,10)||0,e.summary.insertions=parseInt(n,10)||0,e.summary.deletions=parseInt(r,10)||0}),new X(/^(\d+)[^,]*(?:,\s*(\d+)[^(]+\(([+-]))?/,(e,[t,n,r])=>{e.summary.changes=parseInt(t,10)||0;let s=parseInt(n,10)||0;r==="-"?e.summary.deletions=s:r==="+"&&(e.summary.insertions=s)})]}}),vc={};ft(vc,{commitTask:()=>vh});function vh(e,t,n){let r=["commit"];return e.forEach(s=>r.push("-m",s)),r.push(...t,...n),{commands:r,format:"utf-8",parser:Ch}}var Ah=C({"src/lib/tasks/commit.ts"(){Th()}}),Ac={};ft(Ac,{diffSummaryTask:()=>Sh});function Sh(e){return{commands:["diff","--stat=4096",...e],format:"utf-8",parser(t){return La(t)}}}var Ih=C({"src/lib/tasks/diff.ts"(){Da()}});function xh(e,t){return Kt({raw:e,remote:null,branches:[],tags:[]},Sc,e,t)}var Sc,Rh=C({"src/lib/parsers/parse-fetch.ts"(){q(),Sc=[new X(/From (.+)$/,(e,[t])=>{e.remote=t}),new X(/\* \[new branch]\s+(\S+)\s*-> (.+)$/,(e,[t,n])=>{e.branches.push({name:t,tracking:n})}),new X(/\* \[new tag]\s+(\S+)\s*-> (.+)$/,(e,[t,n])=>{e.tags.push({name:t,tracking:n})})]}}),Ic={};ft(Ic,{fetchTask:()=>jh});function Ph(e){return/^--upload-pack(=|$)/.test(e)}function jh(e,t,n){let r=["fetch",...n];return e&&t&&r.push(e,t),r.find(Ph)?Yt("git.fetch: potential exploit argument blocked."):{commands:r,format:"utf-8",parser:xh}}var kh=C({"src/lib/tasks/fetch.ts"(){Rh(),Et()}});function Mh(e){return Kt({moves:[]},xc,e)}var xc,Nh=C({"src/lib/parsers/parse-move.ts"(){q(),xc=[new X(/^Renaming (.+) to (.+)$/,(e,[t,n])=>{e.moves.push({from:t,to:n})})]}}),Rc={};ft(Rc,{moveTask:()=>Fh});function Fh(e,t){return{commands:["mv","-v",...cn(e),t],format:"utf-8",parser:Mh}}var $h=C({"src/lib/tasks/move.ts"(){Nh(),q()}}),Pc={};ft(Pc,{pullTask:()=>Lh});function Lh(e,t,n){let r=["pull",...n];return e&&t&&r.splice(1,0,e,t),{commands:r,format:"utf-8",parser(s,i){return Cs(s,i)},onError(s,i,o,u){let h=qf(rn(s.stdOut),rn(s.stdErr));if(h)return u(new on(h));u(i)}}}var Dh=C({"src/lib/tasks/pull.ts"(){Ve(),Za(),q()}});function Bh(e){let t={};return jc(e,([n])=>t[n]={name:n}),Object.values(t)}function Gh(e){let t={};return jc(e,([n,r,s])=>{t.hasOwnProperty(n)||(t[n]={name:n,refs:{fetch:"",push:""}}),s&&r&&(t[n].refs[s.replace(/[^a-z]/g,"")]=r)}),Object.values(t)}function jc(e,t){is(e,n=>t(n.split(/\s+/)))}var Uh=C({"src/lib/responses/GetRemoteSummary.ts"(){q()}}),kc={};ft(kc,{addRemoteTask:()=>Wh,getRemotesTask:()=>zh,listRemotesTask:()=>qh,remoteTask:()=>Hh,removeRemoteTask:()=>Vh});function Wh(e,t,n=[]){return Dt(["remote","add",...n,e,t])}function zh(e){let t=["remote"];return e&&t.push("-v"),{commands:t,format:"utf-8",parser:e?Gh:Bh}}function qh(e=[]){let t=[...e];return t[0]!=="ls-remote"&&t.unshift("ls-remote"),Dt(t)}function Hh(e=[]){let t=[...e];return t[0]!=="remote"&&t.unshift("remote"),Dt(t)}function Vh(e){return Dt(["remote","remove",e])}var Yh=C({"src/lib/tasks/remote.ts"(){Uh(),Et()}}),Mc={};ft(Mc,{stashListTask:()=>Kh});function Kh(e={},t){let n=Wa(e),r=Ba(n.splitter,n.fields);return{commands:["stash","list",...n.commands,...t],format:"utf-8",parser:r}}var Xh=C({"src/lib/tasks/stash-list.ts"(){Ua(),za()}}),Nc={};ft(Nc,{addSubModuleTask:()=>Qh,initSubModuleTask:()=>Jh,subModuleTask:()=>er,updateSubModuleTask:()=>Zh});function Qh(e,t){return er(["add",e,t])}function Jh(e){return er(["init",...e])}function er(e){let t=[...e];return t[0]!=="submodule"&&t.unshift("submodule"),Dt(t)}function Zh(e){return er(["update",...e])}var tp=C({"src/lib/tasks/sub-module.ts"(){Et()}});function ep(e,t){let n=isNaN(e),r=isNaN(t);return n!==r?n?1:-1:n?Fc(e,t):0}function Fc(e,t){return e===t?0:e>t?1:-1}function np(e){return e.trim()}function Bn(e){return typeof e=="string"&&parseInt(e.replace(/^\D+/g,""),10)||0}var Bo,$c,rp=C({"src/lib/responses/TagList.ts"(){Bo=class{constructor(e,t){this.all=e,this.latest=t}},$c=function(e,t=!1){let n=e.split(`
`).map(np).filter(Boolean);t||n.sort(function(s,i){let o=s.split("."),u=i.split(".");if(o.length===1||u.length===1)return ep(Bn(o[0]),Bn(u[0]));for(let h=0,y=Math.max(o.length,u.length);h<y;h++){let p=Fc(Bn(o[h]),Bn(u[h]));if(p)return p}return 0});let r=t?n[0]:[...n].reverse().find(s=>s.indexOf(".")>=0);return new Bo(n,r)}}}),Lc={};ft(Lc,{addAnnotatedTagTask:()=>op,addTagTask:()=>ip,tagListTask:()=>sp});function sp(e=[]){let t=e.some(n=>/^--sort=/.test(n));return{format:"utf-8",commands:["tag","-l",...e],parser(n){return $c(n,t)}}}function ip(e){return{format:"utf-8",commands:["tag",e],parser(){return{name:e}}}}function op(e,t){return{format:"utf-8",commands:["tag","-a","-m",t,e],parser(){return{name:e}}}}var ap=C({"src/lib/tasks/tag.ts"(){rp()}}),cp=Nl({"src/git.js"(e,t){var{GitExecutor:n}=(Ef(),ut(ka)),{SimpleGitApi:r}=(nh(),ut(cc)),{Scheduler:s}=(rh(),ut(uc)),{configurationErrorTask:i}=(Et(),ut(Kr)),{asArray:o,filterArray:u,filterPrimitives:h,filterString:y,filterStringOrStringArray:p,filterType:l,getTrailingOptions:m,trailingFunctionArgument:b,trailingOptionsArgument:v}=(q(),ut(oa)),{applyPatchTask:w}=(ih(),ut(hc)),{branchTask:g,branchLocalTask:D,deleteBranchesTask:U,deleteBranchTask:Y}=(gh(),ut(yc)),{checkIgnoreTask:W}=(_h(),ut(wc)),{checkIsRepoTask:Q}=(la(),ut(aa)),{cloneTask:vt,cloneMirrorTask:wt}=(Oh(),ut(Oc)),{cleanWithOptionsTask:Bt,isCleanOptionsArray:Gt}=(Ea(),ut(ya)),{commitTask:J}=(Ah(),ut(vc)),{diffSummaryTask:k}=(Ih(),ut(Ac)),{fetchTask:O}=(kh(),ut(Ic)),{moveTask:I}=($h(),ut(Rc)),{pullTask:B}=(Dh(),ut(Pc)),{pushTagsTask:Z}=(rc(),ut(nc)),{addRemoteTask:at,getRemotesTask:V,listRemotesTask:ht,remoteTask:Zt,removeRemoteTask:nt}=(Yh(),ut(kc)),{getResetMode:Ut,resetTask:Wt}=(Ra(),ut(Sa)),{stashListTask:te}=(Xh(),ut(Mc)),{addSubModuleTask:$,initSubModuleTask:Ye,subModuleTask:F,updateSubModuleTask:tt}=(tp(),ut(Nc)),{addAnnotatedTagTask:rt,addTagTask:H,tagListTask:st}=(ap(),ut(Lc)),{straightThroughBufferTask:ct,straightThroughStringTask:it}=(Et(),ut(Kr));function A(c,f){this._executor=new n(c.binary,c.baseDir,new s(c.maxConcurrentProcesses),f)}(A.prototype=Object.create(r.prototype)).constructor=A,A.prototype.customBinary=function(c){return this._executor.binary=c,this},A.prototype.env=function(c,f){return arguments.length===1&&typeof c=="object"?this._executor.env=c:(this._executor.env=this._executor.env||{})[c]=f,this},A.prototype.stashList=function(c){return this._runTask(te(v(arguments)||{},u(c)&&c||[]),b(arguments))};function me(c,f,E,_){return typeof E!="string"?i(`git.${c}() requires a string 'repoPath'`):f(E,l(_,y),m(arguments))}A.prototype.clone=function(){return this._runTask(me("clone",vt,...arguments),b(arguments))},A.prototype.mirror=function(){return this._runTask(me("mirror",wt,...arguments),b(arguments))},A.prototype.mv=function(c,f){return this._runTask(I(c,f),b(arguments))},A.prototype.checkoutLatestTag=function(c){var f=this;return this.pull(function(){f.tags(function(E,_){f.checkout(_.latest,c)})})},A.prototype.commit=function(c,f,E,_){let d=b(arguments);return p(c)?this._runTask(J(o(c),o(l(f,p,[])),[...l(E,u,[]),...m(arguments,0,!0)]),d):this._runTask(i("git.commit: requires the commit message to be supplied as a string/string[]"),d)},A.prototype.pull=function(c,f,E,_){return this._runTask(B(l(c,y),l(f,y),m(arguments)),b(arguments))},A.prototype.fetch=function(c,f){return this._runTask(O(l(c,y),l(f,y),m(arguments)),b(arguments))},A.prototype.silent=function(c){return console.warn("simple-git deprecation notice: git.silent: logging should be configured using the `debug` library / `DEBUG` environment variable, this will be an error in version 3"),this},A.prototype.tags=function(c,f){return this._runTask(st(m(arguments)),b(arguments))},A.prototype.rebase=function(){return this._runTask(it(["rebase",...m(arguments)]),b(arguments))},A.prototype.reset=function(c){return this._runTask(Wt(Ut(c),m(arguments)),b(arguments))},A.prototype.revert=function(c){let f=b(arguments);return typeof c!="string"?this._runTask(i("Commit must be a string"),f):this._runTask(it(["revert",...m(arguments,0,!0),c]),f)},A.prototype.addTag=function(c){let f=typeof c=="string"?H(c):i("Git.addTag requires a tag name");return this._runTask(f,b(arguments))},A.prototype.addAnnotatedTag=function(c,f){return this._runTask(rt(c,f),b(arguments))},A.prototype.checkout=function(){let c=["checkout",...m(arguments,!0)];return this._runTask(it(c),b(arguments))},A.prototype.checkoutBranch=function(c,f,E){return this.checkout(["-b",c,f],b(arguments))},A.prototype.checkoutLocalBranch=function(c,f){return this.checkout(["-b",c],b(arguments))},A.prototype.deleteLocalBranch=function(c,f,E){return this._runTask(Y(c,typeof f=="boolean"?f:!1),b(arguments))},A.prototype.deleteLocalBranches=function(c,f,E){return this._runTask(U(c,typeof f=="boolean"?f:!1),b(arguments))},A.prototype.branch=function(c,f){return this._runTask(g(m(arguments)),b(arguments))},A.prototype.branchLocal=function(c){return this._runTask(D(),b(arguments))},A.prototype.raw=function(c){let f=!Array.isArray(c),E=[].slice.call(f?arguments:c,0);for(let d=0;d<E.length&&f;d++)if(!h(E[d])){E.splice(d,E.length-d);break}E.push(...m(arguments,0,!0));var _=b(arguments);return E.length?this._runTask(it(E),_):this._runTask(i("Raw: must supply one or more command to execute"),_)},A.prototype.submoduleAdd=function(c,f,E){return this._runTask($(c,f),b(arguments))},A.prototype.submoduleUpdate=function(c,f){return this._runTask(tt(m(arguments,!0)),b(arguments))},A.prototype.submoduleInit=function(c,f){return this._runTask(Ye(m(arguments,!0)),b(arguments))},A.prototype.subModule=function(c,f){return this._runTask(F(m(arguments)),b(arguments))},A.prototype.listRemote=function(){return this._runTask(ht(m(arguments)),b(arguments))},A.prototype.addRemote=function(c,f,E){return this._runTask(at(c,f,m(arguments)),b(arguments))},A.prototype.removeRemote=function(c,f){return this._runTask(nt(c),b(arguments))},A.prototype.getRemotes=function(c,f){return this._runTask(V(c===!0),b(arguments))},A.prototype.remote=function(c,f){return this._runTask(Zt(m(arguments)),b(arguments))},A.prototype.tag=function(c,f){let E=m(arguments);return E[0]!=="tag"&&E.unshift("tag"),this._runTask(it(E),b(arguments))},A.prototype.updateServerInfo=function(c){return this._runTask(it(["update-server-info"]),b(arguments))},A.prototype.pushTags=function(c,f){let E=Z({remote:l(c,y)},m(arguments));return this._runTask(E,b(arguments))},A.prototype.rm=function(c){return this._runTask(it(["rm","-f",...o(c)]),b(arguments))},A.prototype.rmKeepLocal=function(c){return this._runTask(it(["rm","--cached",...o(c)]),b(arguments))},A.prototype.catFile=function(c,f){return this._catFile("utf-8",arguments)},A.prototype.binaryCatFile=function(){return this._catFile("buffer",arguments)},A.prototype._catFile=function(c,f){var E=b(f),_=["cat-file"],d=f[0];if(typeof d=="string")return this._runTask(i("Git.catFile: options must be supplied as an array of strings"),E);Array.isArray(d)&&_.push.apply(_,d);let S=c==="buffer"?ct(_):it(_);return this._runTask(S,E)},A.prototype.diff=function(c,f){let E=y(c)?i("git.diff: supplying options as a single string is no longer supported, switch to an array of strings"):it(["diff",...m(arguments)]);return this._runTask(E,b(arguments))},A.prototype.diffSummary=function(){return this._runTask(k(m(arguments,1)),b(arguments))},A.prototype.applyPatch=function(c){let f=p(c)?w(o(c),m([].slice.call(arguments,1))):i("git.applyPatch requires one or more string patches as the first argument");return this._runTask(f,b(arguments))},A.prototype.revparse=function(){let c=["rev-parse",...m(arguments,!0)];return this._runTask(it(c,!0),b(arguments))},A.prototype.show=function(c,f){return this._runTask(it(["show",...m(arguments,1)]),b(arguments))},A.prototype.clean=function(c,f,E){let _=Gt(c),d=_&&c.join("")||l(c,y)||"",S=m([].slice.call(arguments,_?1:0));return this._runTask(Bt(d,S),b(arguments))},A.prototype.exec=function(c){let f={commands:[],format:"utf-8",parser(){typeof c=="function"&&c()}};return this._runTask(f)},A.prototype.clearQueue=function(){return this},A.prototype.checkIgnore=function(c,f){return this._runTask(W(o(l(c,p,[]))),b(arguments))},A.prototype.checkIsRepo=function(c,f){return this._runTask(Q(l(c,y)),b(arguments))},t.exports=A}});de();var up=class extends ne{constructor(e,t){super(void 0,t);this.config=e}};de();de();var lp=class extends ne{constructor(e,t,n){super(e,n);this.task=e,this.plugin=t,Object.setPrototypeOf(this,new.target.prototype)}};Ve();qo();la();Ea();Ca();Aa();Ra();q();function fp(e){let t=qn(e,"-c");return{type:"spawn.args",action(n){return[...t,...n]}}}q();var Go=(0,He.deferred)().promise;function hp({onClose:e=!0,onExit:t=50}={}){function n(){let s=-1,i={close:(0,He.deferred)(),closeTimeout:(0,He.deferred)(),exit:(0,He.deferred)(),exitTimeout:(0,He.deferred)()},o=Promise.race([e===!1?Go:i.closeTimeout.promise,t===!1?Go:i.exitTimeout.promise]);return r(e,i.close,i.closeTimeout),r(t,i.exit,i.exitTimeout),{close(u){s=u,i.close.done()},exit(u){s=u,i.exit.done()},get exitCode(){return s},result:o}}function r(s,i,o){s!==!1&&(s===!0?i.promise:i.promise.then(()=>qr(s))).then(o.done)}return{type:"spawn.after",action(s,i){return nn(this,arguments,function*(o,{spawned:u,close:h}){var y,p;let l=n(),m=!0,b=()=>void(m=!1);(y=u.stdout)==null||y.on("data",b),(p=u.stderr)==null||p.on("data",b),u.on("error",b),u.on("close",v=>l.close(v)),u.on("exit",v=>l.exit(v));try{yield l.result,m&&(yield qr(50)),h(l.exitCode)}catch(v){h(l.exitCode,v)}})}}}de();function pp(e){return!!(e.exitCode&&e.stdErr.length)}function dp(e){return Buffer.concat([...e.stdOut,...e.stdErr])}function mp(e=!1,t=pp,n=dp){return(r,s)=>!e&&r||!t(s)?r:n(s)}function Uo(e){return{type:"task.error",action(t,n){let r=e(t.error,{stdErr:n.stdErr,stdOut:n.stdOut,exitCode:n.exitCode});return Buffer.isBuffer(r)?{error:new ne(void 0,r.toString("utf-8"))}:{error:r}}}}q();var gp=class{constructor(){this.plugins=new Set}add(e){let t=[];return cn(e).forEach(n=>n&&this.plugins.add(K(t,n))),()=>{t.forEach(n=>this.plugins.delete(n))}}exec(e,t,n){let r=t,s=Object.freeze(Object.create(n));for(let i of this.plugins)i.type===e&&(r=i.action(r,s));return r}};q();function bp(e){let t="--progress",n=["checkout","clone","fetch","pull","push"];return[{type:"spawn.args",action(i,o){return n.includes(o.method)?Qo(i,t):i}},{type:"spawn.after",action(i,o){var u;!o.commands.includes(t)||(u=o.spawned.stderr)==null||u.on("data",h=>{let y=/^([\s\S]+?):\s*(\d+)% \((\d+)\/(\d+)\)/.exec(h.toString("utf8"));!y||e({method:o.method,stage:yp(y[1]),progress:Vt(y[2]),processed:Vt(y[3]),total:Vt(y[4])})})}}]}function yp(e){return String(e.toLowerCase().split(" ",1))||"unknown"}q();function _p(e){let t=Zo(e,["uid","gid"]);return{type:"spawn.options",action(n){return Jt(Jt({},t),n)}}}function Ep({block:e}){if(e>0)return{type:"spawn.after",action(t,n){var r,s;let i;function o(){i&&clearTimeout(i),i=setTimeout(h,e)}function u(){var y,p;(y=n.spawned.stdout)==null||y.off("data",o),(p=n.spawned.stderr)==null||p.off("data",o),n.spawned.off("exit",u),n.spawned.off("close",u)}function h(){u(),n.kill(new lp(void 0,"timeout","block timeout reached"))}(r=n.spawned.stdout)==null||r.on("data",o),(s=n.spawned.stderr)==null||s.on("data",o),n.spawned.on("exit",u),n.spawned.on("close",u),o()}}}q();var wp=cp();function Op(e,t){let n=new gp,r=sa(e&&(typeof e=="string"?{baseDir:e}:e)||{},t);if(!os(r.baseDir))throw new up(r,"Cannot use simple-git on a directory that does not exist");return Array.isArray(r.config)&&n.add(fp(r.config)),n.add(hp(r.completion)),r.progress&&n.add(bp(r.progress)),r.timeout&&n.add(Ep(r.timeout)),r.spawnOptions&&n.add(_p(r.spawnOptions)),n.add(Uo(mp(!0))),r.errors&&n.add(Uo(r.errors)),new wp(r,n)}Ve();var Dc=Op;var vs=Dc();async function Bc(){return await vs.raw("rev-parse","HEAD")}async function Gc(e){return(await vs.raw(["log","--no-merges","--pretty=format:%B\u0700",e?`${e}..HEAD`:"HEAD"])).split("\u0700").map(n=>n.trim()).filter(n=>n.length>0)}async function Uc(e,t,n){await vs.commit(`${t}: ${n}`,e)}var zc=require("fs/promises"),qc=re(Mr()),Hc=re(Ss());var Cp=/^([a-z]+!?)(?:\(([\w-/]+)\))?: ([a-zA-Z--\d][^\n]+)(?:\n{2}(.+))?$/s;function Is(e){let[t,n=""]=e.match(/#(\d+)/)||[];return n}function Tp(e){return e.replace(/^#.*$/gm,"")}function Wc(e){e=Tp(e);let[,t=""]=e.match(/Merge (branch|remote\-tracking branch|pull request) /i)||[];if(t.length>0){let[,l=""]=e.match(/([^\s\/]+\/[^:]+:[^\s]+)/i)||[];return{commit:e,type:"merge",scope:"",message:`${t} from ${l}`,footer:"",isMerge:!0,isBreaking:!1,issueID:Is(e)}}let[n,r="",s="",i="",o=""]=e.match(Cp)||[];if(r.length===0)throw new Error("commit is not a valid conventional commit");let u=r.endsWith("!")||o.startsWith("BREAKING CHANGE"),h=Is(i),y=Is(o);return{commit:e,type:r,scope:s,message:i,footer:o,isMerge:!1,isBreaking:u,issueID:h||y}}async function Vc(e,t){let n=await(0,zc.readFile)(e,"utf8"),r=JSON.parse(n),s=(0,Hc.get)(r,t,"");return typeof s=="string"?s:""}async function Yc(e,t){e=(0,qc.default)(e.version);let n=await Gc(t),r=!1,s=!1,i=!1;for(let o of n)try{let u=Wc(o);if(u.isBreaking){r=!0;break}if(u.type==="feat"){s=!0;break}u.type==="fix"&&(i=!0)}catch{}return r?e.inc("major"):s?e.inc("minor"):i?e.inc("patch"):e}function nr(e){let[,t=void 0]=e.raw.match(/sha\.(\w+)/i)||[];return t}async function sr(e){let t;if(e.semver)t=(0,rr.default)(e.semver);else{let{filePath:n,objectPath:r}=jn(e.from,"version"),s=await Vc(n,r);t=(0,rr.default)(s)}if(t===null)throw new Error("invalid semver passed");return t}async function ir(e,t){let n=await Bc().catch(()=>{throw new Error("not enough commits to build version")}),r=await Yc(e,t),s=`sha.${n.substring(0,8)}`;return(0,rr.default)(`${r.version}+${s}`)}async function Kc(e){let t=await sr(e),n=nr(t),r=await ir(t,n);process.stdout.write(r.raw)}var vp=/^(?:( )+|\t+)/,ln="space",Qc="tab";function Xc(e,t){let n=new Map,r=0,s,i;for(let o of e.split(/\n/g)){if(!o)continue;let u,h,y,p,l=o.match(vp);if(l===null)r=0,s="";else{if(u=l[0].length,h=l[1]?ln:Qc,t&&h===ln&&u===1)continue;h!==s&&(r=0),s=h,y=0;let m=u-r;if(r=u,m===0)y++;else{let b=m>0?m:-m;i=Ap(h,b)}p=n.get(i),p=p===void 0?[1,0]:[++p[0],p[1]+y],n.set(i,p)}}return n}function Ap(e,t){return(e===ln?"s":"t")+String(t)}function Sp(e){let n=e[0]==="s"?ln:Qc,r=Number(e.slice(1));return{type:n,amount:r}}function Ip(e){let t,n=0,r=0;for(let[s,[i,o]]of e)(i>n||i===n&&o>r)&&(n=i,r=o,t=s);return t}function xp(e,t){return(e===ln?" ":"	").repeat(t)}function xs(e){if(typeof e!="string")throw new TypeError("Expected a string");let t=Xc(e,!0);t.size===0&&(t=Xc(e,!1));let n=Ip(t),r,s=0,i="";return n!==void 0&&({type:r,amount:s}=Sp(n),i=xp(r,s)),{amount:s,type:r,indent:i}}var or=require("fs/promises"),nu=re(Ss());var Jc=require("fs"),Zc=require("fs/promises");function tu(e){try{return JSON.parse(e)}catch{return null}}async function eu(e){return await(0,Zc.access)(e,Jc.constants.F_OK).then(()=>!0).catch(()=>!1)}async function ru(e){let t=await sr(e),n=nr(t),r=await ir(t,n),s=e.files.map(o=>jn(o,"version")),i=0;for(let{filePath:o,objectPath:u}of s){if(!await eu(o))continue;i+=await Rp(o,u,t,r)?1:0}process.stdout.write(`${i} file(s) pathed to version ${r}
`),e.commit&&await Uc(s.map(o=>o.filePath),e.commit,r.raw)}async function Rp(e,t,n,r){let s=await(0,or.readFile)(e,"utf8"),i=tu(s),o=s;if(t===""||i===null)o=s.replaceAll(n.raw,r.raw);else{let u=xs(s).indent,h=(0,nu.set)(i,t,r.raw);o=JSON.stringify(h,null,u)+`
`}return await(0,or.writeFile)(e,o),s!==o}var ar="semverity";var su={type:"string",describe:"initial version"},iu={type:"string",alias:"f",describe:"file to grab version from (optionally dot-notated path to version in json object: file.json:meta.version)",default:"package.json:version"},Pp={type:"array",alias:"o",describe:"files to patch version",default:["package.json:version","package-lock.json:version"]},jp={type:"string",describe:"commmit type to save"};Bi(pr(process.argv)).command("bump [semver]","bump version from git history",e=>e.usage(`Usage: ${ar} bump [options]`).positional("semver",su).option("from",iu),Kc).command("patch [semver]","bump and patch files",e=>e.usage(`Usage: ${ar} patch [options]`).positional("semver",su).option("from",iu).option("files",Pp).option("commit",jp),ru).usage(`Usage: ${ar} <command>`).demandCommand(1).parse();
/**
 * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
 * CJS and ESM environments.
 *
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */
/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */
/*!
 * semverity v0.2.2+sha.6ca87600
 * (c) 2022-present Aleksey Korolev
 * Released under the MIT License.
 */
