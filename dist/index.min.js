#!/usr/bin/env node
var eu=Object.create;var hn=Object.defineProperty;var nu=Object.getOwnPropertyDescriptor;var su=Object.getOwnPropertyNames,Sr=Object.getOwnPropertySymbols,ru=Object.getPrototypeOf,xr=Object.prototype.hasOwnProperty,iu=Object.prototype.propertyIsEnumerable;var Ir=(e,t,n)=>t in e?hn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ke=(e,t)=>{for(var n in t||(t={}))xr.call(t,n)&&Ir(e,n,t[n]);if(Sr)for(var n of Sr(t))iu.call(t,n)&&Ir(e,n,t[n]);return e};var mt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Rr=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of su(t))!xr.call(e,r)&&r!==n&&hn(e,r,{get:()=>t[r],enumerable:!(s=nu(t,r))||s.enumerable});return e};var se=(e,t,n)=>(n=e!=null?eu(ru(e)):{},Rr(t||!e||!e.__esModule?hn(n,"default",{value:e,enumerable:!0}):n,e)),ou=e=>Rr(hn({},"__esModule",{value:!0}),e);var pn=mt((kp,kr)=>{var hu="2.0.0",pu=Number.MAX_SAFE_INTEGER||9007199254740991,du=16;kr.exports={SEMVER_SPEC_VERSION:hu,MAX_LENGTH:256,MAX_SAFE_INTEGER:pu,MAX_SAFE_COMPONENT_LENGTH:du}});var rs=mt((Mp,Mr)=>{var mu=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};Mr.exports=mu});var os=mt((re,Nr)=>{var{MAX_SAFE_COMPONENT_LENGTH:is}=pn(),gu=rs();re=Nr.exports={};var bu=re.re=[],R=re.src=[],P=re.t={},yu=0,z=(e,t,n)=>{let s=yu++;gu(s,t),P[e]=s,R[s]=t,bu[s]=new RegExp(t,n?"g":void 0)};z("NUMERICIDENTIFIER","0|[1-9]\\d*");z("NUMERICIDENTIFIERLOOSE","[0-9]+");z("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");z("MAINVERSION",`(${R[P.NUMERICIDENTIFIER]})\\.(${R[P.NUMERICIDENTIFIER]})\\.(${R[P.NUMERICIDENTIFIER]})`);z("MAINVERSIONLOOSE",`(${R[P.NUMERICIDENTIFIERLOOSE]})\\.(${R[P.NUMERICIDENTIFIERLOOSE]})\\.(${R[P.NUMERICIDENTIFIERLOOSE]})`);z("PRERELEASEIDENTIFIER",`(?:${R[P.NUMERICIDENTIFIER]}|${R[P.NONNUMERICIDENTIFIER]})`);z("PRERELEASEIDENTIFIERLOOSE",`(?:${R[P.NUMERICIDENTIFIERLOOSE]}|${R[P.NONNUMERICIDENTIFIER]})`);z("PRERELEASE",`(?:-(${R[P.PRERELEASEIDENTIFIER]}(?:\\.${R[P.PRERELEASEIDENTIFIER]})*))`);z("PRERELEASELOOSE",`(?:-?(${R[P.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${R[P.PRERELEASEIDENTIFIERLOOSE]})*))`);z("BUILDIDENTIFIER","[0-9A-Za-z-]+");z("BUILD",`(?:\\+(${R[P.BUILDIDENTIFIER]}(?:\\.${R[P.BUILDIDENTIFIER]})*))`);z("FULLPLAIN",`v?${R[P.MAINVERSION]}${R[P.PRERELEASE]}?${R[P.BUILD]}?`);z("FULL",`^${R[P.FULLPLAIN]}$`);z("LOOSEPLAIN",`[v=\\s]*${R[P.MAINVERSIONLOOSE]}${R[P.PRERELEASELOOSE]}?${R[P.BUILD]}?`);z("LOOSE",`^${R[P.LOOSEPLAIN]}$`);z("GTLT","((?:<|>)?=?)");z("XRANGEIDENTIFIERLOOSE",`${R[P.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);z("XRANGEIDENTIFIER",`${R[P.NUMERICIDENTIFIER]}|x|X|\\*`);z("XRANGEPLAIN",`[v=\\s]*(${R[P.XRANGEIDENTIFIER]})(?:\\.(${R[P.XRANGEIDENTIFIER]})(?:\\.(${R[P.XRANGEIDENTIFIER]})(?:${R[P.PRERELEASE]})?${R[P.BUILD]}?)?)?`);z("XRANGEPLAINLOOSE",`[v=\\s]*(${R[P.XRANGEIDENTIFIERLOOSE]})(?:\\.(${R[P.XRANGEIDENTIFIERLOOSE]})(?:\\.(${R[P.XRANGEIDENTIFIERLOOSE]})(?:${R[P.PRERELEASELOOSE]})?${R[P.BUILD]}?)?)?`);z("XRANGE",`^${R[P.GTLT]}\\s*${R[P.XRANGEPLAIN]}$`);z("XRANGELOOSE",`^${R[P.GTLT]}\\s*${R[P.XRANGEPLAINLOOSE]}$`);z("COERCE",`(^|[^\\d])(\\d{1,${is}})(?:\\.(\\d{1,${is}}))?(?:\\.(\\d{1,${is}}))?(?:$|[^\\d])`);z("COERCERTL",R[P.COERCE],!0);z("LONETILDE","(?:~>?)");z("TILDETRIM",`(\\s*)${R[P.LONETILDE]}\\s+`,!0);re.tildeTrimReplace="$1~";z("TILDE",`^${R[P.LONETILDE]}${R[P.XRANGEPLAIN]}$`);z("TILDELOOSE",`^${R[P.LONETILDE]}${R[P.XRANGEPLAINLOOSE]}$`);z("LONECARET","(?:\\^)");z("CARETTRIM",`(\\s*)${R[P.LONECARET]}\\s+`,!0);re.caretTrimReplace="$1^";z("CARET",`^${R[P.LONECARET]}${R[P.XRANGEPLAIN]}$`);z("CARETLOOSE",`^${R[P.LONECARET]}${R[P.XRANGEPLAINLOOSE]}$`);z("COMPARATORLOOSE",`^${R[P.GTLT]}\\s*(${R[P.LOOSEPLAIN]})$|^$`);z("COMPARATOR",`^${R[P.GTLT]}\\s*(${R[P.FULLPLAIN]})$|^$`);z("COMPARATORTRIM",`(\\s*)${R[P.GTLT]}\\s*(${R[P.LOOSEPLAIN]}|${R[P.XRANGEPLAIN]})`,!0);re.comparatorTrimReplace="$1$2$3";z("HYPHENRANGE",`^\\s*(${R[P.XRANGEPLAIN]})\\s+-\\s+(${R[P.XRANGEPLAIN]})\\s*$`);z("HYPHENRANGELOOSE",`^\\s*(${R[P.XRANGEPLAINLOOSE]})\\s+-\\s+(${R[P.XRANGEPLAINLOOSE]})\\s*$`);z("STAR","(<|>)?=?\\s*\\*");z("GTE0","^\\s*>=\\s*0.0.0\\s*$");z("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var as=mt((Np,$r)=>{var _u=["includePrerelease","loose","rtl"],Eu=e=>e?typeof e!="object"?{loose:!0}:_u.filter(t=>e[t]).reduce((t,n)=>(t[n]=!0,t),{}):{};$r.exports=Eu});var Br=mt(($p,Dr)=>{var Fr=/^[0-9]+$/,Lr=(e,t)=>{let n=Fr.test(e),s=Fr.test(t);return n&&s&&(e=+e,t=+t),e===t?0:n&&!s?-1:s&&!n?1:e<t?-1:1},wu=(e,t)=>Lr(t,e);Dr.exports={compareIdentifiers:Lr,rcompareIdentifiers:wu}});var qr=mt((Fp,zr)=>{var dn=rs(),{MAX_LENGTH:Gr,MAX_SAFE_INTEGER:mn}=pn(),{re:Ur,t:Wr}=os(),Ou=as(),{compareIdentifiers:Qe}=Br(),kt=class{constructor(t,n){if(n=Ou(n),t instanceof kt){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>Gr)throw new TypeError(`version is longer than ${Gr} characters`);dn("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let s=t.trim().match(n.loose?Ur[Wr.LOOSE]:Ur[Wr.FULL]);if(!s)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>mn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>mn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>mn||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(r=>{if(/^[0-9]+$/.test(r)){let i=+r;if(i>=0&&i<mn)return i}return r}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(dn("SemVer.compare",this.version,this.options,t),!(t instanceof kt)){if(typeof t=="string"&&t===this.version)return 0;t=new kt(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof kt||(t=new kt(t,this.options)),Qe(this.major,t.major)||Qe(this.minor,t.minor)||Qe(this.patch,t.patch)}comparePre(t){if(t instanceof kt||(t=new kt(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{let s=this.prerelease[n],r=t.prerelease[n];if(dn("prerelease compare",n,s,r),s===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(s===void 0)return-1;if(s===r)continue;return Qe(s,r)}while(++n)}compareBuild(t){t instanceof kt||(t=new kt(t,this.options));let n=0;do{let s=this.build[n],r=t.build[n];if(dn("prerelease compare",n,s,r),s===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(s===void 0)return-1;if(s===r)continue;return Qe(s,r)}while(++n)}inc(t,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);s===-1&&this.prerelease.push(0)}n&&(this.prerelease[0]===n?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}};zr.exports=kt});var cs=mt((Lp,Kr)=>{var{MAX_LENGTH:Cu}=pn(),{re:Hr,t:Vr}=os(),Yr=qr(),Tu=as(),vu=(e,t)=>{if(t=Tu(t),e instanceof Yr)return e;if(typeof e!="string"||e.length>Cu||!(t.loose?Hr[Vr.LOOSE]:Hr[Vr.FULL]).test(e))return null;try{return new Yr(e,t)}catch{return null}};Kr.exports=vu});var ls=mt(us=>{us.get=function(e,t,n){return(e=(t.split?t.split("."):t).reduce(function(s,r){return s&&s[r]},e))===void 0?n:e},us.set=function(e,t,n,s){return!/^(__proto__|constructor|prototype)$/.test(t)&&((t=t.split?t.split("."):t.slice(0)).slice(0,-1).reduce(function(r,i){return r[i]=r[i]||{}},e)[t.pop()]=n),e}});var ro=mt((Tm,so)=>{var Ge=1e3,Ue=Ge*60,We=Ue*60,xe=We*24,el=xe*7,nl=xe*365.25;so.exports=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return sl(e);if(n==="number"&&isFinite(e))return t.long?il(e):rl(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function sl(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var n=parseFloat(t[1]),s=(t[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return n*nl;case"weeks":case"week":case"w":return n*el;case"days":case"day":case"d":return n*xe;case"hours":case"hour":case"hrs":case"hr":case"h":return n*We;case"minutes":case"minute":case"mins":case"min":case"m":return n*Ue;case"seconds":case"second":case"secs":case"sec":case"s":return n*Ge;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function rl(e){var t=Math.abs(e);return t>=xe?Math.round(e/xe)+"d":t>=We?Math.round(e/We)+"h":t>=Ue?Math.round(e/Ue)+"m":t>=Ge?Math.round(e/Ge)+"s":e+"ms"}function il(e){var t=Math.abs(e);return t>=xe?kn(e,t,xe,"day"):t>=We?kn(e,t,We,"hour"):t>=Ue?kn(e,t,Ue,"minute"):t>=Ge?kn(e,t,Ge,"second"):e+" ms"}function kn(e,t,n,s){var r=t>=n*1.5;return Math.round(e/n)+" "+s+(r?"s":"")}});var ks=mt((vm,io)=>{function ol(e){n.debug=n,n.default=n,n.coerce=h,n.disable=i,n.enable=r,n.enabled=o,n.humanize=ro(),n.destroy=y,Object.keys(e).forEach(p=>{n[p]=e[p]}),n.names=[],n.skips=[],n.formatters={};function t(p){let l=0;for(let m=0;m<p.length;m++)l=(l<<5)-l+p.charCodeAt(m),l|=0;return n.colors[Math.abs(l)%n.colors.length]}n.selectColor=t;function n(p){let l,m=null,b,v;function w(...g){if(!w.enabled)return;let D=w,U=Number(new Date),Y=U-(l||U);D.diff=Y,D.prev=l,D.curr=U,l=U,g[0]=n.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let W=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(vt,wt)=>{if(vt==="%%")return"%";W++;let Bt=n.formatters[wt];if(typeof Bt=="function"){let Gt=g[W];vt=Bt.call(D,Gt),g.splice(W,1),W--}return vt}),n.formatArgs.call(D,g),(D.log||n.log).apply(D,g)}return w.namespace=p,w.useColors=n.useColors(),w.color=n.selectColor(p),w.extend=s,w.destroy=n.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(b!==n.namespaces&&(b=n.namespaces,v=n.enabled(p)),v),set:g=>{m=g}}),typeof n.init=="function"&&n.init(w),w}function s(p,l){let m=n(this.namespace+(typeof l>"u"?":":l)+p);return m.log=this.log,m}function r(p){n.save(p),n.namespaces=p,n.names=[],n.skips=[];let l,m=(typeof p=="string"?p:"").split(/[\s,]+/),b=m.length;for(l=0;l<b;l++)!m[l]||(p=m[l].replace(/\*/g,".*?"),p[0]==="-"?n.skips.push(new RegExp("^"+p.slice(1)+"$")):n.names.push(new RegExp("^"+p+"$")))}function i(){let p=[...n.names.map(u),...n.skips.map(u).map(l=>"-"+l)].join(",");return n.enable(""),p}function o(p){if(p[p.length-1]==="*")return!0;let l,m;for(l=0,m=n.skips.length;l<m;l++)if(n.skips[l].test(p))return!1;for(l=0,m=n.names.length;l<m;l++)if(n.names[l].test(p))return!0;return!1}function u(p){return p.toString().substring(2,p.toString().length-2).replace(/\.\*\?$/,"*")}function h(p){return p instanceof Error?p.stack||p.message:p}function y(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}io.exports=ol});var oo=mt((Rt,Mn)=>{Rt.formatArgs=cl;Rt.save=ul;Rt.load=ll;Rt.useColors=al;Rt.storage=fl();Rt.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Rt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function al(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function cl(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Mn.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let n=0,s=0;e[0].replace(/%[a-zA-Z%]/g,r=>{r!=="%%"&&(n++,r==="%c"&&(s=n))}),e.splice(s,0,t)}Rt.log=console.debug||console.log||(()=>{});function ul(e){try{e?Rt.storage.setItem("debug",e):Rt.storage.removeItem("debug")}catch{}}function ll(){let e;try{e=Rt.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function fl(){try{return localStorage}catch{}}Mn.exports=ks()(Rt);var{formatters:hl}=Mn.exports;hl.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var co=mt((Am,ao)=>{"use strict";ao.exports=(e,t)=>{t=t||process.argv;let n=e.startsWith("-")?"":e.length===1?"-":"--",s=t.indexOf(n+e),r=t.indexOf("--");return s!==-1&&(r===-1?!0:s<r)}});var lo=mt((Sm,uo)=>{"use strict";var pl=require("os"),Ht=co(),yt=process.env,ze;Ht("no-color")||Ht("no-colors")||Ht("color=false")?ze=!1:(Ht("color")||Ht("colors")||Ht("color=true")||Ht("color=always"))&&(ze=!0);"FORCE_COLOR"in yt&&(ze=yt.FORCE_COLOR.length===0||parseInt(yt.FORCE_COLOR,10)!==0);function dl(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function ml(e){if(ze===!1)return 0;if(Ht("color=16m")||Ht("color=full")||Ht("color=truecolor"))return 3;if(Ht("color=256"))return 2;if(e&&!e.isTTY&&ze!==!0)return 0;let t=ze?1:0;if(process.platform==="win32"){let n=pl.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in yt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in yt)||yt.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in yt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(yt.TEAMCITY_VERSION)?1:0;if(yt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in yt){let n=parseInt((yt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(yt.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(yt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(yt.TERM)||"COLORTERM"in yt?1:(yt.TERM==="dumb",t)}function Ms(e){let t=ml(e);return dl(t)}uo.exports={supportsColor:Ms,stdout:Ms(process.stdout),stderr:Ms(process.stderr)}});var ho=mt((bt,$n)=>{var gl=require("tty"),Nn=require("util");bt.init=Cl;bt.log=El;bt.formatArgs=yl;bt.save=wl;bt.load=Ol;bt.useColors=bl;bt.destroy=Nn.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");bt.colors=[6,2,3,4,5,1];try{let e=lo();e&&(e.stderr||e).level>=2&&(bt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}bt.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(r,i)=>i.toUpperCase()),s=process.env[t];return/^(yes|on|true|enabled)$/i.test(s)?s=!0:/^(no|off|false|disabled)$/i.test(s)?s=!1:s==="null"?s=null:s=Number(s),e[n]=s,e},{});function bl(){return"colors"in bt.inspectOpts?Boolean(bt.inspectOpts.colors):gl.isatty(process.stderr.fd)}function yl(e){let{namespace:t,useColors:n}=this;if(n){let s=this.color,r="\x1B[3"+(s<8?s:"8;5;"+s),i=`  ${r};1m${t} \x1B[0m`;e[0]=i+e[0].split(`
`).join(`
`+i),e.push(r+"m+"+$n.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=_l()+t+" "+e[0]}function _l(){return bt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function El(...e){return process.stderr.write(Nn.format(...e)+`
`)}function wl(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function Ol(){return process.env.DEBUG}function Cl(e){e.inspectOpts={};let t=Object.keys(bt.inspectOpts);for(let n=0;n<t.length;n++)e.inspectOpts[t[n]]=bt.inspectOpts[t[n]]}$n.exports=ks()(bt);var{formatters:fo}=$n.exports;fo.o=function(e){return this.inspectOpts.colors=this.useColors,Nn.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};fo.O=function(e){return this.inspectOpts.colors=this.useColors,Nn.inspect(e,this.inspectOpts)}});var $s=mt((Im,Ns)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Ns.exports=oo():Ns.exports=ho()});var po=mt(Pt=>{"use strict";var Tl=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pt,"__esModule",{value:!0});var vl=require("fs"),Al=Tl($s()),qe=Al.default("@kwsites/file-exists");function Sl(e,t,n){qe("checking %s",e);try{let s=vl.statSync(e);return s.isFile()&&t?(qe("[OK] path represents a file"),!0):s.isDirectory()&&n?(qe("[OK] path represents a directory"),!0):(qe("[FAIL] path represents something other than a file or directory"),!1)}catch(s){if(s.code==="ENOENT")return qe("[FAIL] path is not accessible: %o",s),!1;throw qe("[FATAL] %o",s),s}}function Il(e,t=Pt.READABLE){return Sl(e,(t&Pt.FILE)>0,(t&Pt.FOLDER)>0)}Pt.exists=Il;Pt.FILE=1;Pt.FOLDER=2;Pt.READABLE=Pt.FILE+Pt.FOLDER});var mo=mt(Fn=>{"use strict";function xl(e){for(var t in e)Fn.hasOwnProperty(t)||(Fn[t]=e[t])}Object.defineProperty(Fn,"__esModule",{value:!0});xl(po())});var Ls=mt(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.createDeferred=Re.deferred=void 0;function Fs(){let e,t,n="pending";return{promise:new Promise((r,i)=>{e=r,t=i}),done(r){n==="pending"&&(n="resolved",e(r))},fail(r){n==="pending"&&(n="rejected",t(r))},get fulfilled(){return n!=="pending"},get status(){return n}}}Re.deferred=Fs;Re.createDeferred=Fs;Re.default=Fs});var Rp={};module.exports=ou(Rp);var au=/^(?:( )+|\t+)/,Xe="space",jr="tab";function Pr(e,t){let n=new Map,s=0,r,i;for(let o of e.split(/\n/g)){if(!o)continue;let u,h,y,p,l=o.match(au);if(l===null)s=0,r="";else{if(u=l[0].length,h=l[1]?Xe:jr,t&&h===Xe&&u===1)continue;h!==r&&(s=0),r=h,y=0;let m=u-s;if(s=u,m===0)y++;else{let b=m>0?m:-m;i=cu(h,b)}p=n.get(i),p=p===void 0?[1,0]:[++p[0],p[1]+y],n.set(i,p)}}return n}function cu(e,t){return(e===Xe?"s":"t")+String(t)}function uu(e){let n=e[0]==="s"?Xe:jr,s=Number(e.slice(1));return{type:n,amount:s}}function lu(e){let t,n=0,s=0;for(let[r,[i,o]]of e)(i>n||i===n&&o>s)&&(n=i,s=o,t=r);return t}function fu(e,t){return(e===Xe?" ":"	").repeat(t)}function ss(e){if(typeof e!="string")throw new TypeError("Expected a string");let t=Pr(e,!0);t.size===0&&(t=Pr(e,!1));let n=lu(t),s,r=0,i="";return n!==void 0&&({type:s,amount:r}=uu(n),i=fu(s,r)),{amount:r,type:s,indent:i}}var Jc=require("fs"),Ye=require("fs/promises"),ns=se(cs()),Zc=se(ls());var Cn=require("assert");var Au={right:Pu,center:ju},Su=0,gn=1,Iu=2,bn=3,Qr=class{constructor(t){var n;this.width=t.width,this.wrap=(n=t.wrap)!==null&&n!==void 0?n:!0,this.rows=[]}span(...t){let n=this.div(...t);n.span=!0}resetOutput(){this.rows=[]}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);let n=t.map(s=>typeof s=="string"?this.colFromString(s):s);return this.rows.push(n),n}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){let n=t.split(`
`).map(r=>r.split("	")),s=0;return n.forEach(r=>{r.length>1&&At.stringWidth(r[0])>s&&(s=Math.min(Math.floor(this.width*.5),At.stringWidth(r[0])))}),n.forEach(r=>{this.div(...r.map((i,o)=>({text:i.trim(),padding:this.measurePadding(i),width:o===0&&r.length>1?s:void 0})))}),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){let n=At.stripAnsi(t);return[0,n.match(/\s*$/)[0].length,0,n.match(/^\s*/)[0].length]}toString(){let t=[];return this.rows.forEach(n=>{this.rowToString(n,t)}),t.filter(n=>!n.hidden).map(n=>n.text).join(`
`)}rowToString(t,n){return this.rasterize(t).forEach((s,r)=>{let i="";s.forEach((o,u)=>{let{width:h}=t[u],y=this.negatePadding(t[u]),p=o;y>At.stringWidth(o)&&(p+=" ".repeat(y-At.stringWidth(o))),t[u].align&&t[u].align!=="left"&&this.wrap&&(p=Au[t[u].align](p,y),At.stringWidth(p)<y&&(p+=" ".repeat((h||0)-At.stringWidth(p)-1)));let l=t[u].padding||[0,0,0,0];l[bn]&&(i+=" ".repeat(l[bn])),i+=Xr(t[u],p,"| "),i+=p,i+=Xr(t[u],p," |"),l[gn]&&(i+=" ".repeat(l[gn])),r===0&&n.length>0&&(i=this.renderInline(i,n[n.length-1]))}),n.push({text:i.replace(/ +$/,""),span:t.span})}),n}renderInline(t,n){let s=t.match(/^ */),r=s?s[0].length:0,i=n.text,o=At.stringWidth(i.trimRight());return n.span?this.wrap?r<o?t:(n.hidden=!0,i.trimRight()+" ".repeat(r-o)+t.trimLeft()):(n.hidden=!0,i+t):t}rasterize(t){let n=[],s=this.columnWidths(t),r;return t.forEach((i,o)=>{i.width=s[o],this.wrap?r=At.wrap(i.text,this.negatePadding(i),{hard:!0}).split(`
`):r=i.text.split(`
`),i.border&&(r.unshift("."+"-".repeat(this.negatePadding(i)+2)+"."),r.push("'"+"-".repeat(this.negatePadding(i)+2)+"'")),i.padding&&(r.unshift(...new Array(i.padding[Su]||0).fill("")),r.push(...new Array(i.padding[Iu]||0).fill(""))),r.forEach((u,h)=>{n[h]||n.push([]);let y=n[h];for(let p=0;p<o;p++)y[p]===void 0&&y.push("");y.push(u)})}),n}negatePadding(t){let n=t.width||0;return t.padding&&(n-=(t.padding[bn]||0)+(t.padding[gn]||0)),t.border&&(n-=4),n}columnWidths(t){if(!this.wrap)return t.map(o=>o.width||At.stringWidth(o.text));let n=t.length,s=this.width,r=t.map(o=>{if(o.width)return n--,s-=o.width,o.width}),i=n?Math.floor(s/n):0;return r.map((o,u)=>o===void 0?Math.max(i,xu(t[u])):o)}};function Xr(e,t,n){return e.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?n:"  ":""}function xu(e){let t=e.padding||[],n=1+(t[bn]||0)+(t[gn]||0);return e.border?n+4:n}function Ru(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function Pu(e,t){e=e.trim();let n=At.stringWidth(e);return n<t?" ".repeat(t-n)+e:e}function ju(e,t){e=e.trim();let n=At.stringWidth(e);return n>=t?e:" ".repeat(t-n>>1)+e}var At;function Jr(e,t){return At=t,new Qr({width:(e==null?void 0:e.width)||Ru(),wrap:e==null?void 0:e.wrap})}var Zr=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function fs(e){return e.replace(Zr,"")}function ti(e,t){let[n,s]=e.match(Zr)||["",""];e=fs(e);let r="";for(let i=0;i<e.length;i++)i!==0&&i%t===0&&(r+=`
`),r+=e.charAt(i);return n&&s&&(r=`${n}${r}${s}`),r}function hs(e){return Jr(e,{stringWidth:t=>[...t].length,stripAnsi:fs,wrap:ti})}var Me=require("path"),yn=require("fs");function ei(e,t){let n=(0,Me.resolve)(".",e),s;for((0,yn.statSync)(n).isDirectory()||(n=(0,Me.dirname)(n));;){if(s=t(n,(0,yn.readdirSync)(n)),s)return(0,Me.resolve)(n,s);if(n=(0,Me.dirname)(s=n),s===n)break}}var bi=require("util"),yi=require("fs"),_i=require("url");var ii=require("util"),wn=require("path");function ge(e){if(e!==e.toLowerCase()&&e!==e.toUpperCase()||(e=e.toLowerCase()),e.indexOf("-")===-1&&e.indexOf("_")===-1)return e;{let n="",s=!1,r=e.match(/^-+/);for(let i=r?r[0].length:0;i<e.length;i++){let o=e.charAt(i);s&&(s=!1,o=o.toUpperCase()),i!==0&&(o==="-"||o==="_")?s=!0:o!=="-"&&o!=="_"&&(n+=o)}return n}}function _n(e,t){let n=e.toLowerCase();t=t||"-";let s="";for(let r=0;r<e.length;r++){let i=n.charAt(r),o=e.charAt(r);i!==o&&r>0?s+=`${t}${n.charAt(r)}`:s+=o}return s}function En(e){return e==null?!1:typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^0[^.]/.test(e)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function ni(e){if(Array.isArray(e))return e.map(o=>typeof o!="string"?o+"":o);e=e.trim();let t=0,n=null,s=null,r=null,i=[];for(let o=0;o<e.length;o++){if(n=s,s=e.charAt(o),s===" "&&!r){n!==" "&&t++;continue}s===r?r=null:(s==="'"||s==='"')&&!r&&(r=s),i[t]||(i[t]=""),i[t]+=s}return i}var Mt;(function(e){e.BOOLEAN="boolean",e.STRING="string",e.NUMBER="number",e.ARRAY="array"})(Mt||(Mt={}));var ee,ds=class{constructor(t){ee=t}parse(t,n){let s=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},n),r=ni(t),i=typeof t=="string",o=ku(Object.assign(Object.create(null),s.alias)),u=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},s.configuration),h=Object.assign(Object.create(null),s.default),y=s.configObjects||[],p=s.envPrefix,l=u["populate--"],m=l?"--":"_",b=Object.create(null),v=Object.create(null),w=s.__||ee.format,g={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},D=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,U=new RegExp("^--"+u["negation-prefix"]+"(.+)");[].concat(s.array||[]).filter(Boolean).forEach(function(c){let f=typeof c=="object"?c.key:c,E=Object.keys(c).map(function(_){return{boolean:"bools",string:"strings",number:"numbers"}[_]}).filter(Boolean).pop();E&&(g[E][f]=!0),g.arrays[f]=!0,g.keys.push(f)}),[].concat(s.boolean||[]).filter(Boolean).forEach(function(c){g.bools[c]=!0,g.keys.push(c)}),[].concat(s.string||[]).filter(Boolean).forEach(function(c){g.strings[c]=!0,g.keys.push(c)}),[].concat(s.number||[]).filter(Boolean).forEach(function(c){g.numbers[c]=!0,g.keys.push(c)}),[].concat(s.count||[]).filter(Boolean).forEach(function(c){g.counts[c]=!0,g.keys.push(c)}),[].concat(s.normalize||[]).filter(Boolean).forEach(function(c){g.normalize[c]=!0,g.keys.push(c)}),typeof s.narg=="object"&&Object.entries(s.narg).forEach(([c,f])=>{typeof f=="number"&&(g.nargs[c]=f,g.keys.push(c))}),typeof s.coerce=="object"&&Object.entries(s.coerce).forEach(([c,f])=>{typeof f=="function"&&(g.coercions[c]=f,g.keys.push(c))}),typeof s.config<"u"&&(Array.isArray(s.config)||typeof s.config=="string"?[].concat(s.config).filter(Boolean).forEach(function(c){g.configs[c]=!0}):typeof s.config=="object"&&Object.entries(s.config).forEach(([c,f])=>{(typeof f=="boolean"||typeof f=="function")&&(g.configs[c]=f)})),te(s.key,o,s.default,g.arrays),Object.keys(h).forEach(function(c){(g.aliases[c]||[]).forEach(function(f){h[f]=h[c]})});let Y=null;me();let W=[],Q=Object.assign(Object.create(null),{_:[]}),vt={};for(let c=0;c<r.length;c++){let f=r[c],E=f.replace(/^-{3,}/,"---"),_,d,S,T,N,dt;if(f!=="--"&&st(f))wt(f);else if(E.match(/---+(=|$)/)){wt(f);continue}else if(f.match(/^--.+=/)||!u["short-option-groups"]&&f.match(/^-.+=/))T=f.match(/^--?([^=]+)=([\s\S]*)$/),T!==null&&Array.isArray(T)&&T.length>=3&&(F(T[1],g.arrays)?c=Gt(c,T[1],r,T[2]):F(T[1],g.nargs)!==!1?c=Bt(c,T[1],r,T[2]):J(T[1],T[2],!0));else if(f.match(U)&&u["boolean-negation"])T=f.match(U),T!==null&&Array.isArray(T)&&T.length>=2&&(d=T[1],J(d,F(d,g.arrays)?[!1]:!1));else if(f.match(/^--.+/)||!u["short-option-groups"]&&f.match(/^-[^-]+/))T=f.match(/^--?(.+)/),T!==null&&Array.isArray(T)&&T.length>=2&&(d=T[1],F(d,g.arrays)?c=Gt(c,d,r):F(d,g.nargs)!==!1?c=Bt(c,d,r):(N=r[c+1],N!==void 0&&(!N.match(/^-/)||N.match(D))&&!F(d,g.bools)&&!F(d,g.counts)||/^(true|false)$/.test(N)?(J(d,N),c++):J(d,rt(d))));else if(f.match(/^-.\..+=/))T=f.match(/^-([^=]+)=([\s\S]*)$/),T!==null&&Array.isArray(T)&&T.length>=3&&J(T[1],T[2]);else if(f.match(/^-.\..+/)&&!f.match(D))N=r[c+1],T=f.match(/^-(.\..+)/),T!==null&&Array.isArray(T)&&T.length>=2&&(d=T[1],N!==void 0&&!N.match(/^-/)&&!F(d,g.bools)&&!F(d,g.counts)?(J(d,N),c++):J(d,rt(d)));else if(f.match(/^-[^-]+/)&&!f.match(D)){S=f.slice(1,-1).split(""),_=!1;for(let Ot=0;Ot<S.length;Ot++){if(N=f.slice(Ot+2),S[Ot+1]&&S[Ot+1]==="="){dt=f.slice(Ot+3),d=S[Ot],F(d,g.arrays)?c=Gt(c,d,r,dt):F(d,g.nargs)!==!1?c=Bt(c,d,r,dt):J(d,dt),_=!0;break}if(N==="-"){J(S[Ot],N);continue}if(/[A-Za-z]/.test(S[Ot])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(N)&&F(N,g.bools)===!1){J(S[Ot],N),_=!0;break}if(S[Ot+1]&&S[Ot+1].match(/\W/)){J(S[Ot],N),_=!0;break}else J(S[Ot],rt(S[Ot]))}d=f.slice(-1)[0],!_&&d!=="-"&&(F(d,g.arrays)?c=Gt(c,d,r):F(d,g.nargs)!==!1?c=Bt(c,d,r):(N=r[c+1],N!==void 0&&(!/^(-|--)[^-]/.test(N)||N.match(D))&&!F(d,g.bools)&&!F(d,g.counts)||/^(true|false)$/.test(N)?(J(d,N),c++):J(d,rt(d))))}else if(f.match(/^-[0-9]$/)&&f.match(D)&&F(f.slice(1),g.bools))d=f.slice(1),J(d,rt(d));else if(f==="--"){W=r.slice(c+1);break}else if(u["halt-at-non-option"]){W=r.slice(c);break}else wt(f)}V(Q,!0),V(Q,!1),B(Q),at(),nt(Q,g.aliases,h,!0),ht(Q),u["set-placeholder-key"]&&Zt(Q),Object.keys(g.counts).forEach(function(c){Ut(Q,c.split("."))||J(c,0)}),l&&W.length&&(Q[m]=[]),W.forEach(function(c){Q[m].push(c)}),u["camel-case-expansion"]&&u["strip-dashed"]&&Object.keys(Q).filter(c=>c!=="--"&&c.includes("-")).forEach(c=>{delete Q[c]}),u["strip-aliased"]&&[].concat(...Object.keys(o).map(c=>o[c])).forEach(c=>{u["camel-case-expansion"]&&c.includes("-")&&delete Q[c.split(".").map(f=>ge(f)).join(".")],delete Q[c]});function wt(c){let f=I("_",c);(typeof f=="string"||typeof f=="number")&&Q._.push(f)}function Bt(c,f,E,_){let d,S=F(f,g.nargs);if(S=typeof S!="number"||isNaN(S)?1:S,S===0)return A(_)||(Y=Error(w("Argument unexpected for: %s",f))),J(f,rt(f)),c;let T=A(_)?0:1;if(u["nargs-eats-options"])E.length-(c+1)+T<S&&(Y=Error(w("Not enough arguments following: %s",f))),T=S;else{for(d=c+1;d<E.length&&(!E[d].match(/^-[^0-9]/)||E[d].match(D)||st(E[d]));d++)T++;T<S&&(Y=Error(w("Not enough arguments following: %s",f)))}let N=Math.min(T,S);for(!A(_)&&N>0&&(J(f,_),N--),d=c+1;d<N+c+1;d++)J(f,E[d]);return c+N}function Gt(c,f,E,_){let d=[],S=_||E[c+1],T=F(f,g.nargs);if(F(f,g.bools)&&!/^(true|false)$/.test(S))d.push(!0);else if(A(S)||A(_)&&/^-/.test(S)&&!D.test(S)&&!st(S)){if(h[f]!==void 0){let N=h[f];d=Array.isArray(N)?N:[N]}}else{A(_)||d.push(O(f,_,!0));for(let N=c+1;N<E.length&&!(!u["greedy-arrays"]&&d.length>0||T&&typeof T=="number"&&d.length>=T||(S=E[N],/^-/.test(S)&&!D.test(S)&&!st(S)));N++)c=N,d.push(O(f,S,i))}return typeof T=="number"&&(T&&d.length<T||isNaN(T)&&d.length===0)&&(Y=Error(w("Not enough arguments following: %s",f))),J(f,d),c}function J(c,f,E=i){if(/-/.test(c)&&u["camel-case-expansion"]){let S=c.split(".").map(function(T){return ge(T)}).join(".");k(c,S)}let _=O(c,f,E),d=c.split(".");Wt(Q,d,_),g.aliases[c]&&g.aliases[c].forEach(function(S){let T=S.split(".");Wt(Q,T,_)}),d.length>1&&u["dot-notation"]&&(g.aliases[d[0]]||[]).forEach(function(S){let T=S.split("."),N=[].concat(d);N.shift(),T=T.concat(N),(g.aliases[c]||[]).includes(T.join("."))||Wt(Q,T,_)}),F(c,g.normalize)&&!F(c,g.arrays)&&[c].concat(g.aliases[c]||[]).forEach(function(T){Object.defineProperty(vt,T,{enumerable:!0,get(){return f},set(N){f=typeof N=="string"?ee.normalize(N):N}})})}function k(c,f){g.aliases[c]&&g.aliases[c].length||(g.aliases[c]=[f],b[f]=!0),g.aliases[f]&&g.aliases[f].length||k(f,c)}function O(c,f,E){E&&(f=Mu(f)),(F(c,g.bools)||F(c,g.counts))&&typeof f=="string"&&(f=f==="true");let _=Array.isArray(f)?f.map(function(d){return I(c,d)}):I(c,f);return F(c,g.counts)&&(A(_)||typeof _=="boolean")&&(_=ps()),F(c,g.normalize)&&F(c,g.arrays)&&(Array.isArray(f)?_=f.map(d=>ee.normalize(d)):_=ee.normalize(f)),_}function I(c,f){return!u["parse-positional-numbers"]&&c==="_"||!F(c,g.strings)&&!F(c,g.bools)&&!Array.isArray(f)&&(En(f)&&u["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${f}`)))||!A(f)&&F(c,g.numbers))&&(f=Number(f)),f}function B(c){let f=Object.create(null);nt(f,g.aliases,h),Object.keys(g.configs).forEach(function(E){let _=c[E]||f[E];if(_)try{let d=null,S=ee.resolve(ee.cwd(),_),T=g.configs[E];if(typeof T=="function"){try{d=T(S)}catch(N){d=N}if(d instanceof Error){Y=d;return}}else d=ee.require(S);Z(d)}catch(d){d.name==="PermissionDenied"?Y=d:c[E]&&(Y=Error(w("Invalid JSON config file: %s",_)))}})}function Z(c,f){Object.keys(c).forEach(function(E){let _=c[E],d=f?f+"."+E:E;typeof _=="object"&&_!==null&&!Array.isArray(_)&&u["dot-notation"]?Z(_,d):(!Ut(Q,d.split("."))||F(d,g.arrays)&&u["combine-arrays"])&&J(d,_)})}function at(){typeof y<"u"&&y.forEach(function(c){Z(c)})}function V(c,f){if(typeof p>"u")return;let E=typeof p=="string"?p:"",_=ee.env();Object.keys(_).forEach(function(d){if(E===""||d.lastIndexOf(E,0)===0){let S=d.split("__").map(function(T,N){return N===0&&(T=T.substring(E.length)),ge(T)});(f&&g.configs[S.join(".")]||!f)&&!Ut(c,S)&&J(S.join("."),_[d])}})}function ht(c){let f,E=new Set;Object.keys(c).forEach(function(_){if(!E.has(_)&&(f=F(_,g.coercions),typeof f=="function"))try{let d=I(_,f(c[_]));[].concat(g.aliases[_]||[],_).forEach(S=>{E.add(S),c[S]=d})}catch(d){Y=d}})}function Zt(c){return g.keys.forEach(f=>{~f.indexOf(".")||typeof c[f]>"u"&&(c[f]=void 0)}),c}function nt(c,f,E,_=!1){Object.keys(E).forEach(function(d){Ut(c,d.split("."))||(Wt(c,d.split("."),E[d]),_&&(v[d]=!0),(f[d]||[]).forEach(function(S){Ut(c,S.split("."))||Wt(c,S.split("."),E[d])}))})}function Ut(c,f){let E=c;u["dot-notation"]||(f=[f.join(".")]),f.slice(0,-1).forEach(function(d){E=E[d]||{}});let _=f[f.length-1];return typeof E!="object"?!1:_ in E}function Wt(c,f,E){let _=c;u["dot-notation"]||(f=[f.join(".")]),f.slice(0,-1).forEach(function(dt){dt=si(dt),typeof _=="object"&&_[dt]===void 0&&(_[dt]={}),typeof _[dt]!="object"||Array.isArray(_[dt])?(Array.isArray(_[dt])?_[dt].push({}):_[dt]=[_[dt],{}],_=_[dt][_[dt].length-1]):_=_[dt]});let d=si(f[f.length-1]),S=F(f.join("."),g.arrays),T=Array.isArray(E),N=u["duplicate-arguments-array"];!N&&F(d,g.nargs)&&(N=!0,(!A(_[d])&&g.nargs[d]===1||Array.isArray(_[d])&&_[d].length===g.nargs[d])&&(_[d]=void 0)),E===ps()?_[d]=ps(_[d]):Array.isArray(_[d])?N&&S&&T?_[d]=u["flatten-duplicate-arrays"]?_[d].concat(E):(Array.isArray(_[d][0])?_[d]:[_[d]]).concat([E]):!N&&Boolean(S)===Boolean(T)?_[d]=E:_[d]=_[d].concat([E]):_[d]===void 0&&S?_[d]=T?E:[E]:N&&!(_[d]===void 0||F(d,g.counts)||F(d,g.bools))?_[d]=[_[d],E]:_[d]=E}function te(...c){c.forEach(function(f){Object.keys(f||{}).forEach(function(E){g.aliases[E]||(g.aliases[E]=[].concat(o[E]||[]),g.aliases[E].concat(E).forEach(function(_){if(/-/.test(_)&&u["camel-case-expansion"]){let d=ge(_);d!==E&&g.aliases[E].indexOf(d)===-1&&(g.aliases[E].push(d),b[d]=!0)}}),g.aliases[E].concat(E).forEach(function(_){if(_.length>1&&/[A-Z]/.test(_)&&u["camel-case-expansion"]){let d=_n(_,"-");d!==E&&g.aliases[E].indexOf(d)===-1&&(g.aliases[E].push(d),b[d]=!0)}}),g.aliases[E].forEach(function(_){g.aliases[_]=[E].concat(g.aliases[E].filter(function(d){return _!==d}))}))})})}function F(c,f){let E=[].concat(g.aliases[c]||[],c),_=Object.keys(f),d=E.find(S=>_.includes(S));return d?f[d]:!1}function Ke(c){let f=Object.keys(g);return[].concat(f.map(_=>g[_])).some(function(_){return Array.isArray(_)?_.includes(c):_[c]})}function $(c,...f){return[].concat(...f).some(function(_){let d=c.match(_);return d&&Ke(d[1])})}function tt(c){if(c.match(D)||!c.match(/^-[^-]+/))return!1;let f=!0,E,_=c.slice(1).split("");for(let d=0;d<_.length;d++){if(E=c.slice(d+2),!Ke(_[d])){f=!1;break}if(_[d+1]&&_[d+1]==="="||E==="-"||/[A-Za-z]/.test(_[d])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(E)||_[d+1]&&_[d+1].match(/\W/))break}return f}function st(c){return u["unknown-options-as-args"]&&H(c)}function H(c){return c=c.replace(/^-{3,}/,"--"),c.match(D)||tt(c)?!1:!$(c,/^-+([^=]+?)=[\s\S]*$/,U,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function rt(c){return!F(c,g.bools)&&!F(c,g.counts)&&`${c}`in h?h[c]:ct(it(c))}function ct(c){return{[Mt.BOOLEAN]:!0,[Mt.STRING]:"",[Mt.NUMBER]:void 0,[Mt.ARRAY]:[]}[c]}function it(c){let f=Mt.BOOLEAN;return F(c,g.strings)?f=Mt.STRING:F(c,g.numbers)?f=Mt.NUMBER:F(c,g.bools)?f=Mt.BOOLEAN:F(c,g.arrays)&&(f=Mt.ARRAY),f}function A(c){return c===void 0}function me(){Object.keys(g.counts).find(c=>F(c,g.arrays)?(Y=Error(w("Invalid configuration: %s, opts.count excludes opts.array.",c)),!0):F(c,g.nargs)?(Y=Error(w("Invalid configuration: %s, opts.count excludes opts.narg.",c)),!0):!1)}return{aliases:Object.assign({},g.aliases),argv:Object.assign(vt,Q),configuration:u,defaulted:Object.assign({},v),error:Y,newAliases:Object.assign({},b)}}};function ku(e){let t=[],n=Object.create(null),s=!0;for(Object.keys(e).forEach(function(r){t.push([].concat(e[r],r))});s;){s=!1;for(let r=0;r<t.length;r++)for(let i=r+1;i<t.length;i++)if(t[r].filter(function(u){return t[i].indexOf(u)!==-1}).length){t[r]=t[r].concat(t[i]),t.splice(i,1),s=!0;break}}return t.forEach(function(r){r=r.filter(function(o,u,h){return h.indexOf(o)===u});let i=r.pop();i!==void 0&&typeof i=="string"&&(n[i]=r)}),n}function ps(e){return e!==void 0?e+1:1}function si(e){return e==="__proto__"?"___proto___":e}function Mu(e){return typeof e=="string"&&(e[0]==="'"||e[0]==='"')&&e[e.length-1]===e[0]?e.substring(1,e.length-1):e}var oi=require("fs");var ri=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12;if(process&&process.version&&Number(process.version.match(/v([^.]+)/)[1])<ri)throw Error(`yargs parser supports a minimum Node.js version of ${ri}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var Nu=process?process.env:{},ai=new ds({cwd:process.cwd,env:()=>Nu,format:ii.format,normalize:wn.normalize,resolve:wn.resolve,require:e=>{if(typeof require<"u")return require(e);if(e.match(/\.json$/))return JSON.parse((0,oi.readFileSync)(e,"utf8"));throw Error("only .json config files are supported in ESM")}}),Je=function(t,n){return ai.parse(t.slice(),n).argv};Je.detailed=function(e,t){return ai.parse(e.slice(),t)};Je.camelCase=ge;Je.decamelize=_n;Je.looksLikeNumber=En;var ms=Je;var qt=require("path");function ci(){return $u()?0:1}function $u(){return Fu()&&!process.defaultApp}function Fu(){return!!process.versions.electron}function gs(e){return e.slice(ci()+1)}function ui(){return process.argv[ci()]}var et=class extends Error{constructor(t){super(t||"yargs error");this.name="YError",Error.captureStackTrace(this,et)}};var Ne=require("fs"),li=require("util"),fi=require("path"),hi={fs:{readFileSync:Ne.readFileSync,writeFile:Ne.writeFile},format:li.format,resolve:fi.resolve,exists:e=>{try{return(0,Ne.statSync)(e).isFile()}catch{return!1}}};var zt,pi=class{constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let n=t.shift(),s=function(){};return typeof t[t.length-1]=="function"&&(s=t.pop()),s=s||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]=n,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:s})):s(),zt.format.apply(zt.format,[this.cache[this.locale][n]||n].concat(t))}__n(){let t=Array.prototype.slice.call(arguments),n=t.shift(),s=t.shift(),r=t.shift(),i=function(){};typeof t[t.length-1]=="function"&&(i=t.pop()),this.cache[this.locale]||this._readLocaleFile();let o=r===1?n:s;this.cache[this.locale][n]&&(o=this.cache[this.locale][n][r===1?"one":"other"]),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]={one:n,other:s},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:i})):i();let u=[o];return~o.indexOf("%d")&&u.push(r),zt.format.apply(zt.format,u.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this.cache[this.locale][n]=t[n])}_taggedLiteral(t,...n){let s="";return t.forEach(function(r,i){let o=n[i+1];s+=r,typeof o<"u"&&(s+="%s")}),this.__.apply(this,[s].concat([].slice.call(n,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let t=this,n=this.writeQueue[0],s=n.directory,r=n.locale,i=n.cb,o=this._resolveLocaleFile(s,r),u=JSON.stringify(this.cache[r],null,2);zt.fs.writeFile(o,u,"utf-8",function(h){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),i(h)})}_readLocaleFile(){let t={},n=this._resolveLocaleFile(this.directory,this.locale);try{zt.fs.readFileSync&&(t=JSON.parse(zt.fs.readFileSync(n,"utf-8")))}catch(s){if(s instanceof SyntaxError&&(s.message="syntax error in "+n),s.code==="ENOENT")t={};else throw s}this.cache[this.locale]=t}_resolveLocaleFile(t,n){let s=zt.resolve(t,"./",n+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(s)&&~n.lastIndexOf("_")){let r=zt.resolve(t,"./",n.split("_")[0]+".json");this._fileExistsSync(r)&&(s=r)}return s}_fileExistsSync(t){return zt.exists(t)}};function di(e,t){zt=t;let n=new pi(e);return{__:n.__.bind(n),__n:n.__n.bind(n),setLocale:n.setLocale.bind(n),getLocale:n.getLocale.bind(n),updateLocale:n.updateLocale.bind(n),locale:n.locale}}var Lu=e=>di(e,hi),mi=Lu;var Gu={},Du="require is not supported by ESM",gi="loading a directory of commands is not supported yet for ESM",On;try{On=(0,_i.fileURLToPath)(Gu.url)}catch{On=process.cwd()}var Bu=On.split("node_modules")[0],bs={assert:{notStrictEqual:Cn.notStrictEqual,strictEqual:Cn.strictEqual},cliui:hs,findUp:ei,getEnv:e=>process.env[e],inspect:bi.inspect,getCallerFile:()=>{throw new et(gi)},getProcessArgvBin:ui,mainFilename:Bu||process.cwd(),Parser:ms,path:{basename:qt.basename,dirname:qt.dirname,extname:qt.extname,relative:qt.relative,resolve:qt.resolve},process:{argv:()=>process.argv,cwd:process.cwd,emitWarning:(e,t)=>process.emitWarning(e,t),execPath:()=>process.execPath,exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<"u"?process.stdout.columns:null},readFileSync:yi.readFileSync,require:()=>{throw new et(Du)},requireDirectory:()=>{throw new et(gi)},stringWidth:e=>[...e].length,y18n:mi({directory:(0,qt.resolve)(On,"../../../locales"),updateFiles:!1})};function Ct(e,t,n,s){n.assert.notStrictEqual(e,t,s)}function ys(e,t){t.assert.strictEqual(typeof e,"string")}function $e(e){return Object.keys(e)}function ot(e){return!!e&&!!e.then&&typeof e.then=="function"}function ie(e){let n=e.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),s=/\.*[\][<>]/g,r=n.shift();if(!r)throw new Error(`No command found in: ${e}`);let i={cmd:r.replace(s,""),demanded:[],optional:[]};return n.forEach((o,u)=>{let h=!1;o=o.replace(/\s/g,""),/\.+[\]>]/.test(o)&&u===n.length-1&&(h=!0),/^\[/.test(o)?i.optional.push({cmd:o.replace(s,"").split("|"),variadic:h}):i.demanded.push({cmd:o.replace(s,"").split("|"),variadic:h})}),i}var Uu=["first","second","third","fourth","fifth","sixth"];function x(e,t,n){function s(){return typeof e=="object"?[{demanded:[],optional:[]},e,t]:[ie(`cmd ${e}`),t,n]}try{let r=0,[i,o,u]=s(),h=[].slice.call(o);for(;h.length&&h[h.length-1]===void 0;)h.pop();let y=u||h.length;if(y<i.demanded.length)throw new et(`Not enough arguments provided. Expected ${i.demanded.length} but received ${h.length}.`);let p=i.demanded.length+i.optional.length;if(y>p)throw new et(`Too many arguments provided. Expected max ${p} but received ${y}.`);i.demanded.forEach(l=>{let m=h.shift(),b=Ei(m);l.cmd.filter(w=>w===b||w==="*").length===0&&wi(b,l.cmd,r),r+=1}),i.optional.forEach(l=>{if(h.length===0)return;let m=h.shift(),b=Ei(m);l.cmd.filter(w=>w===b||w==="*").length===0&&wi(b,l.cmd,r),r+=1})}catch(r){console.warn(r.stack)}}function Ei(e){return Array.isArray(e)?"array":e===null?"null":typeof e}function wi(e,t,n){throw new et(`Invalid ${Uu[n]||"manyith"} argument. Expected ${t.join(" or ")} but received ${e}.`)}var _s=class{constructor(t){this.globalMiddleware=[],this.frozens=[],this.yargs=t}addMiddleware(t,n,s=!0,r=!1){if(x("<array|function> [boolean] [boolean] [boolean]",[t,n,s],arguments.length),Array.isArray(t)){for(let i=0;i<t.length;i++){if(typeof t[i]!="function")throw Error("middleware must be a function");let o=t[i];o.applyBeforeValidation=n,o.global=s}Array.prototype.push.apply(this.globalMiddleware,t)}else if(typeof t=="function"){let i=t;i.applyBeforeValidation=n,i.global=s,i.mutates=r,this.globalMiddleware.push(t)}return this.yargs}addCoerceMiddleware(t,n){let s=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(r=>{let i=[...s[n]||[],n];return r.option?!i.includes(r.option):!0}),t.option=n,this.addMiddleware(t,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let t=this.frozens.pop();t!==void 0&&(this.globalMiddleware=t)}reset(){this.globalMiddleware=this.globalMiddleware.filter(t=>t.global)}};function Oi(e){return e?e.map(t=>(t.applyBeforeValidation=!1,t)):[]}function be(e,t,n,s){return n.reduce((r,i)=>{if(i.applyBeforeValidation!==s)return r;if(i.mutates){if(i.applied)return r;i.applied=!0}if(ot(r))return r.then(o=>Promise.all([o,i(o,t)])).then(([o,u])=>Object.assign(o,u));{let o=i(r,t);return ot(o)?o.then(u=>Object.assign(r,u)):Object.assign(r,o)}},e)}function ye(e,t,n=s=>{throw s}){try{let s=Wu(e)?e():e;return ot(s)?s.then(r=>t(r)):t(s)}catch(s){return n(s)}}function Wu(e){return typeof e=="function"}function Es(e){if(typeof require>"u")return null;for(let t=0,n=Object.keys(require.cache),s;t<n.length;t++)if(s=require.cache[n[t]],s.exports===e)return s;return null}var Fe=/(^\*)|(^\$0)/,Ti=class{constructor(t,n,s,r){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=r,this.usage=t,this.globalMiddleware=s,this.validation=n}addDirectory(t,n,s,r){r=r||{},typeof r.recurse!="boolean"&&(r.recurse=!1),Array.isArray(r.extensions)||(r.extensions=["js"]);let i=typeof r.visit=="function"?r.visit:o=>o;r.visit=(o,u,h)=>{let y=i(o,u,h);if(y){if(this.requireCache.has(u))return y;this.requireCache.add(u),this.addHandler(y)}return y},this.shim.requireDirectory({require:n,filename:s},t,r)}addHandler(t,n,s,r,i,o){let u=[],h=Oi(i);if(r=r||(()=>{}),Array.isArray(t))if(zu(t))[t,...u]=t;else for(let y of t)this.addHandler(y);else if(Hu(t)){let y=Array.isArray(t.command)||typeof t.command=="string"?t.command:this.moduleName(t);t.aliases&&(y=[].concat(y).concat(t.aliases)),this.addHandler(y,this.extractDesc(t),t.builder,t.handler,t.middlewares,t.deprecated);return}else if(Ci(s)){this.addHandler([t].concat(u),n,s.builder,s.handler,s.middlewares,s.deprecated);return}if(typeof t=="string"){let y=ie(t);u=u.map(m=>ie(m).cmd);let p=!1,l=[y.cmd].concat(u).filter(m=>Fe.test(m)?(p=!0,!1):!0);l.length===0&&p&&l.push("$0"),p&&(y.cmd=l[0],u=l.slice(1),t=t.replace(Fe,y.cmd)),u.forEach(m=>{this.aliasMap[m]=y.cmd}),n!==!1&&this.usage.command(t,n,p,u,o),this.handlers[y.cmd]={original:t,description:n,handler:r,builder:s||{},middlewares:h,deprecated:o,demanded:y.demanded,optional:y.optional},p&&(this.defaultCommand=this.handlers[y.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(t,n,s,r,i,o){let u=this.handlers[t]||this.handlers[this.aliasMap[t]]||this.defaultCommand,h=n.getInternalMethods().getContext(),y=h.commands.slice(),p=!t;t&&(h.commands.push(t),h.fullCommands.push(u.original));let l=this.applyBuilderUpdateUsageAndParse(p,u,n,s.aliases,y,r,i,o);return ot(l)?l.then(m=>this.applyMiddlewareAndGetResult(p,u,m.innerArgv,h,i,m.aliases,n)):this.applyMiddlewareAndGetResult(p,u,l.innerArgv,h,i,l.aliases,n)}applyBuilderUpdateUsageAndParse(t,n,s,r,i,o,u,h){let y=n.builder,p=s;if(Tn(y)){let l=y(s.getInternalMethods().reset(r),h);if(ot(l))return l.then(m=>(p=Ai(m)?m:s,this.parseAndUpdateUsage(t,n,p,i,o,u)))}else qu(y)&&(p=s.getInternalMethods().reset(r),Object.keys(n.builder).forEach(l=>{p.option(l,y[l])}));return this.parseAndUpdateUsage(t,n,p,i,o,u)}parseAndUpdateUsage(t,n,s,r,i,o){t&&s.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(s)&&s.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(r,n),n.description);let u=s.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,i,o);return ot(u)?u.then(h=>({aliases:s.parsed.aliases,innerArgv:h})):{aliases:s.parsed.aliases,innerArgv:u}}shouldUpdateUsage(t){return!t.getInternalMethods().getUsageInstance().getUsageDisabled()&&t.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(t,n){let s=Fe.test(n.original)?n.original.replace(Fe,"").trim():n.original,r=t.filter(i=>!Fe.test(i));return r.push(s),`$0 ${r.join(" ")}`}applyMiddlewareAndGetResult(t,n,s,r,i,o,u){let h={};if(i)return s;u.getInternalMethods().getHasOutput()||(h=this.populatePositionals(n,s,r,u));let y=this.globalMiddleware.getMiddleware().slice(0).concat(n.middlewares);if(s=be(s,u,y,!0),!u.getInternalMethods().getHasOutput()){let p=u.getInternalMethods().runValidation(o,h,u.parsed.error,t);s=ye(s,l=>(p(l),l))}if(n.handler&&!u.getInternalMethods().getHasOutput()){u.getInternalMethods().setHasOutput();let p=!!u.getOptions().configuration["populate--"];u.getInternalMethods().postProcess(s,p,!1,!1),s=be(s,u,y,!1),s=ye(s,l=>{let m=n.handler(l);return ot(m)?m.then(()=>l):l}),t||u.getInternalMethods().getUsageInstance().cacheHelpMessage(),ot(s)&&!u.getInternalMethods().hasParseCallback()&&s.catch(l=>{try{u.getInternalMethods().getUsageInstance().fail(null,l)}catch{}})}return t||(r.commands.pop(),r.fullCommands.pop()),s}populatePositionals(t,n,s,r){n._=n._.slice(s.commands.length);let i=t.demanded.slice(0),o=t.optional.slice(0),u={};for(this.validation.positionalCount(i.length,n._.length);i.length;){let h=i.shift();this.populatePositional(h,n,u)}for(;o.length;){let h=o.shift();this.populatePositional(h,n,u)}return n._=s.commands.concat(n._.map(h=>""+h)),this.postProcessPositionals(n,u,this.cmdToParseOptions(t.original),r),u}populatePositional(t,n,s){let r=t.cmd[0];t.variadic?s[r]=n._.splice(0).map(String):n._.length&&(s[r]=[String(n._.shift())])}cmdToParseOptions(t){let n={array:[],default:{},alias:{},demand:{}},s=ie(t);return s.demanded.forEach(r=>{let[i,...o]=r.cmd;r.variadic&&(n.array.push(i),n.default[i]=[]),n.alias[i]=o,n.demand[i]=!0}),s.optional.forEach(r=>{let[i,...o]=r.cmd;r.variadic&&(n.array.push(i),n.default[i]=[]),n.alias[i]=o}),n}postProcessPositionals(t,n,s,r){let i=Object.assign({},r.getOptions());i.default=Object.assign(s.default,i.default);for(let y of Object.keys(s.alias))i.alias[y]=(i.alias[y]||[]).concat(s.alias[y]);i.array=i.array.concat(s.array),i.config={};let o=[];if(Object.keys(n).forEach(y=>{n[y].map(p=>{i.configuration["unknown-options-as-args"]&&(i.key[y]=!0),o.push(`--${y}`),o.push(p)})}),!o.length)return;let u=Object.assign({},i.configuration,{"populate--":!1}),h=this.shim.Parser.detailed(o,Object.assign({},i,{configuration:u}));if(h.error)r.getInternalMethods().getUsageInstance().fail(h.error.message,h.error);else{let y=Object.keys(n);Object.keys(n).forEach(l=>{y.push(...h.aliases[l])});let p=r.getOptions().default;Object.keys(h.argv).forEach(l=>{y.includes(l)&&(n[l]||(n[l]=h.argv[l]),!Object.prototype.hasOwnProperty.call(p,l)&&Object.prototype.hasOwnProperty.call(t,l)&&Object.prototype.hasOwnProperty.call(h.argv,l)&&(Array.isArray(t[l])||Array.isArray(h.argv[l]))?t[l]=[].concat(t[l],h.argv[l]):t[l]=h.argv[l])})}}runDefaultBuilderOn(t){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(t)){let s=Fe.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");t.getInternalMethods().getUsageInstance().usage(s,this.defaultCommand.description)}let n=this.defaultCommand.builder;if(Tn(n))return n(t,!0);Ci(n)||Object.keys(n).forEach(s=>{t.option(s,n[s])})}moduleName(t){let n=Es(t);if(!n)throw new Error(`No command name given for module: ${this.shim.inspect(t)}`);return this.commandFromFilename(n.filename)}commandFromFilename(t){return this.shim.path.basename(t,this.shim.path.extname(t))}extractDesc({describe:t,description:n,desc:s}){for(let r of[t,n,s]){if(typeof r=="string"||r===!1)return r;Ct(r,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let t=this.frozens.pop();Ct(t,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=t}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function vi(e,t,n,s){return new Ti(e,t,n,s)}function Ci(e){return typeof e=="object"&&!!e.builder&&typeof e.handler=="function"}function zu(e){return e.every(t=>typeof t=="string")}function Tn(e){return typeof e=="function"}function qu(e){return typeof e=="object"}function Hu(e){return typeof e=="object"&&!Array.isArray(e)}function oe(e={},t=()=>!0){let n={};return $e(e).forEach(s=>{t(s,e[s])&&(n[s]=e[s])}),n}function ae(e){typeof process>"u"||[process.stdout,process.stderr].forEach(t=>{let n=t;n._handle&&n.isTTY&&typeof n._handle.setBlocking=="function"&&n._handle.setBlocking(e)})}function Vu(e){return typeof e=="boolean"}function Ii(e,t){let n=t.y18n.__,s={},r=[];s.failFn=function(O){r.push(O)};let i=null,o=!0;s.showHelpOnFail=function(O=!0,I){function B(){return typeof O=="string"?[!0,O]:[O,I]}let[Z,at]=B();return i=at,o=Z,s};let u=!1;s.fail=function(O,I){let B=e.getInternalMethods().getLoggerInstance();if(r.length)for(let Z=r.length-1;Z>=0;--Z){let at=r[Z];if(Vu(at)){if(I)throw I;if(O)throw Error(O)}else at(O,I,s)}else{if(e.getExitProcess()&&ae(!0),u||(u=!0,o&&(e.showHelp("error"),B.error()),(O||I)&&B.error(O||I),i&&((O||I)&&B.error(""),B.error(i))),I=I||new et(O),e.getExitProcess())return e.exit(1);if(e.getInternalMethods().hasParseCallback())return e.exit(1,I);throw I}};let h=[],y=!1;s.usage=(k,O)=>k===null?(y=!0,h=[],s):(y=!1,h.push([k,O||""]),s),s.getUsage=()=>h,s.getUsageDisabled=()=>y,s.getPositionalGroupName=()=>n("Positionals:");let p=[];s.example=(k,O)=>{p.push([k,O||""])};let l=[];s.command=function(O,I,B,Z,at=!1){B&&(l=l.map(V=>(V[2]=!1,V))),l.push([O,I||"",B,Z,at])},s.getCommands=()=>l;let m={};s.describe=function(O,I){Array.isArray(O)?O.forEach(B=>{s.describe(B,I)}):typeof O=="object"?Object.keys(O).forEach(B=>{s.describe(B,O[B])}):m[O]=I},s.getDescriptions=()=>m;let b=[];s.epilog=k=>{b.push(k)};let v=!1,w;s.wrap=k=>{v=!0,w=k};function g(){return v||(w=Bt(),v=!0),w}let D="__yargsString__:";s.deferY18nLookup=k=>D+k,s.help=function(){if(W)return W;Y();let O=e.customScriptName?e.$0:t.path.basename(e.$0),I=e.getDemandedOptions(),B=e.getDemandedCommands(),Z=e.getDeprecatedOptions(),at=e.getGroups(),V=e.getOptions(),ht=[];ht=ht.concat(Object.keys(m)),ht=ht.concat(Object.keys(I)),ht=ht.concat(Object.keys(B)),ht=ht.concat(Object.keys(V.default)),ht=ht.filter(vt),ht=Object.keys(ht.reduce(($,tt)=>(tt!=="_"&&($[tt]=!0),$),{}));let Zt=g(),nt=t.cliui({width:Zt,wrap:!!Zt});if(!y){if(h.length)h.forEach($=>{nt.div({text:`${$[0].replace(/\$0/g,O)}`}),$[1]&&nt.div({text:`${$[1]}`,padding:[1,0,0,0]})}),nt.div();else if(l.length){let $=null;B._?$=`${O} <${n("command")}>
`:$=`${O} [${n("command")}]
`,nt.div(`${$}`)}}if(l.length>1||l.length===1&&!l[0][2]){nt.div(n("Commands:"));let $=e.getInternalMethods().getContext(),tt=$.commands.length?`${$.commands.join(" ")} `:"";e.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(l=l.sort((H,rt)=>H[0].localeCompare(rt[0])));let st=O?`${O} `:"";l.forEach(H=>{let rt=`${st}${tt}${H[0].replace(/^\$0 ?/,"")}`;nt.span({text:rt,padding:[0,2,0,2],width:U(l,Zt,`${O}${tt}`)+4},{text:H[1]});let ct=[];H[2]&&ct.push(`[${n("default")}]`),H[3]&&H[3].length&&ct.push(`[${n("aliases:")} ${H[3].join(", ")}]`),H[4]&&(typeof H[4]=="string"?ct.push(`[${n("deprecated: %s",H[4])}]`):ct.push(`[${n("deprecated")}]`)),ct.length?nt.div({text:ct.join(" "),padding:[0,0,0,2],align:"right"}):nt.div()}),nt.div()}let Ut=(Object.keys(V.alias)||[]).concat(Object.keys(e.parsed.newAliases)||[]);ht=ht.filter($=>!e.parsed.newAliases[$]&&Ut.every(tt=>(V.alias[tt]||[]).indexOf($)===-1));let Wt=n("Options:");at[Wt]||(at[Wt]=[]),Q(ht,V.alias,at,Wt);let te=$=>/^--/.test(vn($)),F=Object.keys(at).filter($=>at[$].length>0).map($=>{let tt=at[$].filter(vt).map(st=>{if(Ut.includes(st))return st;for(let H=0,rt;(rt=Ut[H])!==void 0;H++)if((V.alias[rt]||[]).includes(st))return rt;return st});return{groupName:$,normalizedKeys:tt}}).filter(({normalizedKeys:$})=>$.length>0).map(({groupName:$,normalizedKeys:tt})=>{let st=tt.reduce((H,rt)=>(H[rt]=[rt].concat(V.alias[rt]||[]).map(ct=>$===s.getPositionalGroupName()?ct:(/^[0-9]$/.test(ct)?V.boolean.includes(rt)?"-":"--":ct.length>1?"--":"-")+ct).sort((ct,it)=>te(ct)===te(it)?0:te(ct)?1:-1).join(", "),H),{});return{groupName:$,normalizedKeys:tt,switches:st}});if(F.filter(({groupName:$})=>$!==s.getPositionalGroupName()).some(({normalizedKeys:$,switches:tt})=>!$.every(st=>te(tt[st])))&&F.filter(({groupName:$})=>$!==s.getPositionalGroupName()).forEach(({normalizedKeys:$,switches:tt})=>{$.forEach(st=>{te(tt[st])&&(tt[st]=Yu(tt[st],4))})}),F.forEach(({groupName:$,normalizedKeys:tt,switches:st})=>{nt.div($),tt.forEach(H=>{let rt=st[H],ct=m[H]||"",it=null;ct.includes(D)&&(ct=n(ct.substring(D.length))),V.boolean.includes(H)&&(it=`[${n("boolean")}]`),V.count.includes(H)&&(it=`[${n("count")}]`),V.string.includes(H)&&(it=`[${n("string")}]`),V.normalize.includes(H)&&(it=`[${n("string")}]`),V.array.includes(H)&&(it=`[${n("array")}]`),V.number.includes(H)&&(it=`[${n("number")}]`);let A=c=>typeof c=="string"?`[${n("deprecated: %s",c)}]`:`[${n("deprecated")}]`,me=[H in Z?A(Z[H]):null,it,H in I?`[${n("required")}]`:null,V.choices&&V.choices[H]?`[${n("choices:")} ${s.stringifiedValues(V.choices[H])}]`:null,wt(V.default[H],V.defaultDescription[H])].filter(Boolean).join(" ");nt.span({text:vn(rt),padding:[0,2,0,2+Si(rt)],width:U(st,Zt)+4},ct),me?nt.div({text:me,padding:[0,0,0,2],align:"right"}):nt.div()}),nt.div()}),p.length&&(nt.div(n("Examples:")),p.forEach($=>{$[0]=$[0].replace(/\$0/g,O)}),p.forEach($=>{$[1]===""?nt.div({text:$[0],padding:[0,2,0,2]}):nt.div({text:$[0],padding:[0,2,0,2],width:U(p,Zt)+4},{text:$[1]})}),nt.div()),b.length>0){let $=b.map(tt=>tt.replace(/\$0/g,O)).join(`
`);nt.div(`${$}
`)}return nt.toString().replace(/\s*$/,"")};function U(k,O,I){let B=0;return Array.isArray(k)||(k=Object.values(k).map(Z=>[Z])),k.forEach(Z=>{B=Math.max(t.stringWidth(I?`${I} ${vn(Z[0])}`:vn(Z[0]))+Si(Z[0]),B)}),O&&(B=Math.min(B,parseInt((O*.5).toString(),10))),B}function Y(){let k=e.getDemandedOptions(),O=e.getOptions();(Object.keys(O.alias)||[]).forEach(I=>{O.alias[I].forEach(B=>{m[B]&&s.describe(I,m[B]),B in k&&e.demandOption(I,k[B]),O.boolean.includes(B)&&e.boolean(I),O.count.includes(B)&&e.count(I),O.string.includes(B)&&e.string(I),O.normalize.includes(B)&&e.normalize(I),O.array.includes(B)&&e.array(I),O.number.includes(B)&&e.number(I)})})}let W;s.cacheHelpMessage=function(){W=this.help()},s.clearCachedHelpMessage=function(){W=void 0},s.hasCachedHelpMessage=function(){return!!W};function Q(k,O,I,B){let Z=[],at=null;return Object.keys(I).forEach(V=>{Z=Z.concat(I[V])}),k.forEach(V=>{at=[V].concat(O[V]),at.some(ht=>Z.indexOf(ht)!==-1)||I[B].push(V)}),Z}function vt(k){return e.getOptions().hiddenOptions.indexOf(k)<0||e.parsed.argv[e.getOptions().showHiddenOpt]}s.showHelp=k=>{let O=e.getInternalMethods().getLoggerInstance();k||(k="error"),(typeof k=="function"?k:O[k])(s.help())},s.functionDescription=k=>{let O=k.name?t.Parser.decamelize(k.name,"-"):n("generated-value");return["(",O,")"].join("")},s.stringifiedValues=function(O,I){let B="",Z=I||", ",at=[].concat(O);return!O||!at.length||at.forEach(V=>{B.length&&(B+=Z),B+=JSON.stringify(V)}),B};function wt(k,O){let I=`[${n("default:")} `;if(k===void 0&&!O)return null;if(O)I+=O;else switch(typeof k){case"string":I+=`"${k}"`;break;case"object":I+=JSON.stringify(k);break;default:I+=k}return`${I}]`}function Bt(){return t.process.stdColumns?Math.min(80,t.process.stdColumns):80}let Gt=null;s.version=k=>{Gt=k},s.showVersion=k=>{let O=e.getInternalMethods().getLoggerInstance();k||(k="error"),(typeof k=="function"?k:O[k])(Gt)},s.reset=function(O){return i=null,u=!1,h=[],y=!1,b=[],p=[],l=[],m=oe(m,I=>!O[I]),s};let J=[];return s.freeze=function(){J.push({failMessage:i,failureOutput:u,usages:h,usageDisabled:y,epilogs:b,examples:p,commands:l,descriptions:m})},s.unfreeze=function(O=!1){let I=J.pop();!I||(O?(m=ke(ke({},I.descriptions),m),l=[...I.commands,...l],h=[...I.usages,...h],p=[...I.examples,...p],b=[...I.epilogs,...b]):{failMessage:i,failureOutput:u,usages:h,usageDisabled:y,epilogs:b,examples:p,commands:l,descriptions:m}=I)},s}function ws(e){return typeof e=="object"}function Yu(e,t){return ws(e)?{text:e.text,indentation:e.indentation+t}:{text:e,indentation:t}}function Si(e){return ws(e)?e.indentation:0}function vn(e){return ws(e)?e.text:e}var xi=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,Ri=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zsh_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;var Pi=class{constructor(t,n,s,r){var i,o,u;this.yargs=t,this.usage=n,this.command=s,this.shim=r,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(u=((i=this.shim.getEnv("SHELL"))===null||i===void 0?void 0:i.includes("zsh"))||((o=this.shim.getEnv("ZSH_NAME"))===null||o===void 0?void 0:o.includes("zsh")))!==null&&u!==void 0?u:!1}defaultCompletion(t,n,s,r){let i=this.command.getCommandHandlers();for(let u=0,h=t.length;u<h;++u)if(i[t[u]]&&i[t[u]].builder){let y=i[t[u]].builder;if(Tn(y)){this.indexAfterLastReset=u+1;let p=this.yargs.getInternalMethods().reset();return y(p,!0),p.argv}}let o=[];this.commandCompletions(o,t,s),this.optionCompletions(o,t,n,s),this.choicesFromOptionsCompletions(o,t,n,s),this.choicesFromPositionalsCompletions(o,t,n,s),r(null,o)}commandCompletions(t,n,s){let r=this.yargs.getInternalMethods().getContext().commands;!s.match(/^-/)&&r[r.length-1]!==s&&!this.previousArgHasChoices(n)&&this.usage.getCommands().forEach(i=>{let o=ie(i[0]).cmd;if(n.indexOf(o)===-1)if(!this.zshShell)t.push(o);else{let u=i[1]||"";t.push(o.replace(/:/g,"\\:")+":"+u)}})}optionCompletions(t,n,s,r){if((r.match(/^-/)||r===""&&t.length===0)&&!this.previousArgHasChoices(n)){let i=this.yargs.getOptions(),o=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(i.key).forEach(u=>{let h=!!i.configuration["boolean-negation"]&&i.boolean.includes(u);!o.includes(u)&&!this.argsContainKey(n,s,u,h)&&(this.completeOptionKey(u,t,r),h&&!!i.default[u]&&this.completeOptionKey(`no-${u}`,t,r))})}}choicesFromOptionsCompletions(t,n,s,r){if(this.previousArgHasChoices(n)){let i=this.getPreviousArgChoices(n);i&&i.length>0&&t.push(...i)}}choicesFromPositionalsCompletions(t,n,s,r){let i=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],o=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),u=s._.slice(o),h=i[u.length-1];if(!h)return;let y=this.yargs.getOptions().choices[h]||[];for(let p of y)p.startsWith(r)&&t.push(p)}getPreviousArgChoices(t){if(t.length<1)return;let n=t[t.length-1],s="";if(!n.startsWith("-")&&t.length>1&&(s=n,n=t[t.length-2]),!n.startsWith("-"))return;let r=n.replace(/^-+/,""),i=this.yargs.getOptions(),o=[r,...this.yargs.getAliases()[r]||[]],u;for(let h of o)if(Object.prototype.hasOwnProperty.call(i.key,h)&&Array.isArray(i.choices[h])){u=i.choices[h];break}if(u)return u.filter(h=>!s||h.startsWith(s))}previousArgHasChoices(t){let n=this.getPreviousArgChoices(t);return n!==void 0&&n.length>0}argsContainKey(t,n,s,r){if(t.indexOf(`--${s}`)!==-1||r&&t.indexOf(`--no-${s}`)!==-1)return!0;if(this.aliases){for(let i of this.aliases[s])if(n[i]!==void 0)return!0}return!1}completeOptionKey(t,n,s){let r=this.usage.getDescriptions(),i=h=>/^--/.test(h),o=h=>/^[^0-9]$/.test(h),u=!i(s)&&o(t)?"-":"--";if(!this.zshShell)n.push(u+t);else{let h=r[t]||"";n.push(u+`${t.replace(/:/g,"\\:")}:${h.replace("__yargsString__:","")}`)}}customCompletion(t,n,s,r){if(Ct(this.customCompletionFunction,null,this.shim),Xu(this.customCompletionFunction)){let i=this.customCompletionFunction(s,n);return ot(i)?i.then(o=>{this.shim.process.nextTick(()=>{r(null,o)})}).catch(o=>{this.shim.process.nextTick(()=>{r(o,void 0)})}):r(null,i)}else return Qu(this.customCompletionFunction)?this.customCompletionFunction(s,n,(i=r)=>this.defaultCompletion(t,n,s,i),i=>{r(null,i)}):this.customCompletionFunction(s,n,i=>{r(null,i)})}getCompletion(t,n){let s=t.length?t[t.length-1]:"",r=this.yargs.parse(t,!0),i=this.customCompletionFunction?o=>this.customCompletion(t,o,s,n):o=>this.defaultCompletion(t,o,s,n);return ot(r)?r.then(i):i(r)}generateCompletionScript(t,n){let s=this.zshShell?Ri:xi,r=this.shim.path.basename(t);return t.match(/\.js$/)&&(t=`./${t}`),s=s.replace(/{{app_name}}/g,r),s=s.replace(/{{completion_command}}/g,n),s.replace(/{{app_path}}/g,t)}registerFunction(t){this.customCompletionFunction=t}setParsed(t){this.aliases=t.aliases}};function ji(e,t,n,s){return new Pi(e,t,n,s)}function Xu(e){return e.length<3}function Qu(e){return e.length>3}function ki(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;let n=[],s;for(s=0;s<=t.length;s++)n[s]=[s];let r;for(r=0;r<=e.length;r++)n[0][r]=r;for(s=1;s<=t.length;s++)for(r=1;r<=e.length;r++)t.charAt(s-1)===e.charAt(r-1)?n[s][r]=n[s-1][r-1]:s>1&&r>1&&t.charAt(s-2)===e.charAt(r-1)&&t.charAt(s-1)===e.charAt(r-2)?n[s][r]=n[s-2][r-2]+1:n[s][r]=Math.min(n[s-1][r-1]+1,Math.min(n[s][r-1]+1,n[s-1][r]+1));return n[t.length][e.length]}var Mi=["$0","--","_"];function Ni(e,t,n){let s=n.y18n.__,r=n.y18n.__n,i={};i.nonOptionCount=function(l){let m=e.getDemandedCommands(),v=l._.length+(l["--"]?l["--"].length:0)-e.getInternalMethods().getContext().commands.length;m._&&(v<m._.min||v>m._.max)&&(v<m._.min?m._.minMsg!==void 0?t.fail(m._.minMsg?m._.minMsg.replace(/\$0/g,v.toString()).replace(/\$1/,m._.min.toString()):null):t.fail(r("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",v,v.toString(),m._.min.toString())):v>m._.max&&(m._.maxMsg!==void 0?t.fail(m._.maxMsg?m._.maxMsg.replace(/\$0/g,v.toString()).replace(/\$1/,m._.max.toString()):null):t.fail(r("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",v,v.toString(),m._.max.toString()))))},i.positionalCount=function(l,m){m<l&&t.fail(r("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",m,m+"",l+""))},i.requiredArguments=function(l,m){let b=null;for(let v of Object.keys(m))(!Object.prototype.hasOwnProperty.call(l,v)||typeof l[v]>"u")&&(b=b||{},b[v]=m[v]);if(b){let v=[];for(let g of Object.keys(b)){let D=b[g];D&&v.indexOf(D)<0&&v.push(D)}let w=v.length?`
${v.join(`
`)}`:"";t.fail(r("Missing required argument: %s","Missing required arguments: %s",Object.keys(b).length,Object.keys(b).join(", ")+w))}},i.unknownArguments=function(l,m,b,v,w=!0){var g;let D=e.getInternalMethods().getCommandInstance().getCommands(),U=[],Y=e.getInternalMethods().getContext();if(Object.keys(l).forEach(W=>{!Mi.includes(W)&&!Object.prototype.hasOwnProperty.call(b,W)&&!Object.prototype.hasOwnProperty.call(e.getInternalMethods().getParseContext(),W)&&!i.isValidAndSomeAliasIsNotNew(W,m)&&U.push(W)}),w&&(Y.commands.length>0||D.length>0||v)&&l._.slice(Y.commands.length).forEach(W=>{D.includes(""+W)||U.push(""+W)}),w){let Q=((g=e.getDemandedCommands()._)===null||g===void 0?void 0:g.max)||0,vt=Y.commands.length+Q;vt<l._.length&&l._.slice(vt).forEach(wt=>{wt=String(wt),!Y.commands.includes(wt)&&!U.includes(wt)&&U.push(wt)})}U.length&&t.fail(r("Unknown argument: %s","Unknown arguments: %s",U.length,U.map(W=>W.trim()?W:`"${W}"`).join(", ")))},i.unknownCommands=function(l){let m=e.getInternalMethods().getCommandInstance().getCommands(),b=[],v=e.getInternalMethods().getContext();return(v.commands.length>0||m.length>0)&&l._.slice(v.commands.length).forEach(w=>{m.includes(""+w)||b.push(""+w)}),b.length>0?(t.fail(r("Unknown command: %s","Unknown commands: %s",b.length,b.join(", "))),!0):!1},i.isValidAndSomeAliasIsNotNew=function(l,m){if(!Object.prototype.hasOwnProperty.call(m,l))return!1;let b=e.parsed.newAliases;return[l,...m[l]].some(v=>!Object.prototype.hasOwnProperty.call(b,v)||!b[l])},i.limitedChoices=function(l){let m=e.getOptions(),b={};if(!Object.keys(m.choices).length)return;Object.keys(l).forEach(g=>{Mi.indexOf(g)===-1&&Object.prototype.hasOwnProperty.call(m.choices,g)&&[].concat(l[g]).forEach(D=>{m.choices[g].indexOf(D)===-1&&D!==void 0&&(b[g]=(b[g]||[]).concat(D))})});let v=Object.keys(b);if(!v.length)return;let w=s("Invalid values:");v.forEach(g=>{w+=`
  ${s("Argument: %s, Given: %s, Choices: %s",g,t.stringifiedValues(b[g]),t.stringifiedValues(m.choices[g]))}`}),t.fail(w)};let o={};i.implies=function(l,m){x("<string|object> [array|number|string]",[l,m],arguments.length),typeof l=="object"?Object.keys(l).forEach(b=>{i.implies(b,l[b])}):(e.global(l),o[l]||(o[l]=[]),Array.isArray(m)?m.forEach(b=>i.implies(l,b)):(Ct(m,void 0,n),o[l].push(m)))},i.getImplied=function(){return o};function u(p,l){let m=Number(l);return l=isNaN(m)?l:m,typeof l=="number"?l=p._.length>=l:l.match(/^--no-.+/)?(l=l.match(/^--no-(.+)/)[1],l=!Object.prototype.hasOwnProperty.call(p,l)):l=Object.prototype.hasOwnProperty.call(p,l),l}i.implications=function(l){let m=[];if(Object.keys(o).forEach(b=>{let v=b;(o[b]||[]).forEach(w=>{let g=v,D=w;g=u(l,g),w=u(l,w),g&&!w&&m.push(` ${v} -> ${D}`)})}),m.length){let b=`${s("Implications failed:")}
`;m.forEach(v=>{b+=v}),t.fail(b)}};let h={};i.conflicts=function(l,m){x("<string|object> [array|string]",[l,m],arguments.length),typeof l=="object"?Object.keys(l).forEach(b=>{i.conflicts(b,l[b])}):(e.global(l),h[l]||(h[l]=[]),Array.isArray(m)?m.forEach(b=>i.conflicts(l,b)):h[l].push(m))},i.getConflicting=()=>h,i.conflicting=function(l){Object.keys(l).forEach(m=>{h[m]&&h[m].forEach(b=>{b&&l[m]!==void 0&&l[b]!==void 0&&t.fail(s("Arguments %s and %s are mutually exclusive",m,b))})}),e.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(h).forEach(m=>{h[m].forEach(b=>{b&&l[n.Parser.camelCase(m)]!==void 0&&l[n.Parser.camelCase(b)]!==void 0&&t.fail(s("Arguments %s and %s are mutually exclusive",m,b))})})},i.recommendCommands=function(l,m){m=m.sort((g,D)=>D.length-g.length);let v=null,w=1/0;for(let g=0,D;(D=m[g])!==void 0;g++){let U=ki(l,D);U<=3&&U<w&&(w=U,v=D)}v&&t.fail(s("Did you mean %s?",v))},i.reset=function(l){return o=oe(o,m=>!l[m]),h=oe(h,m=>!l[m]),i};let y=[];return i.freeze=function(){y.push({implied:o,conflicting:h})},i.unfreeze=function(){let l=y.pop();Ct(l,void 0,n),{implied:o,conflicting:h}=l},i}var Os=[],Ze;function tn(e,t,n,s){Ze=s;let r={};if(Object.prototype.hasOwnProperty.call(e,"extends")){if(typeof e.extends!="string")return r;let i=/\.json|\..*rc$/.test(e.extends),o=null;if(i)o=Zu(t,e.extends);else try{o=require.resolve(e.extends)}catch{return e}Ju(o),Os.push(o),r=i?JSON.parse(Ze.readFileSync(o,"utf8")):require(e.extends),delete e.extends,r=tn(r,Ze.path.dirname(o),n,Ze)}return Os=[],n?$i(r,e):Object.assign({},r,e)}function Ju(e){if(Os.indexOf(e)>-1)throw new et(`Circular extended configurations: '${e}'.`)}function Zu(e,t){return Ze.path.resolve(e,t)}function $i(e,t){let n={};function s(r){return r&&typeof r=="object"&&!Array.isArray(r)}Object.assign(n,e);for(let r of Object.keys(t))s(t[r])&&s(n[r])?n[r]=$i(e[r],t[r]):n[r]=t[r];return n}var j=function(e,t,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n},a=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},pt,_e,en,Nt,St,An,ce,Ee,Sn,$t,In,Ft,Xt,It,Lt,Le,gt,M,xn,Rn,xt,we,De,Oe,ue,Pn,L,Ce,Te,ve,G,Qt,lt;function to(e){return(t=[],n=e.process.cwd(),s)=>{let r=new eo(t,n,s,e);return Object.defineProperty(r,"argv",{get:()=>r.parse(),enumerable:!0}),r.help(),r.version(),r}}var Fi=Symbol("copyDoubleDash"),Li=Symbol("copyDoubleDash"),Cs=Symbol("deleteFromParserHintObject"),Di=Symbol("emitWarning"),Bi=Symbol("freeze"),Gi=Symbol("getDollarZero"),Ae=Symbol("getParserConfiguration"),Ts=Symbol("guessLocale"),Ui=Symbol("guessVersion"),Wi=Symbol("parsePositionalNumbers"),vs=Symbol("pkgUp"),le=Symbol("populateParserHintArray"),Be=Symbol("populateParserHintSingleValueDictionary"),As=Symbol("populateParserHintArrayDictionary"),Ss=Symbol("populateParserHintDictionary"),Is=Symbol("sanitizeKey"),xs=Symbol("setKey"),Rs=Symbol("unfreeze"),zi=Symbol("validateAsync"),qi=Symbol("getCommandInstance"),Hi=Symbol("getContext"),Vi=Symbol("getHasOutput"),Yi=Symbol("getLoggerInstance"),Ki=Symbol("getParseContext"),Xi=Symbol("getUsageInstance"),Qi=Symbol("getValidationInstance"),jn=Symbol("hasParseCallback"),Se=Symbol("postProcess"),Ji=Symbol("rebase"),Ps=Symbol("reset"),nn=Symbol("runYargsParserAndExecuteCommands"),js=Symbol("runValidation"),Zi=Symbol("setHasOutput"),Ie=Symbol("kTrackManuallySetKeys"),eo=class{constructor(t=[],n,s,r){this.customScriptName=!1,this.parsed=!1,pt.set(this,void 0),_e.set(this,void 0),en.set(this,{commands:[],fullCommands:[]}),Nt.set(this,null),St.set(this,null),An.set(this,"show-hidden"),ce.set(this,null),Ee.set(this,!0),Sn.set(this,{}),$t.set(this,!0),In.set(this,[]),Ft.set(this,void 0),Xt.set(this,{}),It.set(this,!1),Lt.set(this,null),Le.set(this,void 0),gt.set(this,""),M.set(this,void 0),xn.set(this,void 0),Rn.set(this,{}),xt.set(this,null),we.set(this,null),De.set(this,{}),Oe.set(this,{}),ue.set(this,void 0),Pn.set(this,!1),L.set(this,void 0),Ce.set(this,!1),Te.set(this,!1),ve.set(this,!1),G.set(this,void 0),Qt.set(this,null),lt.set(this,void 0),j(this,L,r,"f"),j(this,ue,t,"f"),j(this,_e,n,"f"),j(this,xn,s,"f"),j(this,Ft,new _s(this),"f"),this.$0=this[Gi](),this[Ps](),j(this,pt,a(this,pt,"f"),"f"),j(this,G,a(this,G,"f"),"f"),j(this,lt,a(this,lt,"f"),"f"),j(this,M,a(this,M,"f"),"f"),a(this,M,"f").showHiddenOpt=a(this,An,"f"),j(this,Le,this[Li](),"f")}addHelpOpt(t,n){let s="help";return x("[string|boolean] [string]",[t,n],arguments.length),a(this,Lt,"f")&&(this[Cs](a(this,Lt,"f")),j(this,Lt,null,"f")),t===!1&&n===void 0?this:(j(this,Lt,typeof t=="string"?t:s,"f"),this.boolean(a(this,Lt,"f")),this.describe(a(this,Lt,"f"),n||a(this,G,"f").deferY18nLookup("Show help")),this)}help(t,n){return this.addHelpOpt(t,n)}addShowHiddenOpt(t,n){if(x("[string|boolean] [string]",[t,n],arguments.length),t===!1&&n===void 0)return this;let s=typeof t=="string"?t:a(this,An,"f");return this.boolean(s),this.describe(s,n||a(this,G,"f").deferY18nLookup("Show hidden options")),a(this,M,"f").showHiddenOpt=s,this}showHidden(t,n){return this.addShowHiddenOpt(t,n)}alias(t,n){return x("<object|string|array> [string|array]",[t,n],arguments.length),this[As](this.alias.bind(this),"alias",t,n),this}array(t){return x("<array|string>",[t],arguments.length),this[le]("array",t),this[Ie](t),this}boolean(t){return x("<array|string>",[t],arguments.length),this[le]("boolean",t),this[Ie](t),this}check(t,n){return x("<function> [boolean]",[t,n],arguments.length),this.middleware((s,r)=>ye(()=>t(s,r.getOptions()),i=>(i?(typeof i=="string"||i instanceof Error)&&a(this,G,"f").fail(i.toString(),i):a(this,G,"f").fail(a(this,L,"f").y18n.__("Argument check failed: %s",t.toString())),s),i=>(a(this,G,"f").fail(i.message?i.message:i.toString(),i),s)),!1,n),this}choices(t,n){return x("<object|string|array> [string|array]",[t,n],arguments.length),this[As](this.choices.bind(this),"choices",t,n),this}coerce(t,n){if(x("<object|string|array> [function]",[t,n],arguments.length),Array.isArray(t)){if(!n)throw new et("coerce callback must be provided");for(let s of t)this.coerce(s,n);return this}else if(typeof t=="object"){for(let s of Object.keys(t))this.coerce(s,t[s]);return this}if(!n)throw new et("coerce callback must be provided");return a(this,M,"f").key[t]=!0,a(this,Ft,"f").addCoerceMiddleware((s,r)=>{let i;return ye(()=>(i=r.getAliases(),n(s[t])),o=>{if(s[t]=o,i[t])for(let u of i[t])s[u]=o;return s},o=>{throw new et(o.message)})},t),this}conflicts(t,n){return x("<string|object> [string|array]",[t,n],arguments.length),a(this,lt,"f").conflicts(t,n),this}config(t="config",n,s){return x("[object|string] [string|function] [function]",[t,n,s],arguments.length),typeof t=="object"&&!Array.isArray(t)?(t=tn(t,a(this,_e,"f"),this[Ae]()["deep-merge-config"]||!1,a(this,L,"f")),a(this,M,"f").configObjects=(a(this,M,"f").configObjects||[]).concat(t),this):(typeof n=="function"&&(s=n,n=void 0),this.describe(t,n||a(this,G,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(t)?t:[t]).forEach(r=>{a(this,M,"f").config[r]=s||!0}),this)}completion(t,n,s){return x("[string] [string|boolean|function] [function]",[t,n,s],arguments.length),typeof n=="function"&&(s=n,n=void 0),j(this,St,t||a(this,St,"f")||"completion","f"),!n&&n!==!1&&(n="generate completion script"),this.command(a(this,St,"f"),n),s&&a(this,Nt,"f").registerFunction(s),this}command(t,n,s,r,i,o){return x("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[t,n,s,r,i,o],arguments.length),a(this,pt,"f").addHandler(t,n,s,r,i,o),this}commands(t,n,s,r,i,o){return this.command(t,n,s,r,i,o)}commandDir(t,n){x("<string> [object]",[t,n],arguments.length);let s=a(this,xn,"f")||a(this,L,"f").require;return a(this,pt,"f").addDirectory(t,s,a(this,L,"f").getCallerFile(),n),this}count(t){return x("<array|string>",[t],arguments.length),this[le]("count",t),this[Ie](t),this}default(t,n,s){return x("<object|string|array> [*] [string]",[t,n,s],arguments.length),s&&(ys(t,a(this,L,"f")),a(this,M,"f").defaultDescription[t]=s),typeof n=="function"&&(ys(t,a(this,L,"f")),a(this,M,"f").defaultDescription[t]||(a(this,M,"f").defaultDescription[t]=a(this,G,"f").functionDescription(n)),n=n.call()),this[Be](this.default.bind(this),"default",t,n),this}defaults(t,n,s){return this.default(t,n,s)}demandCommand(t=1,n,s,r){return x("[number] [number|string] [string|null|undefined] [string|null|undefined]",[t,n,s,r],arguments.length),typeof n!="number"&&(s=n,n=1/0),this.global("_",!1),a(this,M,"f").demandedCommands._={min:t,max:n,minMsg:s,maxMsg:r},this}demand(t,n,s){return Array.isArray(n)?(n.forEach(r=>{Ct(s,!0,a(this,L,"f")),this.demandOption(r,s)}),n=1/0):typeof n!="number"&&(s=n,n=1/0),typeof t=="number"?(Ct(s,!0,a(this,L,"f")),this.demandCommand(t,n,s,s)):Array.isArray(t)?t.forEach(r=>{Ct(s,!0,a(this,L,"f")),this.demandOption(r,s)}):typeof s=="string"?this.demandOption(t,s):(s===!0||typeof s>"u")&&this.demandOption(t),this}demandOption(t,n){return x("<object|string|array> [string]",[t,n],arguments.length),this[Be](this.demandOption.bind(this),"demandedOptions",t,n),this}deprecateOption(t,n){return x("<string> [string|boolean]",[t,n],arguments.length),a(this,M,"f").deprecatedOptions[t]=n,this}describe(t,n){return x("<object|string|array> [string]",[t,n],arguments.length),this[xs](t,!0),a(this,G,"f").describe(t,n),this}detectLocale(t){return x("<boolean>",[t],arguments.length),j(this,Ee,t,"f"),this}env(t){return x("[string|boolean]",[t],arguments.length),t===!1?delete a(this,M,"f").envPrefix:a(this,M,"f").envPrefix=t||"",this}epilogue(t){return x("<string>",[t],arguments.length),a(this,G,"f").epilog(t),this}epilog(t){return this.epilogue(t)}example(t,n){return x("<string|array> [string]",[t,n],arguments.length),Array.isArray(t)?t.forEach(s=>this.example(...s)):a(this,G,"f").example(t,n),this}exit(t,n){j(this,It,!0,"f"),j(this,ce,n,"f"),a(this,$t,"f")&&a(this,L,"f").process.exit(t)}exitProcess(t=!0){return x("[boolean]",[t],arguments.length),j(this,$t,t,"f"),this}fail(t){if(x("<function|boolean>",[t],arguments.length),typeof t=="boolean"&&t!==!1)throw new et("Invalid first argument. Expected function or boolean 'false'");return a(this,G,"f").failFn(t),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(t,n){return x("<array> [function]",[t,n],arguments.length),n?a(this,Nt,"f").getCompletion(t,n):new Promise((s,r)=>{a(this,Nt,"f").getCompletion(t,(i,o)=>{i?r(i):s(o)})})}getDemandedOptions(){return x([],0),a(this,M,"f").demandedOptions}getDemandedCommands(){return x([],0),a(this,M,"f").demandedCommands}getDeprecatedOptions(){return x([],0),a(this,M,"f").deprecatedOptions}getDetectLocale(){return a(this,Ee,"f")}getExitProcess(){return a(this,$t,"f")}getGroups(){return Object.assign({},a(this,Xt,"f"),a(this,Oe,"f"))}getHelp(){if(j(this,It,!0,"f"),!a(this,G,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[nn](a(this,ue,"f"),void 0,void 0,0,!0);if(ot(n))return n.then(()=>a(this,G,"f").help())}let t=a(this,pt,"f").runDefaultBuilderOn(this);if(ot(t))return t.then(()=>a(this,G,"f").help())}return Promise.resolve(a(this,G,"f").help())}getOptions(){return a(this,M,"f")}getStrict(){return a(this,Ce,"f")}getStrictCommands(){return a(this,Te,"f")}getStrictOptions(){return a(this,ve,"f")}global(t,n){return x("<string|array> [boolean]",[t,n],arguments.length),t=[].concat(t),n!==!1?a(this,M,"f").local=a(this,M,"f").local.filter(s=>t.indexOf(s)===-1):t.forEach(s=>{a(this,M,"f").local.includes(s)||a(this,M,"f").local.push(s)}),this}group(t,n){x("<string|array> <string>",[t,n],arguments.length);let s=a(this,Oe,"f")[n]||a(this,Xt,"f")[n];a(this,Oe,"f")[n]&&delete a(this,Oe,"f")[n];let r={};return a(this,Xt,"f")[n]=(s||[]).concat(t).filter(i=>r[i]?!1:r[i]=!0),this}hide(t){return x("<string>",[t],arguments.length),a(this,M,"f").hiddenOptions.push(t),this}implies(t,n){return x("<string|object> [number|string|array]",[t,n],arguments.length),a(this,lt,"f").implies(t,n),this}locale(t){return x("[string]",[t],arguments.length),t?(j(this,Ee,!1,"f"),a(this,L,"f").y18n.setLocale(t),this):(this[Ts](),a(this,L,"f").y18n.getLocale())}middleware(t,n,s){return a(this,Ft,"f").addMiddleware(t,!!n,s)}nargs(t,n){return x("<string|object|array> [number]",[t,n],arguments.length),this[Be](this.nargs.bind(this),"narg",t,n),this}normalize(t){return x("<array|string>",[t],arguments.length),this[le]("normalize",t),this}number(t){return x("<array|string>",[t],arguments.length),this[le]("number",t),this[Ie](t),this}option(t,n){if(x("<string|object> [object]",[t,n],arguments.length),typeof t=="object")Object.keys(t).forEach(s=>{this.options(s,t[s])});else{typeof n!="object"&&(n={}),this[Ie](t),a(this,Qt,"f")&&(t==="version"||(n==null?void 0:n.alias)==="version")&&this[Di](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),a(this,M,"f").key[t]=!0,n.alias&&this.alias(t,n.alias);let s=n.deprecate||n.deprecated;s&&this.deprecateOption(t,s);let r=n.demand||n.required||n.require;r&&this.demand(t,r),n.demandOption&&this.demandOption(t,typeof n.demandOption=="string"?n.demandOption:void 0),n.conflicts&&this.conflicts(t,n.conflicts),"default"in n&&this.default(t,n.default),n.implies!==void 0&&this.implies(t,n.implies),n.nargs!==void 0&&this.nargs(t,n.nargs),n.config&&this.config(t,n.configParser),n.normalize&&this.normalize(t),n.choices&&this.choices(t,n.choices),n.coerce&&this.coerce(t,n.coerce),n.group&&this.group(t,n.group),(n.boolean||n.type==="boolean")&&(this.boolean(t),n.alias&&this.boolean(n.alias)),(n.array||n.type==="array")&&(this.array(t),n.alias&&this.array(n.alias)),(n.number||n.type==="number")&&(this.number(t),n.alias&&this.number(n.alias)),(n.string||n.type==="string")&&(this.string(t),n.alias&&this.string(n.alias)),(n.count||n.type==="count")&&this.count(t),typeof n.global=="boolean"&&this.global(t,n.global),n.defaultDescription&&(a(this,M,"f").defaultDescription[t]=n.defaultDescription),n.skipValidation&&this.skipValidation(t);let i=n.describe||n.description||n.desc;this.describe(t,i),n.hidden&&this.hide(t),n.requiresArg&&this.requiresArg(t)}return this}options(t,n){return this.option(t,n)}parse(t,n,s){x("[string|array] [function|boolean|object] [function]",[t,n,s],arguments.length),this[Bi](),typeof t>"u"&&(t=a(this,ue,"f")),typeof n=="object"&&(j(this,we,n,"f"),n=s),typeof n=="function"&&(j(this,xt,n,"f"),n=!1),n||j(this,ue,t,"f"),a(this,xt,"f")&&j(this,$t,!1,"f");let r=this[nn](t,!!n),i=this.parsed;return a(this,Nt,"f").setParsed(this.parsed),ot(r)?r.then(o=>(a(this,xt,"f")&&a(this,xt,"f").call(this,a(this,ce,"f"),o,a(this,gt,"f")),o)).catch(o=>{throw a(this,xt,"f")&&a(this,xt,"f")(o,this.parsed.argv,a(this,gt,"f")),o}).finally(()=>{this[Rs](),this.parsed=i}):(a(this,xt,"f")&&a(this,xt,"f").call(this,a(this,ce,"f"),r,a(this,gt,"f")),this[Rs](),this.parsed=i,r)}parseAsync(t,n,s){let r=this.parse(t,n,s);return ot(r)?r:Promise.resolve(r)}parseSync(t,n,s){let r=this.parse(t,n,s);if(ot(r))throw new et(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return r}parserConfiguration(t){return x("<object>",[t],arguments.length),j(this,Rn,t,"f"),this}pkgConf(t,n){x("<string> [string]",[t,n],arguments.length);let s=null,r=this[vs](n||a(this,_e,"f"));return r[t]&&typeof r[t]=="object"&&(s=tn(r[t],n||a(this,_e,"f"),this[Ae]()["deep-merge-config"]||!1,a(this,L,"f")),a(this,M,"f").configObjects=(a(this,M,"f").configObjects||[]).concat(s)),this}positional(t,n){x("<string> <object>",[t,n],arguments.length);let s=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];n=oe(n,(o,u)=>o==="type"&&!["string","number","boolean"].includes(u)?!1:s.includes(o));let r=a(this,en,"f").fullCommands[a(this,en,"f").fullCommands.length-1],i=r?a(this,pt,"f").cmdToParseOptions(r):{array:[],alias:{},default:{},demand:{}};return $e(i).forEach(o=>{let u=i[o];Array.isArray(u)?u.indexOf(t)!==-1&&(n[o]=!0):u[t]&&!(o in n)&&(n[o]=u[t])}),this.group(t,a(this,G,"f").getPositionalGroupName()),this.option(t,n)}recommendCommands(t=!0){return x("[boolean]",[t],arguments.length),j(this,Pn,t,"f"),this}required(t,n,s){return this.demand(t,n,s)}require(t,n,s){return this.demand(t,n,s)}requiresArg(t){return x("<array|string|object> [number]",[t],arguments.length),typeof t=="string"&&a(this,M,"f").narg[t]?this:(this[Be](this.requiresArg.bind(this),"narg",t,NaN),this)}showCompletionScript(t,n){return x("[string] [string]",[t,n],arguments.length),t=t||this.$0,a(this,Le,"f").log(a(this,Nt,"f").generateCompletionScript(t,n||a(this,St,"f")||"completion")),this}showHelp(t){if(x("[string|function]",[t],arguments.length),j(this,It,!0,"f"),!a(this,G,"f").hasCachedHelpMessage()){if(!this.parsed){let s=this[nn](a(this,ue,"f"),void 0,void 0,0,!0);if(ot(s))return s.then(()=>{a(this,G,"f").showHelp(t)}),this}let n=a(this,pt,"f").runDefaultBuilderOn(this);if(ot(n))return n.then(()=>{a(this,G,"f").showHelp(t)}),this}return a(this,G,"f").showHelp(t),this}scriptName(t){return this.customScriptName=!0,this.$0=t,this}showHelpOnFail(t,n){return x("[boolean|string] [string]",[t,n],arguments.length),a(this,G,"f").showHelpOnFail(t,n),this}showVersion(t){return x("[string|function]",[t],arguments.length),a(this,G,"f").showVersion(t),this}skipValidation(t){return x("<array|string>",[t],arguments.length),this[le]("skipValidation",t),this}strict(t){return x("[boolean]",[t],arguments.length),j(this,Ce,t!==!1,"f"),this}strictCommands(t){return x("[boolean]",[t],arguments.length),j(this,Te,t!==!1,"f"),this}strictOptions(t){return x("[boolean]",[t],arguments.length),j(this,ve,t!==!1,"f"),this}string(t){return x("<array|string>",[t],arguments.length),this[le]("string",t),this[Ie](t),this}terminalWidth(){return x([],0),a(this,L,"f").process.stdColumns}updateLocale(t){return this.updateStrings(t)}updateStrings(t){return x("<object>",[t],arguments.length),j(this,Ee,!1,"f"),a(this,L,"f").y18n.updateLocale(t),this}usage(t,n,s,r){if(x("<string|null|undefined> [string|boolean] [function|object] [function]",[t,n,s,r],arguments.length),n!==void 0){if(Ct(t,null,a(this,L,"f")),(t||"").match(/^\$0( |$)/))return this.command(t,n,s,r);throw new et(".usage() description must start with $0 if being used as alias for .command()")}else return a(this,G,"f").usage(t),this}version(t,n,s){let r="version";if(x("[boolean|string] [string] [string]",[t,n,s],arguments.length),a(this,Qt,"f")&&(this[Cs](a(this,Qt,"f")),a(this,G,"f").version(void 0),j(this,Qt,null,"f")),arguments.length===0)s=this[Ui](),t=r;else if(arguments.length===1){if(t===!1)return this;s=t,t=r}else arguments.length===2&&(s=n,n=void 0);return j(this,Qt,typeof t=="string"?t:r,"f"),n=n||a(this,G,"f").deferY18nLookup("Show version number"),a(this,G,"f").version(s||void 0),this.boolean(a(this,Qt,"f")),this.describe(a(this,Qt,"f"),n),this}wrap(t){return x("<number|null|undefined>",[t],arguments.length),a(this,G,"f").wrap(t),this}[(pt=new WeakMap,_e=new WeakMap,en=new WeakMap,Nt=new WeakMap,St=new WeakMap,An=new WeakMap,ce=new WeakMap,Ee=new WeakMap,Sn=new WeakMap,$t=new WeakMap,In=new WeakMap,Ft=new WeakMap,Xt=new WeakMap,It=new WeakMap,Lt=new WeakMap,Le=new WeakMap,gt=new WeakMap,M=new WeakMap,xn=new WeakMap,Rn=new WeakMap,xt=new WeakMap,we=new WeakMap,De=new WeakMap,Oe=new WeakMap,ue=new WeakMap,Pn=new WeakMap,L=new WeakMap,Ce=new WeakMap,Te=new WeakMap,ve=new WeakMap,G=new WeakMap,Qt=new WeakMap,lt=new WeakMap,Fi)](t){if(!t._||!t["--"])return t;t._.push.apply(t._,t["--"]);try{delete t["--"]}catch{}return t}[Li](){return{log:(...t)=>{this[jn]()||console.log(...t),j(this,It,!0,"f"),a(this,gt,"f").length&&j(this,gt,a(this,gt,"f")+`
`,"f"),j(this,gt,a(this,gt,"f")+t.join(" "),"f")},error:(...t)=>{this[jn]()||console.error(...t),j(this,It,!0,"f"),a(this,gt,"f").length&&j(this,gt,a(this,gt,"f")+`
`,"f"),j(this,gt,a(this,gt,"f")+t.join(" "),"f")}}}[Cs](t){$e(a(this,M,"f")).forEach(n=>{if((r=>r==="configObjects")(n))return;let s=a(this,M,"f")[n];Array.isArray(s)?s.includes(t)&&s.splice(s.indexOf(t),1):typeof s=="object"&&delete s[t]}),delete a(this,G,"f").getDescriptions()[t]}[Di](t,n,s){a(this,Sn,"f")[s]||(a(this,L,"f").process.emitWarning(t,n),a(this,Sn,"f")[s]=!0)}[Bi](){a(this,In,"f").push({options:a(this,M,"f"),configObjects:a(this,M,"f").configObjects.slice(0),exitProcess:a(this,$t,"f"),groups:a(this,Xt,"f"),strict:a(this,Ce,"f"),strictCommands:a(this,Te,"f"),strictOptions:a(this,ve,"f"),completionCommand:a(this,St,"f"),output:a(this,gt,"f"),exitError:a(this,ce,"f"),hasOutput:a(this,It,"f"),parsed:this.parsed,parseFn:a(this,xt,"f"),parseContext:a(this,we,"f")}),a(this,G,"f").freeze(),a(this,lt,"f").freeze(),a(this,pt,"f").freeze(),a(this,Ft,"f").freeze()}[Gi](){let t="",n;return/\b(node|iojs|electron)(\.exe)?$/.test(a(this,L,"f").process.argv()[0])?n=a(this,L,"f").process.argv().slice(1,2):n=a(this,L,"f").process.argv().slice(0,1),t=n.map(s=>{let r=this[Ji](a(this,_e,"f"),s);return s.match(/^(\/|([a-zA-Z]:)?\\)/)&&r.length<s.length?r:s}).join(" ").trim(),a(this,L,"f").getEnv("_")&&a(this,L,"f").getProcessArgvBin()===a(this,L,"f").getEnv("_")&&(t=a(this,L,"f").getEnv("_").replace(`${a(this,L,"f").path.dirname(a(this,L,"f").process.execPath())}/`,"")),t}[Ae](){return a(this,Rn,"f")}[Ts](){if(!a(this,Ee,"f"))return;let t=a(this,L,"f").getEnv("LC_ALL")||a(this,L,"f").getEnv("LC_MESSAGES")||a(this,L,"f").getEnv("LANG")||a(this,L,"f").getEnv("LANGUAGE")||"en_US";this.locale(t.replace(/[.:].*/,""))}[Ui](){return this[vs]().version||"unknown"}[Wi](t){let n=t["--"]?t["--"]:t._;for(let s=0,r;(r=n[s])!==void 0;s++)a(this,L,"f").Parser.looksLikeNumber(r)&&Number.isSafeInteger(Math.floor(parseFloat(`${r}`)))&&(n[s]=Number(r));return t}[vs](t){let n=t||"*";if(a(this,De,"f")[n])return a(this,De,"f")[n];let s={};try{let r=t||a(this,L,"f").mainFilename;!t&&a(this,L,"f").path.extname(r)&&(r=a(this,L,"f").path.dirname(r));let i=a(this,L,"f").findUp(r,(o,u)=>{if(u.includes("package.json"))return"package.json"});Ct(i,void 0,a(this,L,"f")),s=JSON.parse(a(this,L,"f").readFileSync(i,"utf8"))}catch{}return a(this,De,"f")[n]=s||{},a(this,De,"f")[n]}[le](t,n){n=[].concat(n),n.forEach(s=>{s=this[Is](s),a(this,M,"f")[t].push(s)})}[Be](t,n,s,r){this[Ss](t,n,s,r,(i,o,u)=>{a(this,M,"f")[i][o]=u})}[As](t,n,s,r){this[Ss](t,n,s,r,(i,o,u)=>{a(this,M,"f")[i][o]=(a(this,M,"f")[i][o]||[]).concat(u)})}[Ss](t,n,s,r,i){if(Array.isArray(s))s.forEach(o=>{t(o,r)});else if((o=>typeof o=="object")(s))for(let o of $e(s))t(o,s[o]);else i(n,this[Is](s),r)}[Is](t){return t==="__proto__"?"___proto___":t}[xs](t,n){return this[Be](this[xs].bind(this),"key",t,n),this}[Rs](){var t,n,s,r,i,o,u,h,y,p,l,m;let b=a(this,In,"f").pop();Ct(b,void 0,a(this,L,"f"));let v;t=this,n=this,s=this,r=this,i=this,o=this,u=this,h=this,y=this,p=this,l=this,m=this,{options:{set value(w){j(t,M,w,"f")}}.value,configObjects:v,exitProcess:{set value(w){j(n,$t,w,"f")}}.value,groups:{set value(w){j(s,Xt,w,"f")}}.value,output:{set value(w){j(r,gt,w,"f")}}.value,exitError:{set value(w){j(i,ce,w,"f")}}.value,hasOutput:{set value(w){j(o,It,w,"f")}}.value,parsed:this.parsed,strict:{set value(w){j(u,Ce,w,"f")}}.value,strictCommands:{set value(w){j(h,Te,w,"f")}}.value,strictOptions:{set value(w){j(y,ve,w,"f")}}.value,completionCommand:{set value(w){j(p,St,w,"f")}}.value,parseFn:{set value(w){j(l,xt,w,"f")}}.value,parseContext:{set value(w){j(m,we,w,"f")}}.value}=b,a(this,M,"f").configObjects=v,a(this,G,"f").unfreeze(),a(this,lt,"f").unfreeze(),a(this,pt,"f").unfreeze(),a(this,Ft,"f").unfreeze()}[zi](t,n){return ye(n,s=>(t(s),s))}getInternalMethods(){return{getCommandInstance:this[qi].bind(this),getContext:this[Hi].bind(this),getHasOutput:this[Vi].bind(this),getLoggerInstance:this[Yi].bind(this),getParseContext:this[Ki].bind(this),getParserConfiguration:this[Ae].bind(this),getUsageInstance:this[Xi].bind(this),getValidationInstance:this[Qi].bind(this),hasParseCallback:this[jn].bind(this),postProcess:this[Se].bind(this),reset:this[Ps].bind(this),runValidation:this[js].bind(this),runYargsParserAndExecuteCommands:this[nn].bind(this),setHasOutput:this[Zi].bind(this)}}[qi](){return a(this,pt,"f")}[Hi](){return a(this,en,"f")}[Vi](){return a(this,It,"f")}[Yi](){return a(this,Le,"f")}[Ki](){return a(this,we,"f")||{}}[Xi](){return a(this,G,"f")}[Qi](){return a(this,lt,"f")}[jn](){return!!a(this,xt,"f")}[Se](t,n,s,r){return s||ot(t)||(n||(t=this[Fi](t)),(this[Ae]()["parse-positional-numbers"]||this[Ae]()["parse-positional-numbers"]===void 0)&&(t=this[Wi](t)),r&&(t=be(t,this,a(this,Ft,"f").getMiddleware(),!1))),t}[Ps](t={}){j(this,M,a(this,M,"f")||{},"f");let n={};n.local=a(this,M,"f").local||[],n.configObjects=a(this,M,"f").configObjects||[];let s={};n.local.forEach(o=>{s[o]=!0,(t[o]||[]).forEach(u=>{s[u]=!0})}),Object.assign(a(this,Oe,"f"),Object.keys(a(this,Xt,"f")).reduce((o,u)=>{let h=a(this,Xt,"f")[u].filter(y=>!(y in s));return h.length>0&&(o[u]=h),o},{})),j(this,Xt,{},"f");let r=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],i=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return r.forEach(o=>{n[o]=(a(this,M,"f")[o]||[]).filter(u=>!s[u])}),i.forEach(o=>{n[o]=oe(a(this,M,"f")[o],u=>!s[u])}),n.envPrefix=a(this,M,"f").envPrefix,j(this,M,n,"f"),j(this,G,a(this,G,"f")?a(this,G,"f").reset(s):Ii(this,a(this,L,"f")),"f"),j(this,lt,a(this,lt,"f")?a(this,lt,"f").reset(s):Ni(this,a(this,G,"f"),a(this,L,"f")),"f"),j(this,pt,a(this,pt,"f")?a(this,pt,"f").reset():vi(a(this,G,"f"),a(this,lt,"f"),a(this,Ft,"f"),a(this,L,"f")),"f"),a(this,Nt,"f")||j(this,Nt,ji(this,a(this,G,"f"),a(this,pt,"f"),a(this,L,"f")),"f"),a(this,Ft,"f").reset(),j(this,St,null,"f"),j(this,gt,"","f"),j(this,ce,null,"f"),j(this,It,!1,"f"),this.parsed=!1,this}[Ji](t,n){return a(this,L,"f").path.relative(t,n)}[nn](t,n,s,r=0,i=!1){let o=!!s||i;t=t||a(this,ue,"f"),a(this,M,"f").__=a(this,L,"f").y18n.__,a(this,M,"f").configuration=this[Ae]();let u=!!a(this,M,"f").configuration["populate--"],h=Object.assign({},a(this,M,"f").configuration,{"populate--":!0}),y=a(this,L,"f").Parser.detailed(t,Object.assign({},a(this,M,"f"),{configuration:ke({"parse-positional-numbers":!1},h)})),p=Object.assign(y.argv,a(this,we,"f")),l,m=y.aliases,b=!1,v=!1;Object.keys(p).forEach(w=>{w===a(this,Lt,"f")&&p[w]?b=!0:w===a(this,Qt,"f")&&p[w]&&(v=!0)}),p.$0=this.$0,this.parsed=y,r===0&&a(this,G,"f").clearCachedHelpMessage();try{if(this[Ts](),n)return this[Se](p,u,!!s,!1);a(this,Lt,"f")&&[a(this,Lt,"f")].concat(m[a(this,Lt,"f")]||[]).filter(Y=>Y.length>1).includes(""+p._[p._.length-1])&&(p._.pop(),b=!0);let w=a(this,pt,"f").getCommands(),g=a(this,Nt,"f").completionKey in p,D=b||g||i;if(p._.length){if(w.length){let U;for(let Y=r||0,W;p._[Y]!==void 0;Y++)if(W=String(p._[Y]),w.includes(W)&&W!==a(this,St,"f")){let Q=a(this,pt,"f").runCommand(W,this,y,Y+1,i,b||v||i);return this[Se](Q,u,!!s,!1)}else if(!U&&W!==a(this,St,"f")){U=W;break}!a(this,pt,"f").hasDefaultCommand()&&a(this,Pn,"f")&&U&&!D&&a(this,lt,"f").recommendCommands(U,w)}a(this,St,"f")&&p._.includes(a(this,St,"f"))&&!g&&(a(this,$t,"f")&&ae(!0),this.showCompletionScript(),this.exit(0))}if(a(this,pt,"f").hasDefaultCommand()&&!D){let U=a(this,pt,"f").runCommand(null,this,y,0,i,b||v||i);return this[Se](U,u,!!s,!1)}if(g){a(this,$t,"f")&&ae(!0),t=[].concat(t);let U=t.slice(t.indexOf(`--${a(this,Nt,"f").completionKey}`)+1);return a(this,Nt,"f").getCompletion(U,(Y,W)=>{if(Y)throw new et(Y.message);(W||[]).forEach(Q=>{a(this,Le,"f").log(Q)}),this.exit(0)}),this[Se](p,!u,!!s,!1)}if(a(this,It,"f")||(b?(a(this,$t,"f")&&ae(!0),o=!0,this.showHelp("log"),this.exit(0)):v&&(a(this,$t,"f")&&ae(!0),o=!0,a(this,G,"f").showVersion("log"),this.exit(0))),!o&&a(this,M,"f").skipValidation.length>0&&(o=Object.keys(p).some(U=>a(this,M,"f").skipValidation.indexOf(U)>=0&&p[U]===!0)),!o){if(y.error)throw new et(y.error.message);if(!g){let U=this[js](m,{},y.error);s||(l=be(p,this,a(this,Ft,"f").getMiddleware(),!0)),l=this[zi](U,l??p),ot(l)&&!s&&(l=l.then(()=>be(p,this,a(this,Ft,"f").getMiddleware(),!1)))}}}catch(w){if(w instanceof et)a(this,G,"f").fail(w.message,w);else throw w}return this[Se](l??p,u,!!s,!0)}[js](t,n,s,r){let i=ke({},this.getDemandedOptions());return o=>{if(s)throw new et(s.message);a(this,lt,"f").nonOptionCount(o),a(this,lt,"f").requiredArguments(o,i);let u=!1;a(this,Te,"f")&&(u=a(this,lt,"f").unknownCommands(o)),a(this,Ce,"f")&&!u?a(this,lt,"f").unknownArguments(o,t,n,!!r):a(this,ve,"f")&&a(this,lt,"f").unknownArguments(o,t,{},!1,!1),a(this,lt,"f").limitedChoices(o),a(this,lt,"f").implications(o),a(this,lt,"f").conflicting(o)}}[Zi](){j(this,It,!0,"f")}[Ie](t){if(typeof t=="string")a(this,M,"f").key[t]=!0;else for(let n of t)a(this,M,"f").key[n]=!0}};function Ai(e){return!!e&&typeof e.getInternalMethods=="function"}var tl=to(bs),no=tl;var Yn=se(mo(),1),Hn=se($s(),1),Pa=require("child_process"),uc=se(Ls(),1),He=se(Ls(),1),Vn=Object.defineProperty,Rl=Object.defineProperties,Pl=Object.getOwnPropertyDescriptor,jl=Object.getOwnPropertyDescriptors,nr=Object.getOwnPropertyNames,go=Object.getOwnPropertySymbols,Uo=Object.prototype.hasOwnProperty,kl=Object.prototype.propertyIsEnumerable,bo=(e,t,n)=>t in e?Vn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jt=(e,t)=>{for(var n in t||(t={}))Uo.call(t,n)&&bo(e,n,t[n]);if(go)for(var n of go(t))kl.call(t,n)&&bo(e,n,t[n]);return e},Us=(e,t)=>Rl(e,jl(t)),Ml=e=>Vn(e,"__esModule",{value:!0}),C=(e,t)=>function(){return e&&(t=(0,e[nr(e)[0]])(e=0)),t},Nl=(e,t)=>function(){return t||(0,e[nr(e)[0]])((t={exports:{}}).exports,t),t.exports},ft=(e,t)=>{for(var n in t)Vn(e,n,{get:t[n],enumerable:!0})},$l=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of nr(t))!Uo.call(e,r)&&(n||r!=="default")&&Vn(e,r,{get:()=>t[r],enumerable:!(s=Pl(t,r))||s.enumerable});return e},ut=(e=>(t,n)=>e&&e.get(t)||(n=$l(Ml({}),t,1),e&&e.set(t,n),n))(typeof WeakMap<"u"?new WeakMap:0),rn=(e,t,n)=>new Promise((s,r)=>{var i=h=>{try{u(n.next(h))}catch(y){r(y)}},o=h=>{try{u(n.throw(h))}catch(y){r(y)}},u=h=>h.done?s(h.value):Promise.resolve(h.value).then(i,o);u((n=n.apply(e,t)).next())}),ne,de=C({"src/lib/errors/git-error.ts"(){ne=class extends Error{constructor(e,t){super(t);this.task=e,Object.setPrototypeOf(this,new.target.prototype)}}}}),cn,Ve=C({"src/lib/errors/git-response-error.ts"(){de(),cn=class extends ne{constructor(e,t){super(void 0,t||String(e));this.git=e}}}}),Wo,zo=C({"src/lib/errors/task-configuration-error.ts"(){de(),Wo=class extends ne{constructor(e){super(void 0,e)}}}});function qo(e){return typeof e=="function"?e:je}function Ho(e){return typeof e=="function"&&e!==je}function Vo(e,t){let n=e.indexOf(t);return n<=0?[e,""]:[e.substr(0,n),e.substr(n+1)]}function Yo(e,t=0){return Ko(e)&&e.length>t?e[t]:void 0}function Pe(e,t=0){if(Ko(e)&&e.length>t)return e[e.length-1-t]}function Ko(e){return!!(e&&typeof e.length=="number")}function un(e="",t=!0,n=`
`){return e.split(n).reduce((s,r)=>{let i=t?r.trim():r;return i&&s.push(i),s},[])}function sr(e,t){return un(e,!0).map(n=>t(n))}function rr(e){return(0,Yn.exists)(e,Yn.FOLDER)}function K(e,t){return Array.isArray(e)?e.includes(t)||e.push(t):e.add(t),t}function Xo(e,t){return Array.isArray(e)&&!e.includes(t)&&e.push(t),e}function ir(e,t){if(Array.isArray(e)){let n=e.indexOf(t);n>=0&&e.splice(n,1)}else e.delete(t);return t}function ln(e){return Array.isArray(e)?e:[e]}function Qo(e){return ln(e).map(String)}function Vt(e,t=0){if(e==null)return t;let n=parseInt(e,10);return isNaN(n)?t:n}function qn(e,t){let n=[];for(let s=0,r=e.length;s<r;s++)n.push(t,e[s]);return n}function on(e){return(Array.isArray(e)?Buffer.concat(e):e).toString("utf-8")}function Jo(e,t){return Object.assign({},...t.map(n=>n in e?{[n]:e[n]}:{}))}function Ws(e=0){return new Promise(t=>setTimeout(t,e))}var Kn,je,fn,Xn=C({"src/lib/utils/util.ts"(){Kn="\0",je=()=>{},fn=Object.prototype.toString.call.bind(Object.prototype.toString)}});function pe(e,t,n){return t(e)?e:arguments.length>2?n:void 0}function or(e,t){return/number|string|boolean/.test(typeof e)&&(!t||!t.includes(typeof e))}function ar(e){return!!e&&fn(e)==="[object Object]"}function Zo(e){return typeof e=="function"}var Qn,_t,ta,ea,cr,na=C({"src/lib/utils/argument-filters.ts"(){Xn(),Qn=e=>Array.isArray(e),_t=e=>typeof e=="string",ta=e=>Array.isArray(e)&&e.every(_t),ea=e=>_t(e)||Array.isArray(e)&&e.every(_t),cr=e=>e==null||"number|boolean|function".includes(typeof e)?!1:Array.isArray(e)||typeof e=="string"||typeof e.length=="number"}}),zs,Fl=C({"src/lib/utils/exit-codes.ts"(){zs=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.ERROR=1]="ERROR",e[e.UNCLEAN=128]="UNCLEAN",e))(zs||{})}}),an,Ll=C({"src/lib/utils/git-output-streams.ts"(){an=class{constructor(e,t){this.stdOut=e,this.stdErr=t}asStrings(){return new an(this.stdOut.toString("utf8"),this.stdErr.toString("utf8"))}}}}),X,he,Dl=C({"src/lib/utils/line-parser.ts"(){X=class{constructor(e,t){this.matches=[],this.parse=(n,s)=>(this.resetMatches(),this._regExp.every((r,i)=>this.addMatch(r,i,n(i)))?this.useMatches(s,this.prepareMatches())!==!1:!1),this._regExp=Array.isArray(e)?e:[e],t&&(this.useMatches=t)}useMatches(e,t){throw new Error("LineParser:useMatches not implemented")}resetMatches(){this.matches.length=0}prepareMatches(){return this.matches}addMatch(e,t,n){let s=n&&e.exec(n);return s&&this.pushMatch(t,s),!!s}pushMatch(e,t){this.matches.push(...t.slice(1))}},he=class extends X{addMatch(e,t,n){return/^remote:\s/.test(String(n))&&super.addMatch(e,t,n)}pushMatch(e,t){(e>0||t.length>1)&&super.pushMatch(e,t)}}}});function sa(...e){let t=process.cwd(),n=Object.assign(Jt({baseDir:t},ra),...e.filter(s=>typeof s=="object"&&s));return n.baseDir=n.baseDir||t,n}var ra,Bl=C({"src/lib/utils/simple-git-options.ts"(){ra={binary:"git",maxConcurrentProcesses:5,config:[]}}});function ur(e,t=[]){return ar(e)?Object.keys(e).reduce((n,s)=>{let r=e[s];return or(r,["boolean"])?n.push(s+"="+r):n.push(s),n},t):t}function fe(e,t=0,n=!1){let s=[];for(let r=0,i=t<0?e.length:t;r<i;r++)"string|number".includes(typeof e[r])&&s.push(String(e[r]));return ur(lr(e),s),n||s.push(...Gl(e)),s}function Gl(e){let t=typeof Pe(e)=="function";return pe(Pe(e,t?1:0),Qn,[])}function lr(e){let t=Zo(Pe(e));return pe(Pe(e,t?1:0),ar)}function Tt(e,t=!0){let n=qo(Pe(e));return t||Ho(n)?n:void 0}var Ul=C({"src/lib/utils/task-options.ts"(){na(),Xn()}});function qs(e,t){return e(t.stdOut,t.stdErr)}function Kt(e,t,...n){return n.forEach(s=>{for(let r=un(s),i=0,o=r.length;i<o;i++){let u=(h=0)=>{if(!(i+h>=o))return r[i+h]};t.some(({parse:h})=>h(u,e))}}),e}var Wl=C({"src/lib/utils/task-parser.ts"(){Xn()}}),ia={};ft(ia,{ExitCodes:()=>zs,GitOutputStreams:()=>an,LineParser:()=>X,NOOP:()=>je,NULL:()=>Kn,RemoteLineParser:()=>he,append:()=>K,appendTaskOptions:()=>ur,asArray:()=>ln,asFunction:()=>qo,asNumber:()=>Vt,asStringArray:()=>Qo,bufferToString:()=>on,callTaskParser:()=>qs,createInstanceConfig:()=>sa,delay:()=>Ws,filterArray:()=>Qn,filterFunction:()=>Zo,filterHasLength:()=>cr,filterPlainObject:()=>ar,filterPrimitives:()=>or,filterString:()=>_t,filterStringArray:()=>ta,filterStringOrStringArray:()=>ea,filterType:()=>pe,first:()=>Yo,folderExists:()=>rr,forEachLineWithContent:()=>sr,getTrailingOptions:()=>fe,including:()=>Xo,isUserFunction:()=>Ho,last:()=>Pe,objectToString:()=>fn,parseStringResponse:()=>Kt,pick:()=>Jo,prefixedArray:()=>qn,remove:()=>ir,splitOn:()=>Vo,toLinesWithContent:()=>un,trailingFunctionArgument:()=>Tt,trailingOptionsArgument:()=>lr});var q=C({"src/lib/utils/index.ts"(){na(),Fl(),Ll(),Dl(),Bl(),Ul(),Wl(),Xn()}}),oa={};ft(oa,{CheckRepoActions:()=>Hs,checkIsBareRepoTask:()=>ca,checkIsRepoRootTask:()=>aa,checkIsRepoTask:()=>zl});function zl(e){switch(e){case"bare":return ca();case"root":return aa()}return{commands:["rev-parse","--is-inside-work-tree"],format:"utf-8",onError:Jn,parser:fr}}function aa(){return{commands:["rev-parse","--git-dir"],format:"utf-8",onError:Jn,parser(t){return/^\.(git)?$/.test(t.trim())}}}function ca(){return{commands:["rev-parse","--is-bare-repository"],format:"utf-8",onError:Jn,parser:fr}}function ql(e){return/(Not a git repository|Kein Git-Repository)/i.test(String(e))}var Hs,Jn,fr,ua=C({"src/lib/tasks/check-is-repo.ts"(){q(),Hs=(e=>(e.BARE="bare",e.IN_TREE="tree",e.IS_REPO_ROOT="root",e))(Hs||{}),Jn=({exitCode:e},t,n,s)=>{if(e===128&&ql(t))return n(Buffer.from("false"));s(t)},fr=e=>e.trim()==="true"}});function Hl(e,t){let n=new la(e),s=e?ha:fa;return un(t).forEach(r=>{let i=r.replace(s,"");n.paths.push(i),(pa.test(i)?n.folders:n.files).push(i)}),n}var la,fa,ha,pa,Vl=C({"src/lib/responses/CleanSummary.ts"(){q(),la=class{constructor(e){this.dryRun=e,this.paths=[],this.files=[],this.folders=[]}},fa=/^[a-z]+\s*/i,ha=/^[a-z]+\s+[a-z]+\s*/i,pa=/\/$/}}),Vs={};ft(Vs,{EMPTY_COMMANDS:()=>Zn,adhocExecTask:()=>da,configurationErrorTask:()=>Yt,isBufferTask:()=>ma,isEmptyTask:()=>ga,straightThroughBufferTask:()=>Yl,straightThroughStringTask:()=>Dt});function da(e){return{commands:Zn,format:"empty",parser:e}}function Yt(e){return{commands:Zn,format:"empty",parser(){throw typeof e=="string"?new Wo(e):e}}}function Dt(e,t=!1){return{commands:e,format:"utf-8",parser(n){return t?String(n).trim():n}}}function Yl(e){return{commands:e,format:"buffer",parser(t){return t}}}function ma(e){return e.format==="buffer"}function ga(e){return e.format==="empty"||!e.commands.length}var Zn,Et=C({"src/lib/tasks/task.ts"(){zo(),Zn=[]}}),ba={};ft(ba,{CONFIG_ERROR_INTERACTIVE_MODE:()=>hr,CONFIG_ERROR_MODE_REQUIRED:()=>pr,CONFIG_ERROR_UNKNOWN_OPTION:()=>dr,CleanOptions:()=>Gn,cleanTask:()=>ya,cleanWithOptionsTask:()=>Kl,isCleanOptionsArray:()=>Xl});function Kl(e,t){let{cleanMode:n,options:s,valid:r}=Ql(e);return n?r.options?(s.push(...t),s.some(tf)?Yt(hr):ya(n,s)):Yt(dr+JSON.stringify(e)):Yt(pr)}function ya(e,t){return{commands:["clean",`-${e}`,...t],format:"utf-8",parser(s){return Hl(e==="n",s)}}}function Xl(e){return Array.isArray(e)&&e.every(t=>mr.has(t))}function Ql(e){let t,n=[],s={cleanMode:!1,options:!0};return e.replace(/[^a-z]i/g,"").split("").forEach(r=>{Jl(r)?(t=r,s.cleanMode=!0):s.options=s.options&&Zl(n[n.length]=`-${r}`)}),{cleanMode:t,options:n,valid:s}}function Jl(e){return e==="f"||e==="n"}function Zl(e){return/^-[a-z]$/i.test(e)&&mr.has(e.charAt(1))}function tf(e){return/^-[^\-]/.test(e)?e.indexOf("i")>0:e==="--interactive"}var hr,pr,dr,Gn,mr,_a=C({"src/lib/tasks/clean.ts"(){Vl(),q(),Et(),hr="Git clean interactive mode is not supported",pr='Git clean mode parameter ("n" or "f") is required',dr="Git clean unknown option found in: ",Gn=(e=>(e.DRY_RUN="n",e.FORCE="f",e.IGNORED_INCLUDED="x",e.IGNORED_ONLY="X",e.EXCLUDING="e",e.QUIET="q",e.RECURSIVE="d",e))(Gn||{}),mr=new Set(["i",...Qo(Object.values(Gn))])}});function ef(e){let t=new wa;for(let n of Ea(e))t.addValue(n.file,String(n.key),n.value);return t}function nf(e,t){let n=null,s=[],r=new Map;for(let i of Ea(e,t))i.key===t&&(s.push(n=i.value),r.has(i.file)||r.set(i.file,[]),r.get(i.file).push(n));return{key:t,paths:Array.from(r.keys()),scopes:r,value:n,values:s}}function sf(e){return e.replace(/^(file):/,"")}function*Ea(e,t=null){let n=e.split("\0");for(let s=0,r=n.length-1;s<r;){let i=sf(n[s++]),o=n[s++],u=t;if(o.includes(`
`)){let h=Vo(o,`
`);u=h[0],o=h[1]}yield{file:i,key:u,value:o}}}var wa,rf=C({"src/lib/responses/ConfigList.ts"(){q(),wa=class{constructor(){this.files=[],this.values=Object.create(null)}get all(){return this._all||(this._all=this.files.reduce((e,t)=>Object.assign(e,this.values[t]),{})),this._all}addFile(e){if(!(e in this.values)){let t=Pe(this.files);this.values[e]=t?Object.create(this.values[t]):{},this.files.push(e)}return this.values[e]}addValue(e,t,n){let s=this.addFile(e);s.hasOwnProperty(t)?Array.isArray(s[t])?s[t].push(n):s[t]=[s[t],n]:s[t]=n,this._all=void 0}}}});function Ds(e,t){return typeof e=="string"&&Ys.hasOwnProperty(e)?e:t}function of(e,t,n,s){let r=["config",`--${s}`];return n&&r.push("--add"),r.push(e,t),{commands:r,format:"utf-8",parser(i){return i}}}function af(e,t){let n=["config","--null","--show-origin","--get-all",e];return t&&n.splice(1,0,`--${t}`),{commands:n,format:"utf-8",parser(s){return nf(s,e)}}}function cf(e){let t=["config","--list","--show-origin","--null"];return e&&t.push(`--${e}`),{commands:t,format:"utf-8",parser(n){return ef(n)}}}function uf(){return{addConfig(e,t,...n){return this._runTask(of(e,t,n[0]===!0,Ds(n[1],"local")),Tt(arguments))},getConfig(e,t){return this._runTask(af(e,Ds(t,void 0)),Tt(arguments))},listConfig(...e){return this._runTask(cf(Ds(e[0],void 0)),Tt(arguments))}}}var Ys,Oa=C({"src/lib/tasks/config.ts"(){rf(),q(),Ys=(e=>(e.system="system",e.global="global",e.local="local",e.worktree="worktree",e))(Ys||{})}});function lf(...e){return new Ta().param(...e)}function ff(e){let t=new Set,n={};return sr(e,s=>{let[r,i,o]=s.split(Kn);t.add(r),(n[r]=n[r]||[]).push({line:Vt(i),path:r,preview:o})}),{paths:t,results:n}}function hf(){return{grep(e){let t=Tt(arguments),n=fe(arguments);for(let r of Ca)if(n.includes(r))return this._runTask(Yt(`git.grep: use of "${r}" is not supported.`),t);typeof e=="string"&&(e=lf().param(e));let s=["grep","--null","-n","--full-name",...n,...e];return this._runTask({commands:s,format:"utf-8",parser(r){return ff(r)}},t)}}}var Ca,sn,yo,Ta,va=C({"src/lib/tasks/grep.ts"(){q(),Et(),Ca=["-h"],sn=Symbol("grepQuery"),Ta=class{constructor(){this[yo]=[]}*[(yo=sn,Symbol.iterator)](){for(let e of this[sn])yield e}and(...e){return e.length&&this[sn].push("--and","(",...qn(e,"-e"),")"),this}param(...e){return this[sn].push(...qn(e,"-e")),this}}}}),Aa={};ft(Aa,{ResetMode:()=>Un,getResetMode:()=>df,resetTask:()=>pf});function pf(e,t){let n=["reset"];return Sa(e)&&n.push(`--${e}`),n.push(...t),Dt(n)}function df(e){if(Sa(e))return e;switch(typeof e){case"string":case"undefined":return"soft"}}function Sa(e){return Ia.includes(e)}var Un,Ia,xa=C({"src/lib/tasks/reset.ts"(){Et(),Un=(e=>(e.MIXED="mixed",e.SOFT="soft",e.HARD="hard",e.MERGE="merge",e.KEEP="keep",e))(Un||{}),Ia=Array.from(Object.values(Un))}});function mf(){return(0,Hn.default)("simple-git")}function _o(e,t,n){return!t||!String(t).replace(/\s*/,"")?n?(s,...r)=>{e(s,...r),n(s,...r)}:e:(s,...r)=>{e(`%s ${s}`,t,...r),n&&n(s,...r)}}function gf(e,t,{namespace:n}){if(typeof e=="string")return e;let s=t&&t.namespace||"";return s.startsWith(n)?s.substr(n.length+1):s||n}function gr(e,t,n,s=mf()){let r=e&&`[${e}]`||"",i=[],o=typeof t=="string"?s.extend(t):t,u=gf(pe(t,_t),o,s);return y(n);function h(p,l){return K(i,gr(e,u.replace(/^[^:]+/,p),l,s))}function y(p){let l=p&&`[${p}]`||"",m=o&&_o(o,l)||je,b=_o(s,`${r} ${l}`,m);return Object.assign(o?m:b,{label:e,sibling:h,info:b,step:y})}}var Ra=C({"src/lib/git-logger.ts"(){q(),Hn.default.formatters.L=e=>String(cr(e)?e.length:"-"),Hn.default.formatters.B=e=>Buffer.isBuffer(e)?e.toString("utf8"):fn(e)}}),Ln,Ks,bf=C({"src/lib/runners/tasks-pending-queue.ts"(){de(),Ra(),Ln=class{constructor(e="GitExecutor"){this.logLabel=e,this._queue=new Map}withProgress(e){return this._queue.get(e)}createProgress(e){let t=Ln.getName(e.commands[0]),n=gr(this.logLabel,t);return{task:e,logger:n,name:t}}push(e){let t=this.createProgress(e);return t.logger("Adding task to the queue, commands = %o",e.commands),this._queue.set(e,t),t}fatal(e){for(let[t,{logger:n}]of Array.from(this._queue.entries()))t===e.task?(n.info("Failed %o",e),n("Fatal exception, any as-yet un-started tasks run through this executor will not be attempted")):n.info("A fatal exception occurred in a previous task, the queue has been purged: %o",e.message),this.complete(t);if(this._queue.size!==0)throw new Error(`Queue size should be zero after fatal: ${this._queue.size}`)}complete(e){this.withProgress(e)&&this._queue.delete(e)}attempt(e){let t=this.withProgress(e);if(!t)throw new ne(void 0,"TasksPendingQueue: attempt called for an unknown task");return t.logger("Starting task"),t}static getName(e="empty"){return`task:${e}:${++Ln.counter}`}},Ks=Ln,Ks.counter=0}});function Dn(e,t){return{method:Yo(e.commands)||"",commands:t}}function yf(e,t){return n=>{t("[ERROR] child process exception %o",n),e.push(Buffer.from(String(n.stack),"ascii"))}}function Eo(e,t,n,s){return r=>{n("%s received %L bytes",t,r),s("%B",r),e.push(r)}}var Xs,_f=C({"src/lib/runners/git-executor-chain.ts"(){de(),Et(),q(),bf(),Xs=class{constructor(e,t,n){this._executor=e,this._scheduler=t,this._plugins=n,this._chain=Promise.resolve(),this._queue=new Ks}get binary(){return this._executor.binary}get cwd(){return this._cwd||this._executor.cwd}set cwd(e){this._cwd=e}get env(){return this._executor.env}get outputHandler(){return this._executor.outputHandler}chain(){return this}push(e){return this._queue.push(e),this._chain=this._chain.then(()=>this.attemptTask(e))}attemptTask(e){return rn(this,null,function*(){let t=yield this._scheduler.next(),n=()=>this._queue.complete(e);try{let{logger:s}=this._queue.attempt(e);return yield ga(e)?this.attemptEmptyTask(e,s):this.attemptRemoteTask(e,s)}catch(s){throw this.onFatalException(e,s)}finally{n(),t()}})}onFatalException(e,t){let n=t instanceof ne?Object.assign(t,{task:e}):new ne(e,t&&String(t));return this._chain=Promise.resolve(),this._queue.fatal(n),n}attemptRemoteTask(e,t){return rn(this,null,function*(){let n=this._plugins.exec("spawn.args",[...e.commands],Dn(e,e.commands)),s=yield this.gitResponse(e,this.binary,n,this.outputHandler,t.step("SPAWN")),r=yield this.handleTaskData(e,n,s,t.step("HANDLE"));return t("passing response to task's parser as a %s",e.format),ma(e)?qs(e.parser,r):qs(e.parser,r.asStrings())})}attemptEmptyTask(e,t){return rn(this,null,function*(){return t("empty task bypassing child process to call to task's parser"),e.parser(this)})}handleTaskData(e,t,n,s){let{exitCode:r,rejection:i,stdOut:o,stdErr:u}=n;return new Promise((h,y)=>{s("Preparing to handle process response exitCode=%d stdOut=",r);let{error:p}=this._plugins.exec("task.error",{error:i},Jt(Jt({},Dn(e,t)),n));if(p&&e.onError)return s.info("exitCode=%s handling with custom error handler"),e.onError(n,p,l=>{s.info("custom error handler treated as success"),s("custom error returned a %s",fn(l)),h(new an(Array.isArray(l)?Buffer.concat(l):l,Buffer.concat(u)))},y);if(p)return s.info("handling as error: exitCode=%s stdErr=%s rejection=%o",r,u.length,i),y(p);s.info("retrieving task output complete"),h(new an(Buffer.concat(o),Buffer.concat(u)))})}gitResponse(e,t,n,s,r){return rn(this,null,function*(){let i=r.sibling("output"),o=this._plugins.exec("spawn.options",{cwd:this.cwd,env:this.env,windowsHide:!0},Dn(e,e.commands));return new Promise(u=>{let h=[],y=[],p;r.info("%s %o",t,n),r("%O",o);let l=(0,Pa.spawn)(t,n,o);l.stdout.on("data",Eo(h,"stdOut",r,i.step("stdOut"))),l.stderr.on("data",Eo(y,"stdErr",r,i.step("stdErr"))),l.on("error",yf(y,r)),s&&(r("Passing child process stdOut/stdErr to custom outputHandler"),s(t,l.stdout,l.stderr,[...n])),this._plugins.exec("spawn.after",void 0,Us(Jt({},Dn(e,n)),{spawned:l,close(m,b){u({stdOut:h,stdErr:y,exitCode:m,rejection:p||b})},kill(m){l.killed||(p=m,l.kill("SIGINT"))}}))})})}}}}),ja={};ft(ja,{GitExecutor:()=>ka});var ka,Ef=C({"src/lib/runners/git-executor.ts"(){_f(),ka=class{constructor(e="git",t,n,s){this.binary=e,this.cwd=t,this._scheduler=n,this._plugins=s,this._chain=new Xs(this,this._scheduler,this._plugins)}chain(){return new Xs(this,this._scheduler,this._plugins)}push(e){return this._chain.push(e)}}}});function wf(e,t,n=je){let s=i=>{n(null,i)},r=i=>{(i==null?void 0:i.task)===e&&n(i instanceof cn?Of(i):i,void 0)};t.then(s,r)}function Of(e){let t=s=>{console.warn(`simple-git deprecation notice: accessing GitResponseError.${s} should be GitResponseError.git.${s}, this will no longer be available in version 3`),t=je};return Object.create(e,Object.getOwnPropertyNames(e.git).reduce(n,{}));function n(s,r){return r in e||(s[r]={enumerable:!1,configurable:!1,get(){return t(r),e.git[r]}}),s}}var Cf=C({"src/lib/task-callback.ts"(){Ve(),q()}});function wo(e,t){return da(n=>{if(!rr(e))throw new Error(`Git.cwd: cannot change to non-directory "${e}"`);return(t||n).cwd=e})}var Tf=C({"src/lib/tasks/change-working-directory.ts"(){q(),Et()}});function vf(e,t){let n=["hash-object",e];return t&&n.push("-w"),Dt(n,!0)}var Af=C({"src/lib/tasks/hash-object.ts"(){Et()}});function Sf(e,t,n){let s=String(n).trim(),r;if(r=Ma.exec(s))return new Wn(e,t,!1,r[1]);if(r=Na.exec(s))return new Wn(e,t,!0,r[1]);let i="",o=s.split(" ");for(;o.length;)if(o.shift()==="in"){i=o.join(" ");break}return new Wn(e,t,/^re/i.test(s),i)}var Wn,Ma,Na,If=C({"src/lib/responses/InitSummary.ts"(){Wn=class{constructor(e,t,n,s){this.bare=e,this.path=t,this.existing=n,this.gitDir=s}},Ma=/^Init.+ repository in (.+)$/,Na=/^Rein.+ in (.+)$/}});function xf(e){return e.includes(br)}function Rf(e=!1,t,n){let s=["init",...n];return e&&!xf(s)&&s.splice(1,0,br),{commands:s,format:"utf-8",parser(r){return Sf(s.includes("--bare"),t,r)}}}var br,Pf=C({"src/lib/tasks/init.ts"(){If(),br="--bare"}}),$a,jf=C({"src/lib/responses/DiffSummary.ts"(){$a=class{constructor(){this.changed=0,this.deletions=0,this.insertions=0,this.files=[]}}}});function Fa(e){let t=e.trim().split(`
`),n=new $a;kf(n,t.pop());for(let s=0,r=t.length;s<r;s++){let i=t[s];Nf(i,n)||$f(i,n)}return n}function kf(e,t){(t||"").trim().split(", ").forEach(function(n){let s=/(\d+)\s([a-z]+)/.exec(n);!s||Mf(e,s[2],parseInt(s[1],10))})}function Mf(e,t,n){let s=/([a-z]+?)s?\b/.exec(t);!s||!Qs[s[1]]||Qs[s[1]](e,n)}function Nf(e,{files:t}){let n=e.trim().match(/^(.+)\s+\|\s+(\d+)(\s+[+\-]+)?$/);if(n){var s=(n[3]||"").trim();return t.push({file:n[1].trim(),changes:parseInt(n[2],10),insertions:s.replace(/-/g,"").length,deletions:s.replace(/\+/g,"").length,binary:!1}),!0}return!1}function $f(e,{files:t}){let n=e.match(/^(.+) \|\s+Bin ([0-9.]+) -> ([0-9.]+) ([a-z]+)$/);return n?(t.push({file:n[1].trim(),before:+n[2],after:+n[3],binary:!0}),!0):!1}var Qs,La=C({"src/lib/parsers/parse-diff-summary.ts"(){jf(),Qs={file(e,t){e.changed=t},deletion(e,t){e.deletions=t},insertion(e,t){e.insertions=t}}}});function Ff(e,t){return t.reduce((n,s,r)=>(n[s]=e[r]||"",n),Object.create({diff:null}))}function Da(e=Er,t=Ba){return function(n){let s=un(n,!0,yr).map(function(r){let i=r.trim().split(_r),o=Ff(i[0].trim().split(e),t);return i.length>1&&!!i[1].trim()&&(o.diff=Fa(i[1])),o});return{all:s,latest:s.length&&s[0]||null,total:s.length}}}var yr,_r,Er,Ba,Ga=C({"src/lib/parsers/parse-list-log-summary.ts"(){q(),La(),yr="\xF2\xF2\xF2\xF2\xF2\xF2 ",_r=" \xF2\xF2",Er=" \xF2 ",Ba=["hash","date","message","refs","author_name","author_email"]}});function Lf(e,t){let n=[],s=[];return Object.keys(e).forEach(r=>{n.push(r),s.push(String(e[r]))}),[n,s.join(t)]}function Df(e){return Object.keys(e).reduce((t,n)=>(n in Js||(t[n]=e[n]),t),{})}function Ua(e={},t=[]){let n=pe(e.splitter,_t,Er),s=!or(e.format)&&e.format?e.format:{hash:"%H",date:e.strictDate===!1?"%ai":"%aI",message:"%s",refs:"%D",body:e.multiLine?"%B":"%b",author_name:e.mailMap!==!1?"%aN":"%an",author_email:e.mailMap!==!1?"%aE":"%ae"},[r,i]=Lf(s,n),o=[],u=[`--pretty=format:${yr}${i}${_r}`,...t],h=e.n||e["max-count"]||e.maxCount;if(h&&u.push(`--max-count=${h}`),e.from&&e.to){let y=e.symmetric!==!1?"...":"..";o.push(`${e.from}${y}${e.to}`)}return _t(e.file)&&o.push("--follow",e.file),ur(Df(e),u),{fields:r,splitter:n,commands:[...u,...o]}}function Bf(e,t,n){return{commands:["log",...n],format:"utf-8",parser:Da(e,t)}}function Gf(){return{log(...n){let s=Tt(arguments),r=t(...n)||e(Ua(lr(arguments),pe(arguments[0],Qn)));return this._runTask(r,s)}};function e(n){return Bf(n.splitter,n.fields,n.commands)}function t(n,s){return _t(n)&&_t(s)&&Yt("git.log(string, string) should be replaced with git.log({ from: string, to: string })")}}var Js,Wa=C({"src/lib/tasks/log.ts"(){Ga(),q(),Et(),Js=(e=>(e[e["--pretty"]=0]="--pretty",e[e["max-count"]=1]="max-count",e[e.maxCount=2]="maxCount",e[e.n=3]="n",e[e.file=4]="file",e[e.format=5]="format",e[e.from=6]="from",e[e.to=7]="to",e[e.splitter=8]="splitter",e[e.symmetric=9]="symmetric",e[e.mailMap=10]="mailMap",e[e.multiLine=11]="multiLine",e[e.strictDate=12]="strictDate",e))(Js||{})}}),zn,za,Uf=C({"src/lib/responses/MergeSummary.ts"(){zn=class{constructor(e,t=null,n){this.reason=e,this.file=t,this.meta=n}toString(){return`${this.file}:${this.reason}`}},za=class{constructor(){this.conflicts=[],this.merges=[],this.result="success"}get failed(){return this.conflicts.length>0}get reason(){return this.result}toString(){return this.conflicts.length?`CONFLICTS: ${this.conflicts.join(", ")}`:"OK"}}}}),Zs,qa,Wf=C({"src/lib/responses/PullSummary.ts"(){Zs=class{constructor(){this.remoteMessages={all:[]},this.created=[],this.deleted=[],this.files=[],this.deletions={},this.insertions={},this.summary={changes:0,deletions:0,insertions:0}}},qa=class{constructor(){this.remote="",this.hash={local:"",remote:""},this.branch={local:"",remote:""},this.message=""}toString(){return this.message}}}});function Bs(e){return e.objects=e.objects||{compressing:0,counting:0,enumerating:0,packReused:0,reused:{count:0,delta:0},total:{count:0,delta:0}}}function Oo(e){let t=/^\s*(\d+)/.exec(e),n=/delta (\d+)/i.exec(e);return{count:Vt(t&&t[1]||"0"),delta:Vt(n&&n[1]||"0")}}var Ha,zf=C({"src/lib/parsers/parse-remote-objects.ts"(){q(),Ha=[new he(/^remote:\s*(enumerating|counting|compressing) objects: (\d+),/i,(e,[t,n])=>{let s=t.toLowerCase(),r=Bs(e.remoteMessages);Object.assign(r,{[s]:Vt(n)})}),new he(/^remote:\s*(enumerating|counting|compressing) objects: \d+% \(\d+\/(\d+)\),/i,(e,[t,n])=>{let s=t.toLowerCase(),r=Bs(e.remoteMessages);Object.assign(r,{[s]:Vt(n)})}),new he(/total ([^,]+), reused ([^,]+), pack-reused (\d+)/i,(e,[t,n,s])=>{let r=Bs(e.remoteMessages);r.total=Oo(t),r.reused=Oo(n),r.packReused=Vt(s)})]}});function Va(e,t){return Kt({remoteMessages:new Ka},Ya,t)}var Ya,Ka,Xa=C({"src/lib/parsers/parse-remote-messages.ts"(){q(),zf(),Ya=[new he(/^remote:\s*(.+)$/,(e,[t])=>(e.remoteMessages.all.push(t.trim()),!1)),...Ha,new he([/create a (?:pull|merge) request/i,/\s(https?:\/\/\S+)$/],(e,[t])=>{e.remoteMessages.pullRequestUrl=t}),new he([/found (\d+) vulnerabilities.+\(([^)]+)\)/i,/\s(https?:\/\/\S+)$/],(e,[t,n,s])=>{e.remoteMessages.vulnerabilities={count:Vt(t),summary:n,url:s}})],Ka=class{constructor(){this.all=[]}}}});function qf(e,t){let n=Kt(new qa,Qa,e,t);return n.message&&n}var Co,To,vo,Ao,Qa,So,wr,Ja=C({"src/lib/parsers/parse-pull.ts"(){Wf(),q(),Xa(),Co=/^\s*(.+?)\s+\|\s+\d+\s*(\+*)(-*)/,To=/(\d+)\D+((\d+)\D+\(\+\))?(\D+(\d+)\D+\(-\))?/,vo=/^(create|delete) mode \d+ (.+)/,Ao=[new X(Co,(e,[t,n,s])=>{e.files.push(t),n&&(e.insertions[t]=n.length),s&&(e.deletions[t]=s.length)}),new X(To,(e,[t,,n,,s])=>n!==void 0||s!==void 0?(e.summary.changes=+t||0,e.summary.insertions=+n||0,e.summary.deletions=+s||0,!0):!1),new X(vo,(e,[t,n])=>{K(e.files,n),K(t==="create"?e.created:e.deleted,n)})],Qa=[new X(/^from\s(.+)$/i,(e,[t])=>void(e.remote=t)),new X(/^fatal:\s(.+)$/,(e,[t])=>void(e.message=t)),new X(/([a-z0-9]+)\.\.([a-z0-9]+)\s+(\S+)\s+->\s+(\S+)$/,(e,[t,n,s,r])=>{e.branch.local=s,e.hash.local=t,e.branch.remote=r,e.hash.remote=n})],So=(e,t)=>Kt(new Zs,Ao,e,t),wr=(e,t)=>Object.assign(new Zs,So(e,t),Va(e,t))}}),Io,Za,xo,Hf=C({"src/lib/parsers/parse-merge.ts"(){Uf(),q(),Ja(),Io=[new X(/^Auto-merging\s+(.+)$/,(e,[t])=>{e.merges.push(t)}),new X(/^CONFLICT\s+\((.+)\): Merge conflict in (.+)$/,(e,[t,n])=>{e.conflicts.push(new zn(t,n))}),new X(/^CONFLICT\s+\((.+\/delete)\): (.+) deleted in (.+) and/,(e,[t,n,s])=>{e.conflicts.push(new zn(t,n,{deleteRef:s}))}),new X(/^CONFLICT\s+\((.+)\):/,(e,[t])=>{e.conflicts.push(new zn(t,null))}),new X(/^Automatic merge failed;\s+(.+)$/,(e,[t])=>{e.result=t})],Za=(e,t)=>Object.assign(xo(e,t),wr(e,t)),xo=e=>Kt(new za,Io,e)}});function Ro(e){return e.length?{commands:["merge",...e],format:"utf-8",parser(t,n){let s=Za(t,n);if(s.failed)throw new cn(s);return s}}:Yt("Git.merge requires at least one option")}var Vf=C({"src/lib/tasks/merge.ts"(){Ve(),Hf(),Et()}});function Yf(e,t,n){let s=n.includes("deleted"),r=n.includes("tag")||/^refs\/tags/.test(e),i=!n.includes("new");return{deleted:s,tag:r,branch:!r,new:!i,alreadyUpdated:i,local:e,remote:t}}var Po,tc,jo,Kf=C({"src/lib/parsers/parse-push.ts"(){q(),Xa(),Po=[new X(/^Pushing to (.+)$/,(e,[t])=>{e.repo=t}),new X(/^updating local tracking ref '(.+)'/,(e,[t])=>{e.ref=Us(Jt({},e.ref||{}),{local:t})}),new X(/^[*-=]\s+([^:]+):(\S+)\s+\[(.+)]$/,(e,[t,n,s])=>{e.pushed.push(Yf(t,n,s))}),new X(/^Branch '([^']+)' set up to track remote branch '([^']+)' from '([^']+)'/,(e,[t,n,s])=>{e.branch=Us(Jt({},e.branch||{}),{local:t,remote:n,remoteName:s})}),new X(/^([^:]+):(\S+)\s+([a-z0-9]+)\.\.([a-z0-9]+)$/,(e,[t,n,s,r])=>{e.update={head:{local:t,remote:n},hash:{from:s,to:r}}})],tc=(e,t)=>{let n=jo(e,t),s=Va(e,t);return Jt(Jt({},n),s)},jo=(e,t)=>Kt({pushed:[]},Po,e,t)}}),ec={};ft(ec,{pushTagsTask:()=>Xf,pushTask:()=>Or});function Xf(e={},t){return K(t,"--tags"),Or(e,t)}function Or(e={},t){let n=["push",...t];return e.branch&&n.splice(1,0,e.branch),e.remote&&n.splice(1,0,e.remote),ir(n,"-v"),K(n,"--verbose"),K(n,"--porcelain"),{commands:n,format:"utf-8",parser:tc}}var nc=C({"src/lib/tasks/push.ts"(){Kf(),q()}}),ko,sc,Qf=C({"src/lib/responses/FileStatusSummary.ts"(){ko=/^(.+) -> (.+)$/,sc=class{constructor(e,t,n){if(this.path=e,this.index=t,this.working_dir=n,t+n==="R"){let s=ko.exec(e)||[null,e,e];this.from=s[1]||"",this.path=s[2]||""}}}}});function Mo(e){let t=/^(.+) -> (.+)$/.exec(e);return t?{from:String(t[1]),to:String(t[2])}:{from:e,to:e}}function jt(e,t,n){return[`${e}${t}`,n]}function Gs(e,...t){return t.map(n=>jt(e,n,(s,r)=>K(s.conflicted,r)))}function Jf(e,t){let n=t.trim();switch(" "){case n.charAt(2):return s(n.charAt(0),n.charAt(1),n.substr(3));case n.charAt(1):return s(" ",n.charAt(0),n.substr(2));default:return}function s(r,i,o){let u=`${r}${i}`,h=rc.get(u);h&&h(e,o),u!=="##"&&u!=="!!"&&e.files.push(new sc(o,r,i))}}var No,rc,ic,Zf=C({"src/lib/responses/StatusSummary.ts"(){q(),Qf(),No=class{constructor(){this.not_added=[],this.conflicted=[],this.created=[],this.deleted=[],this.ignored=void 0,this.modified=[],this.renamed=[],this.files=[],this.staged=[],this.ahead=0,this.behind=0,this.current=null,this.tracking=null,this.detached=!1,this.isClean=()=>!this.files.length}},rc=new Map([jt(" ","A",(e,t)=>K(e.created,t)),jt(" ","D",(e,t)=>K(e.deleted,t)),jt(" ","M",(e,t)=>K(e.modified,t)),jt("A"," ",(e,t)=>K(e.created,t)&&K(e.staged,t)),jt("A","M",(e,t)=>K(e.created,t)&&K(e.staged,t)&&K(e.modified,t)),jt("D"," ",(e,t)=>K(e.deleted,t)&&K(e.staged,t)),jt("M"," ",(e,t)=>K(e.modified,t)&&K(e.staged,t)),jt("M","M",(e,t)=>K(e.modified,t)&&K(e.staged,t)),jt("R"," ",(e,t)=>{K(e.renamed,Mo(t))}),jt("R","M",(e,t)=>{let n=Mo(t);K(e.renamed,n),K(e.modified,n.to)}),jt("!","!",(e,t)=>{K(e.ignored=e.ignored||[],t)}),jt("?","?",(e,t)=>K(e.not_added,t)),...Gs("A","A","U"),...Gs("D","D","U"),...Gs("U","A","D","U"),["##",(e,t)=>{let n=/ahead (\d+)/,s=/behind (\d+)/,r=/^(.+?(?=(?:\.{3}|\s|$)))/,i=/\.{3}(\S*)/,o=/\son\s([\S]+)$/,u;u=n.exec(t),e.ahead=u&&+u[1]||0,u=s.exec(t),e.behind=u&&+u[1]||0,u=r.exec(t),e.current=u&&u[1],u=i.exec(t),e.tracking=u&&u[1],u=o.exec(t),e.current=u&&u[1]||e.current,e.detached=/\(no branch\)/.test(t)}]]),ic=function(e){let t=e.trim().split(Kn),n=new No;for(let s=0,r=t.length;s<r;s++)Jf(n,t[s]);return n}}});function th(e){let t=["status","--porcelain","-b","-u","--null",...e.filter(n=>!oc.includes(n))];return{format:"utf-8",commands:t,parser(n){return ic(n)}}}var oc,eh=C({"src/lib/tasks/status.ts"(){Zf(),oc=["--null","-z"]}}),ac={};ft(ac,{SimpleGitApi:()=>tr});var tr,nh=C({"src/lib/simple-git-api.ts"(){Cf(),Tf(),Oa(),va(),Af(),Pf(),Wa(),Vf(),nc(),eh(),Et(),q(),tr=class{constructor(e){this._executor=e}_runTask(e,t){let n=this._executor.chain(),s=n.push(e);return t&&wf(e,s,t),Object.create(this,{then:{value:s.then.bind(s)},catch:{value:s.catch.bind(s)},_executor:{value:n}})}add(e){return this._runTask(Dt(["add",...ln(e)]),Tt(arguments))}cwd(e){let t=Tt(arguments);return typeof e=="string"?this._runTask(wo(e,this._executor),t):typeof(e==null?void 0:e.path)=="string"?this._runTask(wo(e.path,e.root&&this._executor||void 0),t):this._runTask(Yt("Git.cwd: workingDirectory must be supplied as a string"),t)}hashObject(e,t){return this._runTask(vf(e,t===!0),Tt(arguments))}init(e){return this._runTask(Rf(e===!0,this._executor.cwd,fe(arguments)),Tt(arguments))}merge(){return this._runTask(Ro(fe(arguments)),Tt(arguments))}mergeFromTo(e,t){return _t(e)&&_t(t)?this._runTask(Ro([e,t,...fe(arguments)]),Tt(arguments,!1)):this._runTask(Yt("Git.mergeFromTo requires that the 'remote' and 'branch' arguments are supplied as strings"))}outputHandler(e){return this._executor.outputHandler=e,this}push(){let e=Or({remote:pe(arguments[0],_t),branch:pe(arguments[1],_t)},fe(arguments));return this._runTask(e,Tt(arguments))}stash(){return this._runTask(Dt(["stash",...fe(arguments)]),Tt(arguments))}status(){return this._runTask(th(fe(arguments)),Tt(arguments))}},Object.assign(tr.prototype,uf(),hf(),Gf())}}),cc={};ft(cc,{Scheduler:()=>lc});var $o,lc,sh=C({"src/lib/runners/scheduler.ts"(){q(),Ra(),$o=(()=>{let e=0;return()=>{e++;let{promise:t,done:n}=(0,uc.createDeferred)();return{promise:t,done:n,id:e}}})(),lc=class{constructor(e=2){this.concurrency=e,this.logger=gr("","scheduler"),this.pending=[],this.running=[],this.logger("Constructed, concurrency=%s",e)}schedule(){if(!this.pending.length||this.running.length>=this.concurrency){this.logger("Schedule attempt ignored, pending=%s running=%s concurrency=%s",this.pending.length,this.running.length,this.concurrency);return}let e=K(this.running,this.pending.shift());this.logger("Attempting id=%s",e.id),e.done(()=>{this.logger("Completing id=",e.id),ir(this.running,e),this.schedule()})}next(){let{promise:e,id:t}=K(this.pending,$o());return this.logger("Scheduling id=%s",t),this.schedule(),e}}}}),fc={};ft(fc,{applyPatchTask:()=>rh});function rh(e,t){return Dt(["apply",...t,...e])}var ih=C({"src/lib/tasks/apply-patch.ts"(){Et()}});function oh(e,t){return{branch:e,hash:t,success:!0}}function ah(e){return{branch:e,hash:null,success:!1}}var hc,ch=C({"src/lib/responses/BranchDeleteSummary.ts"(){hc=class{constructor(){this.all=[],this.branches={},this.errors=[]}get success(){return!this.errors.length}}}});function pc(e,t){return t===1&&er.test(e)}var Fo,er,Lo,ts,uh=C({"src/lib/parsers/parse-branch-delete.ts"(){ch(),q(),Fo=/(\S+)\s+\(\S+\s([^)]+)\)/,er=/^error[^']+'([^']+)'/m,Lo=[new X(Fo,(e,[t,n])=>{let s=oh(t,n);e.all.push(s),e.branches[t]=s}),new X(er,(e,[t])=>{let n=ah(t);e.errors.push(n),e.all.push(n),e.branches[t]=n})],ts=(e,t)=>Kt(new hc,Lo,e,t)}}),dc,lh=C({"src/lib/responses/BranchSummary.ts"(){dc=class{constructor(){this.all=[],this.branches={},this.current="",this.detached=!1}push(e,t,n,s,r){e&&(this.detached=t,this.current=n),this.all.push(n),this.branches[n]={current:e,name:n,commit:s,label:r}}}}});function mc(e){return Kt(new dc,gc,e)}var gc,fh=C({"src/lib/parsers/parse-branch.ts"(){lh(),q(),gc=[new X(/^(\*\s)?\((?:HEAD )?detached (?:from|at) (\S+)\)\s+([a-z0-9]+)\s(.*)$/,(e,[t,n,s,r])=>{e.push(!!t,!0,n,s,r)}),new X(/^(\*\s)?(\S+)\s+([a-z0-9]+)\s?(.*)$/s,(e,[t,n,s,r])=>{e.push(!!t,!1,n,s,r)})]}}),bc={};ft(bc,{branchLocalTask:()=>ph,branchTask:()=>hh,containsDeleteBranchCommand:()=>yc,deleteBranchTask:()=>mh,deleteBranchesTask:()=>dh});function yc(e){let t=["-d","-D","--delete"];return e.some(n=>t.includes(n))}function hh(e){let t=yc(e),n=["branch",...e];return n.length===1&&n.push("-a"),n.includes("-v")||n.splice(1,0,"-v"),{format:"utf-8",commands:n,parser(s,r){return t?ts(s,r).all[0]:mc(s)}}}function ph(){return{format:"utf-8",commands:["branch","-v"],parser:mc}}function dh(e,t=!1){return{format:"utf-8",commands:["branch","-v",t?"-D":"-d",...e],parser(n,s){return ts(n,s)},onError({exitCode:n,stdOut:s},r,i,o){if(!pc(String(r),n))return o(r);i(s)}}}function mh(e,t=!1){let n={format:"utf-8",commands:["branch","-v",t?"-D":"-d",e],parser(s,r){return ts(s,r).branches[e]},onError({exitCode:s,stdErr:r,stdOut:i},o,u,h){if(!pc(String(o),s))return h(o);throw new cn(n.parser(on(i),on(r)),String(o))}};return n}var gh=C({"src/lib/tasks/branch.ts"(){Ve(),uh(),fh(),q()}}),_c,bh=C({"src/lib/responses/CheckIgnore.ts"(){_c=e=>e.split(/\n/g).map(t=>t.trim()).filter(t=>!!t)}}),Ec={};ft(Ec,{checkIgnoreTask:()=>yh});function yh(e){return{commands:["check-ignore",...e],format:"utf-8",parser:_c}}var _h=C({"src/lib/tasks/check-ignore.ts"(){bh()}}),wc={};ft(wc,{cloneMirrorTask:()=>wh,cloneTask:()=>Oc});function Eh(e){return/^--upload-pack(=|$)/.test(e)}function Oc(e,t,n){let s=["clone",...n];return _t(e)&&s.push(e),_t(t)&&s.push(t),s.find(Eh)?Yt("git.fetch: potential exploit argument blocked."):Dt(s)}function wh(e,t,n){return K(n,"--mirror"),Oc(e,t,n)}var Oh=C({"src/lib/tasks/clone.ts"(){Et(),q()}});function Ch(e){return Kt({author:null,branch:"",commit:"",root:!1,summary:{changes:0,insertions:0,deletions:0}},Cc,e)}var Cc,Th=C({"src/lib/parsers/parse-commit.ts"(){q(),Cc=[new X(/^\[([^\s]+)( \([^)]+\))? ([^\]]+)/,(e,[t,n,s])=>{e.branch=t,e.commit=s,e.root=!!n}),new X(/\s*Author:\s(.+)/i,(e,[t])=>{let n=t.split("<"),s=n.pop();!s||!s.includes("@")||(e.author={email:s.substr(0,s.length-1),name:n.join("<").trim()})}),new X(/(\d+)[^,]*(?:,\s*(\d+)[^,]*)(?:,\s*(\d+))/g,(e,[t,n,s])=>{e.summary.changes=parseInt(t,10)||0,e.summary.insertions=parseInt(n,10)||0,e.summary.deletions=parseInt(s,10)||0}),new X(/^(\d+)[^,]*(?:,\s*(\d+)[^(]+\(([+-]))?/,(e,[t,n,s])=>{e.summary.changes=parseInt(t,10)||0;let r=parseInt(n,10)||0;s==="-"?e.summary.deletions=r:s==="+"&&(e.summary.insertions=r)})]}}),Tc={};ft(Tc,{commitTask:()=>vh});function vh(e,t,n){let s=["commit"];return e.forEach(r=>s.push("-m",r)),s.push(...t,...n),{commands:s,format:"utf-8",parser:Ch}}var Ah=C({"src/lib/tasks/commit.ts"(){Th()}}),vc={};ft(vc,{diffSummaryTask:()=>Sh});function Sh(e){return{commands:["diff","--stat=4096",...e],format:"utf-8",parser(t){return Fa(t)}}}var Ih=C({"src/lib/tasks/diff.ts"(){La()}});function xh(e,t){return Kt({raw:e,remote:null,branches:[],tags:[]},Ac,e,t)}var Ac,Rh=C({"src/lib/parsers/parse-fetch.ts"(){q(),Ac=[new X(/From (.+)$/,(e,[t])=>{e.remote=t}),new X(/\* \[new branch]\s+(\S+)\s*-> (.+)$/,(e,[t,n])=>{e.branches.push({name:t,tracking:n})}),new X(/\* \[new tag]\s+(\S+)\s*-> (.+)$/,(e,[t,n])=>{e.tags.push({name:t,tracking:n})})]}}),Sc={};ft(Sc,{fetchTask:()=>jh});function Ph(e){return/^--upload-pack(=|$)/.test(e)}function jh(e,t,n){let s=["fetch",...n];return e&&t&&s.push(e,t),s.find(Ph)?Yt("git.fetch: potential exploit argument blocked."):{commands:s,format:"utf-8",parser:xh}}var kh=C({"src/lib/tasks/fetch.ts"(){Rh(),Et()}});function Mh(e){return Kt({moves:[]},Ic,e)}var Ic,Nh=C({"src/lib/parsers/parse-move.ts"(){q(),Ic=[new X(/^Renaming (.+) to (.+)$/,(e,[t,n])=>{e.moves.push({from:t,to:n})})]}}),xc={};ft(xc,{moveTask:()=>$h});function $h(e,t){return{commands:["mv","-v",...ln(e),t],format:"utf-8",parser:Mh}}var Fh=C({"src/lib/tasks/move.ts"(){Nh(),q()}}),Rc={};ft(Rc,{pullTask:()=>Lh});function Lh(e,t,n){let s=["pull",...n];return e&&t&&s.splice(1,0,e,t),{commands:s,format:"utf-8",parser(r,i){return wr(r,i)},onError(r,i,o,u){let h=qf(on(r.stdOut),on(r.stdErr));if(h)return u(new cn(h));u(i)}}}var Dh=C({"src/lib/tasks/pull.ts"(){Ve(),Ja(),q()}});function Bh(e){let t={};return Pc(e,([n])=>t[n]={name:n}),Object.values(t)}function Gh(e){let t={};return Pc(e,([n,s,r])=>{t.hasOwnProperty(n)||(t[n]={name:n,refs:{fetch:"",push:""}}),r&&s&&(t[n].refs[r.replace(/[^a-z]/g,"")]=s)}),Object.values(t)}function Pc(e,t){sr(e,n=>t(n.split(/\s+/)))}var Uh=C({"src/lib/responses/GetRemoteSummary.ts"(){q()}}),jc={};ft(jc,{addRemoteTask:()=>Wh,getRemotesTask:()=>zh,listRemotesTask:()=>qh,remoteTask:()=>Hh,removeRemoteTask:()=>Vh});function Wh(e,t,n=[]){return Dt(["remote","add",...n,e,t])}function zh(e){let t=["remote"];return e&&t.push("-v"),{commands:t,format:"utf-8",parser:e?Gh:Bh}}function qh(e=[]){let t=[...e];return t[0]!=="ls-remote"&&t.unshift("ls-remote"),Dt(t)}function Hh(e=[]){let t=[...e];return t[0]!=="remote"&&t.unshift("remote"),Dt(t)}function Vh(e){return Dt(["remote","remove",e])}var Yh=C({"src/lib/tasks/remote.ts"(){Uh(),Et()}}),kc={};ft(kc,{stashListTask:()=>Kh});function Kh(e={},t){let n=Ua(e),s=Da(n.splitter,n.fields);return{commands:["stash","list",...n.commands,...t],format:"utf-8",parser:s}}var Xh=C({"src/lib/tasks/stash-list.ts"(){Ga(),Wa()}}),Mc={};ft(Mc,{addSubModuleTask:()=>Qh,initSubModuleTask:()=>Jh,subModuleTask:()=>es,updateSubModuleTask:()=>Zh});function Qh(e,t){return es(["add",e,t])}function Jh(e){return es(["init",...e])}function es(e){let t=[...e];return t[0]!=="submodule"&&t.unshift("submodule"),Dt(t)}function Zh(e){return es(["update",...e])}var tp=C({"src/lib/tasks/sub-module.ts"(){Et()}});function ep(e,t){let n=isNaN(e),s=isNaN(t);return n!==s?n?1:-1:n?Nc(e,t):0}function Nc(e,t){return e===t?0:e>t?1:-1}function np(e){return e.trim()}function Bn(e){return typeof e=="string"&&parseInt(e.replace(/^\D+/g,""),10)||0}var Do,$c,sp=C({"src/lib/responses/TagList.ts"(){Do=class{constructor(e,t){this.all=e,this.latest=t}},$c=function(e,t=!1){let n=e.split(`
`).map(np).filter(Boolean);t||n.sort(function(r,i){let o=r.split("."),u=i.split(".");if(o.length===1||u.length===1)return ep(Bn(o[0]),Bn(u[0]));for(let h=0,y=Math.max(o.length,u.length);h<y;h++){let p=Nc(Bn(o[h]),Bn(u[h]));if(p)return p}return 0});let s=t?n[0]:[...n].reverse().find(r=>r.indexOf(".")>=0);return new Do(n,s)}}}),Fc={};ft(Fc,{addAnnotatedTagTask:()=>op,addTagTask:()=>ip,tagListTask:()=>rp});function rp(e=[]){let t=e.some(n=>/^--sort=/.test(n));return{format:"utf-8",commands:["tag","-l",...e],parser(n){return $c(n,t)}}}function ip(e){return{format:"utf-8",commands:["tag",e],parser(){return{name:e}}}}function op(e,t){return{format:"utf-8",commands:["tag","-a","-m",t,e],parser(){return{name:e}}}}var ap=C({"src/lib/tasks/tag.ts"(){sp()}}),cp=Nl({"src/git.js"(e,t){var{GitExecutor:n}=(Ef(),ut(ja)),{SimpleGitApi:s}=(nh(),ut(ac)),{Scheduler:r}=(sh(),ut(cc)),{configurationErrorTask:i}=(Et(),ut(Vs)),{asArray:o,filterArray:u,filterPrimitives:h,filterString:y,filterStringOrStringArray:p,filterType:l,getTrailingOptions:m,trailingFunctionArgument:b,trailingOptionsArgument:v}=(q(),ut(ia)),{applyPatchTask:w}=(ih(),ut(fc)),{branchTask:g,branchLocalTask:D,deleteBranchesTask:U,deleteBranchTask:Y}=(gh(),ut(bc)),{checkIgnoreTask:W}=(_h(),ut(Ec)),{checkIsRepoTask:Q}=(ua(),ut(oa)),{cloneTask:vt,cloneMirrorTask:wt}=(Oh(),ut(wc)),{cleanWithOptionsTask:Bt,isCleanOptionsArray:Gt}=(_a(),ut(ba)),{commitTask:J}=(Ah(),ut(Tc)),{diffSummaryTask:k}=(Ih(),ut(vc)),{fetchTask:O}=(kh(),ut(Sc)),{moveTask:I}=(Fh(),ut(xc)),{pullTask:B}=(Dh(),ut(Rc)),{pushTagsTask:Z}=(nc(),ut(ec)),{addRemoteTask:at,getRemotesTask:V,listRemotesTask:ht,remoteTask:Zt,removeRemoteTask:nt}=(Yh(),ut(jc)),{getResetMode:Ut,resetTask:Wt}=(xa(),ut(Aa)),{stashListTask:te}=(Xh(),ut(kc)),{addSubModuleTask:F,initSubModuleTask:Ke,subModuleTask:$,updateSubModuleTask:tt}=(tp(),ut(Mc)),{addAnnotatedTagTask:st,addTagTask:H,tagListTask:rt}=(ap(),ut(Fc)),{straightThroughBufferTask:ct,straightThroughStringTask:it}=(Et(),ut(Vs));function A(c,f){this._executor=new n(c.binary,c.baseDir,new r(c.maxConcurrentProcesses),f)}(A.prototype=Object.create(s.prototype)).constructor=A,A.prototype.customBinary=function(c){return this._executor.binary=c,this},A.prototype.env=function(c,f){return arguments.length===1&&typeof c=="object"?this._executor.env=c:(this._executor.env=this._executor.env||{})[c]=f,this},A.prototype.stashList=function(c){return this._runTask(te(v(arguments)||{},u(c)&&c||[]),b(arguments))};function me(c,f,E,_){return typeof E!="string"?i(`git.${c}() requires a string 'repoPath'`):f(E,l(_,y),m(arguments))}A.prototype.clone=function(){return this._runTask(me("clone",vt,...arguments),b(arguments))},A.prototype.mirror=function(){return this._runTask(me("mirror",wt,...arguments),b(arguments))},A.prototype.mv=function(c,f){return this._runTask(I(c,f),b(arguments))},A.prototype.checkoutLatestTag=function(c){var f=this;return this.pull(function(){f.tags(function(E,_){f.checkout(_.latest,c)})})},A.prototype.commit=function(c,f,E,_){let d=b(arguments);return p(c)?this._runTask(J(o(c),o(l(f,p,[])),[...l(E,u,[]),...m(arguments,0,!0)]),d):this._runTask(i("git.commit: requires the commit message to be supplied as a string/string[]"),d)},A.prototype.pull=function(c,f,E,_){return this._runTask(B(l(c,y),l(f,y),m(arguments)),b(arguments))},A.prototype.fetch=function(c,f){return this._runTask(O(l(c,y),l(f,y),m(arguments)),b(arguments))},A.prototype.silent=function(c){return console.warn("simple-git deprecation notice: git.silent: logging should be configured using the `debug` library / `DEBUG` environment variable, this will be an error in version 3"),this},A.prototype.tags=function(c,f){return this._runTask(rt(m(arguments)),b(arguments))},A.prototype.rebase=function(){return this._runTask(it(["rebase",...m(arguments)]),b(arguments))},A.prototype.reset=function(c){return this._runTask(Wt(Ut(c),m(arguments)),b(arguments))},A.prototype.revert=function(c){let f=b(arguments);return typeof c!="string"?this._runTask(i("Commit must be a string"),f):this._runTask(it(["revert",...m(arguments,0,!0),c]),f)},A.prototype.addTag=function(c){let f=typeof c=="string"?H(c):i("Git.addTag requires a tag name");return this._runTask(f,b(arguments))},A.prototype.addAnnotatedTag=function(c,f){return this._runTask(st(c,f),b(arguments))},A.prototype.checkout=function(){let c=["checkout",...m(arguments,!0)];return this._runTask(it(c),b(arguments))},A.prototype.checkoutBranch=function(c,f,E){return this.checkout(["-b",c,f],b(arguments))},A.prototype.checkoutLocalBranch=function(c,f){return this.checkout(["-b",c],b(arguments))},A.prototype.deleteLocalBranch=function(c,f,E){return this._runTask(Y(c,typeof f=="boolean"?f:!1),b(arguments))},A.prototype.deleteLocalBranches=function(c,f,E){return this._runTask(U(c,typeof f=="boolean"?f:!1),b(arguments))},A.prototype.branch=function(c,f){return this._runTask(g(m(arguments)),b(arguments))},A.prototype.branchLocal=function(c){return this._runTask(D(),b(arguments))},A.prototype.raw=function(c){let f=!Array.isArray(c),E=[].slice.call(f?arguments:c,0);for(let d=0;d<E.length&&f;d++)if(!h(E[d])){E.splice(d,E.length-d);break}E.push(...m(arguments,0,!0));var _=b(arguments);return E.length?this._runTask(it(E),_):this._runTask(i("Raw: must supply one or more command to execute"),_)},A.prototype.submoduleAdd=function(c,f,E){return this._runTask(F(c,f),b(arguments))},A.prototype.submoduleUpdate=function(c,f){return this._runTask(tt(m(arguments,!0)),b(arguments))},A.prototype.submoduleInit=function(c,f){return this._runTask(Ke(m(arguments,!0)),b(arguments))},A.prototype.subModule=function(c,f){return this._runTask($(m(arguments)),b(arguments))},A.prototype.listRemote=function(){return this._runTask(ht(m(arguments)),b(arguments))},A.prototype.addRemote=function(c,f,E){return this._runTask(at(c,f,m(arguments)),b(arguments))},A.prototype.removeRemote=function(c,f){return this._runTask(nt(c),b(arguments))},A.prototype.getRemotes=function(c,f){return this._runTask(V(c===!0),b(arguments))},A.prototype.remote=function(c,f){return this._runTask(Zt(m(arguments)),b(arguments))},A.prototype.tag=function(c,f){let E=m(arguments);return E[0]!=="tag"&&E.unshift("tag"),this._runTask(it(E),b(arguments))},A.prototype.updateServerInfo=function(c){return this._runTask(it(["update-server-info"]),b(arguments))},A.prototype.pushTags=function(c,f){let E=Z({remote:l(c,y)},m(arguments));return this._runTask(E,b(arguments))},A.prototype.rm=function(c){return this._runTask(it(["rm","-f",...o(c)]),b(arguments))},A.prototype.rmKeepLocal=function(c){return this._runTask(it(["rm","--cached",...o(c)]),b(arguments))},A.prototype.catFile=function(c,f){return this._catFile("utf-8",arguments)},A.prototype.binaryCatFile=function(){return this._catFile("buffer",arguments)},A.prototype._catFile=function(c,f){var E=b(f),_=["cat-file"],d=f[0];if(typeof d=="string")return this._runTask(i("Git.catFile: options must be supplied as an array of strings"),E);Array.isArray(d)&&_.push.apply(_,d);let S=c==="buffer"?ct(_):it(_);return this._runTask(S,E)},A.prototype.diff=function(c,f){let E=y(c)?i("git.diff: supplying options as a single string is no longer supported, switch to an array of strings"):it(["diff",...m(arguments)]);return this._runTask(E,b(arguments))},A.prototype.diffSummary=function(){return this._runTask(k(m(arguments,1)),b(arguments))},A.prototype.applyPatch=function(c){let f=p(c)?w(o(c),m([].slice.call(arguments,1))):i("git.applyPatch requires one or more string patches as the first argument");return this._runTask(f,b(arguments))},A.prototype.revparse=function(){let c=["rev-parse",...m(arguments,!0)];return this._runTask(it(c,!0),b(arguments))},A.prototype.show=function(c,f){return this._runTask(it(["show",...m(arguments,1)]),b(arguments))},A.prototype.clean=function(c,f,E){let _=Gt(c),d=_&&c.join("")||l(c,y)||"",S=m([].slice.call(arguments,_?1:0));return this._runTask(Bt(d,S),b(arguments))},A.prototype.exec=function(c){let f={commands:[],format:"utf-8",parser(){typeof c=="function"&&c()}};return this._runTask(f)},A.prototype.clearQueue=function(){return this},A.prototype.checkIgnore=function(c,f){return this._runTask(W(o(l(c,p,[]))),b(arguments))},A.prototype.checkIsRepo=function(c,f){return this._runTask(Q(l(c,y)),b(arguments))},t.exports=A}});de();var up=class extends ne{constructor(e,t){super(void 0,t);this.config=e}};de();de();var lp=class extends ne{constructor(e,t,n){super(e,n);this.task=e,this.plugin=t,Object.setPrototypeOf(this,new.target.prototype)}};Ve();zo();ua();_a();Oa();va();xa();q();function fp(e){let t=qn(e,"-c");return{type:"spawn.args",action(n){return[...t,...n]}}}q();var Bo=(0,He.deferred)().promise;function hp({onClose:e=!0,onExit:t=50}={}){function n(){let r=-1,i={close:(0,He.deferred)(),closeTimeout:(0,He.deferred)(),exit:(0,He.deferred)(),exitTimeout:(0,He.deferred)()},o=Promise.race([e===!1?Bo:i.closeTimeout.promise,t===!1?Bo:i.exitTimeout.promise]);return s(e,i.close,i.closeTimeout),s(t,i.exit,i.exitTimeout),{close(u){r=u,i.close.done()},exit(u){r=u,i.exit.done()},get exitCode(){return r},result:o}}function s(r,i,o){r!==!1&&(r===!0?i.promise:i.promise.then(()=>Ws(r))).then(o.done)}return{type:"spawn.after",action(r,i){return rn(this,arguments,function*(o,{spawned:u,close:h}){var y,p;let l=n(),m=!0,b=()=>void(m=!1);(y=u.stdout)==null||y.on("data",b),(p=u.stderr)==null||p.on("data",b),u.on("error",b),u.on("close",v=>l.close(v)),u.on("exit",v=>l.exit(v));try{yield l.result,m&&(yield Ws(50)),h(l.exitCode)}catch(v){h(l.exitCode,v)}})}}}de();function pp(e){return!!(e.exitCode&&e.stdErr.length)}function dp(e){return Buffer.concat([...e.stdOut,...e.stdErr])}function mp(e=!1,t=pp,n=dp){return(s,r)=>!e&&s||!t(r)?s:n(r)}function Go(e){return{type:"task.error",action(t,n){let s=e(t.error,{stdErr:n.stdErr,stdOut:n.stdOut,exitCode:n.exitCode});return Buffer.isBuffer(s)?{error:new ne(void 0,s.toString("utf-8"))}:{error:s}}}}q();var gp=class{constructor(){this.plugins=new Set}add(e){let t=[];return ln(e).forEach(n=>n&&this.plugins.add(K(t,n))),()=>{t.forEach(n=>this.plugins.delete(n))}}exec(e,t,n){let s=t,r=Object.freeze(Object.create(n));for(let i of this.plugins)i.type===e&&(s=i.action(s,r));return s}};q();function bp(e){let t="--progress",n=["checkout","clone","fetch","pull","push"];return[{type:"spawn.args",action(i,o){return n.includes(o.method)?Xo(i,t):i}},{type:"spawn.after",action(i,o){var u;!o.commands.includes(t)||(u=o.spawned.stderr)==null||u.on("data",h=>{let y=/^([\s\S]+?):\s*(\d+)% \((\d+)\/(\d+)\)/.exec(h.toString("utf8"));!y||e({method:o.method,stage:yp(y[1]),progress:Vt(y[2]),processed:Vt(y[3]),total:Vt(y[4])})})}}]}function yp(e){return String(e.toLowerCase().split(" ",1))||"unknown"}q();function _p(e){let t=Jo(e,["uid","gid"]);return{type:"spawn.options",action(n){return Jt(Jt({},t),n)}}}function Ep({block:e}){if(e>0)return{type:"spawn.after",action(t,n){var s,r;let i;function o(){i&&clearTimeout(i),i=setTimeout(h,e)}function u(){var y,p;(y=n.spawned.stdout)==null||y.off("data",o),(p=n.spawned.stderr)==null||p.off("data",o),n.spawned.off("exit",u),n.spawned.off("close",u)}function h(){u(),n.kill(new lp(void 0,"timeout","block timeout reached"))}(s=n.spawned.stdout)==null||s.on("data",o),(r=n.spawned.stderr)==null||r.on("data",o),n.spawned.on("exit",u),n.spawned.on("close",u),o()}}}q();var wp=cp();function Op(e,t){let n=new gp,s=sa(e&&(typeof e=="string"?{baseDir:e}:e)||{},t);if(!rr(s.baseDir))throw new up(s,"Cannot use simple-git on a directory that does not exist");return Array.isArray(s.config)&&n.add(fp(s.config)),n.add(hp(s.completion)),s.progress&&n.add(bp(s.progress)),s.timeout&&n.add(Ep(s.timeout)),s.spawnOptions&&n.add(_p(s.spawnOptions)),n.add(Go(mp(!0))),s.errors&&n.add(Go(s.errors)),new wp(s,n)}Ve();var Lc=Op;var Cr=Lc();async function Dc(){return await Cr.raw("rev-parse","HEAD")}async function Bc(e){return(await Cr.raw(["log","--no-merges","--pretty=format:%B\u0700",e?`${e}..HEAD`:"HEAD"])).split("\u0700").map(n=>n.trim()).filter(n=>n.length>0)}async function Gc(e,t,n){await Cr.commit(`${t}: ${n}`,e)}var Wc=require("fs/promises"),zc=se(cs()),qc=se(ls());var Cp=/^([a-z]+!?)(?:\(([\w-/]+)\))?: ([a-zA-Zа-яА-Я\d][^\n]+)(?:\n{2}(.+))?$/s;function Tr(e){let[t,n=""]=e.match(/#(\d+)/)||[];return n}function Tp(e){return e.replace(/^#.*$/gm,"")}function Uc(e){e=Tp(e);let[,t=""]=e.match(/Merge (branch|remote\-tracking branch|pull request) /i)||[];if(t.length>0){let[,l=""]=e.match(/([^\s\/]+\/[^:]+:[^\s]+)/i)||[];return{commit:e,type:"merge",scope:"",message:`${t} from ${l}`,footer:"",isMerge:!0,isBreaking:!1,issueID:Tr(e)}}let[n,s="",r="",i="",o=""]=e.match(Cp)||[];if(s.length===0)throw new Error("commit is not a valid conventional commit");let u=s.endsWith("!")||o.startsWith("BREAKING CHANGE"),h=Tr(i),y=Tr(o);return{commit:e,type:s,scope:r,message:i,footer:o,isMerge:!1,isBreaking:u,issueID:h||y}}async function Hc(e,t){let n=await(0,Wc.readFile)(e,"utf8"),s=JSON.parse(n),r=(0,qc.get)(s,t,"");return typeof r=="string"?r:""}async function Vc(e,t){e=(0,zc.default)(e.version);let n=await Bc(t),s=!1,r=!1,i=!1;for(let o of n)try{let u=Uc(o);if(u.isBreaking){s=!0;break}if(u.type==="feat"){r=!0;break}u.type==="fix"&&(i=!0)}catch{}return s?e.inc("major"):r?e.inc("minor"):i?e.inc("patch"):e}function vr(e){let[,t=void 0]=e.raw.match(/sha\.(\w+)/i)||[];return t}var Ar="semverity",Yc={type:"string",describe:"initial version"},Kc={type:"string",alias:"f",describe:"file to grab version from (optionally dot-notated path to version in json object can be specified as filename.json:meta.version)",default:"package.json"},vp={type:"array",alias:"o",describe:"files to patch version",default:["package.json","package-lock.json"]},Ap={type:"string",describe:"commmit type to save"};async function Xc(e){let t;if(e.semver)t=(0,ns.default)(e.semver);else{let{filePath:n,option:s}=tu(e.from,"version"),r=await Hc(n,s);t=(0,ns.default)(r)}if(t===null)throw new Error("invalid semver passed");return t}async function Qc(e,t){let n=await Dc().catch(()=>{throw new Error("not enough commits to build version")}),s=await Vc(e,t),r=`sha.${n.substring(0,8)}`;return(0,ns.default)(`${s.version}+${r}`)}function Sp(e){try{return JSON.parse(e)}catch{return null}}async function Ip(e,t,n,s){let r=await(0,Ye.readFile)(e,"utf8"),i=Sp(r),o=r;if(t===""||i===null)o=r.replaceAll(n.raw,s.raw);else{let u=ss(r).indent,h=(0,Zc.set)(i,t,s.raw);o=JSON.stringify(h,null,u)+`
`}return await(0,Ye.writeFile)(e,o),r!==o}function tu(e,t=""){let[n,s=t]=e.split(":");return{filePath:n,option:s}}async function xp(e){return await(0,Ye.access)(e,Jc.constants.F_OK).then(()=>!0).catch(()=>!1)}no(gs(process.argv)).command("bump [semver]","bump version from git history",e=>e.usage(`Usage: ${Ar} bump [options]`).positional("semver",Yc).option("from",Kc),async e=>{let t=await Xc(e),n=vr(t),s=await Qc(t,n);process.stdout.write(s.raw)}).command("patch [semver]","bump and patch files",e=>e.usage(`Usage: ${Ar} patch [options]`).positional("semver",Yc).option("from",Kc).option("files",vp).option("commit",Ap),async e=>{let t=await Xc(e),n=vr(t),s=await Qc(t,n),r=0;for(let i of e.files){let{filePath:o,option:u}=tu(i,"version");if(!await xp(o))continue;r+=await Ip(o,u,t,s)?1:0}process.stdout.write(`${r} file(s) pathed to version ${s}
`),e.commit&&await Gc(e.files,e.commit,s.raw)}).usage(`Usage: ${Ar} <command>`).demandCommand(1).parse();
/**
 * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
 * CJS and ESM environments.
 *
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */
/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */
/*!
 * semverity v0.2.1+sha.edcb63ef
 * (c) 2021 Aleksey Korolev
 * Released under the MIT License.
 */
