#!/usr/bin/env node
var Kc=Object.create;var ln=Object.defineProperty;var Xc=Object.getOwnPropertyDescriptor;var Qc=Object.getOwnPropertyNames,vr=Object.getOwnPropertySymbols,Jc=Object.getPrototypeOf,Ar=Object.prototype.hasOwnProperty,Zc=Object.prototype.propertyIsEnumerable;var Tr=(e,t,n)=>t in e?ln(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Me=(e,t)=>{for(var n in t||(t={}))Ar.call(t,n)&&Tr(e,n,t[n]);if(vr)for(var n of vr(t))Zc.call(t,n)&&Tr(e,n,t[n]);return e};var mt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Sr=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Qc(t))!Ar.call(e,r)&&r!==n&&ln(e,r,{get:()=>t[r],enumerable:!(s=Xc(t,r))||s.enumerable});return e};var me=(e,t,n)=>(n=e!=null?Kc(Jc(e)):{},Sr(t||!e||!e.__esModule?ln(n,"default",{value:e,enumerable:!0}):n,e)),tu=e=>Sr(ln({},"__esModule",{value:!0}),e);var fn=mt((_p,Ir)=>{var eu="2.0.0",nu=Number.MAX_SAFE_INTEGER||9007199254740991,su=16;Ir.exports={SEMVER_SPEC_VERSION:eu,MAX_LENGTH:256,MAX_SAFE_INTEGER:nu,MAX_SAFE_COMPONENT_LENGTH:su}});var ns=mt((Ep,xr)=>{var ru=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};xr.exports=ru});var rs=mt((se,Rr)=>{var{MAX_SAFE_COMPONENT_LENGTH:ss}=fn(),iu=ns();se=Rr.exports={};var ou=se.re=[],R=se.src=[],P=se.t={},au=0,z=(e,t,n)=>{let s=au++;iu(s,t),P[e]=s,R[s]=t,ou[s]=new RegExp(t,n?"g":void 0)};z("NUMERICIDENTIFIER","0|[1-9]\\d*");z("NUMERICIDENTIFIERLOOSE","[0-9]+");z("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");z("MAINVERSION",`(${R[P.NUMERICIDENTIFIER]})\\.(${R[P.NUMERICIDENTIFIER]})\\.(${R[P.NUMERICIDENTIFIER]})`);z("MAINVERSIONLOOSE",`(${R[P.NUMERICIDENTIFIERLOOSE]})\\.(${R[P.NUMERICIDENTIFIERLOOSE]})\\.(${R[P.NUMERICIDENTIFIERLOOSE]})`);z("PRERELEASEIDENTIFIER",`(?:${R[P.NUMERICIDENTIFIER]}|${R[P.NONNUMERICIDENTIFIER]})`);z("PRERELEASEIDENTIFIERLOOSE",`(?:${R[P.NUMERICIDENTIFIERLOOSE]}|${R[P.NONNUMERICIDENTIFIER]})`);z("PRERELEASE",`(?:-(${R[P.PRERELEASEIDENTIFIER]}(?:\\.${R[P.PRERELEASEIDENTIFIER]})*))`);z("PRERELEASELOOSE",`(?:-?(${R[P.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${R[P.PRERELEASEIDENTIFIERLOOSE]})*))`);z("BUILDIDENTIFIER","[0-9A-Za-z-]+");z("BUILD",`(?:\\+(${R[P.BUILDIDENTIFIER]}(?:\\.${R[P.BUILDIDENTIFIER]})*))`);z("FULLPLAIN",`v?${R[P.MAINVERSION]}${R[P.PRERELEASE]}?${R[P.BUILD]}?`);z("FULL",`^${R[P.FULLPLAIN]}$`);z("LOOSEPLAIN",`[v=\\s]*${R[P.MAINVERSIONLOOSE]}${R[P.PRERELEASELOOSE]}?${R[P.BUILD]}?`);z("LOOSE",`^${R[P.LOOSEPLAIN]}$`);z("GTLT","((?:<|>)?=?)");z("XRANGEIDENTIFIERLOOSE",`${R[P.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);z("XRANGEIDENTIFIER",`${R[P.NUMERICIDENTIFIER]}|x|X|\\*`);z("XRANGEPLAIN",`[v=\\s]*(${R[P.XRANGEIDENTIFIER]})(?:\\.(${R[P.XRANGEIDENTIFIER]})(?:\\.(${R[P.XRANGEIDENTIFIER]})(?:${R[P.PRERELEASE]})?${R[P.BUILD]}?)?)?`);z("XRANGEPLAINLOOSE",`[v=\\s]*(${R[P.XRANGEIDENTIFIERLOOSE]})(?:\\.(${R[P.XRANGEIDENTIFIERLOOSE]})(?:\\.(${R[P.XRANGEIDENTIFIERLOOSE]})(?:${R[P.PRERELEASELOOSE]})?${R[P.BUILD]}?)?)?`);z("XRANGE",`^${R[P.GTLT]}\\s*${R[P.XRANGEPLAIN]}$`);z("XRANGELOOSE",`^${R[P.GTLT]}\\s*${R[P.XRANGEPLAINLOOSE]}$`);z("COERCE",`(^|[^\\d])(\\d{1,${ss}})(?:\\.(\\d{1,${ss}}))?(?:\\.(\\d{1,${ss}}))?(?:$|[^\\d])`);z("COERCERTL",R[P.COERCE],!0);z("LONETILDE","(?:~>?)");z("TILDETRIM",`(\\s*)${R[P.LONETILDE]}\\s+`,!0);se.tildeTrimReplace="$1~";z("TILDE",`^${R[P.LONETILDE]}${R[P.XRANGEPLAIN]}$`);z("TILDELOOSE",`^${R[P.LONETILDE]}${R[P.XRANGEPLAINLOOSE]}$`);z("LONECARET","(?:\\^)");z("CARETTRIM",`(\\s*)${R[P.LONECARET]}\\s+`,!0);se.caretTrimReplace="$1^";z("CARET",`^${R[P.LONECARET]}${R[P.XRANGEPLAIN]}$`);z("CARETLOOSE",`^${R[P.LONECARET]}${R[P.XRANGEPLAINLOOSE]}$`);z("COMPARATORLOOSE",`^${R[P.GTLT]}\\s*(${R[P.LOOSEPLAIN]})$|^$`);z("COMPARATOR",`^${R[P.GTLT]}\\s*(${R[P.FULLPLAIN]})$|^$`);z("COMPARATORTRIM",`(\\s*)${R[P.GTLT]}\\s*(${R[P.LOOSEPLAIN]}|${R[P.XRANGEPLAIN]})`,!0);se.comparatorTrimReplace="$1$2$3";z("HYPHENRANGE",`^\\s*(${R[P.XRANGEPLAIN]})\\s+-\\s+(${R[P.XRANGEPLAIN]})\\s*$`);z("HYPHENRANGELOOSE",`^\\s*(${R[P.XRANGEPLAINLOOSE]})\\s+-\\s+(${R[P.XRANGEPLAINLOOSE]})\\s*$`);z("STAR","(<|>)?=?\\s*\\*");z("GTE0","^\\s*>=\\s*0.0.0\\s*$");z("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var is=mt((wp,Pr)=>{var cu=["includePrerelease","loose","rtl"],uu=e=>e?typeof e!="object"?{loose:!0}:cu.filter(t=>e[t]).reduce((t,n)=>(t[n]=!0,t),{}):{};Pr.exports=uu});var $r=mt((Op,kr)=>{var jr=/^[0-9]+$/,Mr=(e,t)=>{let n=jr.test(e),s=jr.test(t);return n&&s&&(e=+e,t=+t),e===t?0:n&&!s?-1:s&&!n?1:e<t?-1:1},lu=(e,t)=>Mr(t,e);kr.exports={compareIdentifiers:Mr,rcompareIdentifiers:lu}});var Br=mt((Cp,Dr)=>{var hn=ns(),{MAX_LENGTH:Nr,MAX_SAFE_INTEGER:pn}=fn(),{re:Lr,t:Fr}=rs(),fu=is(),{compareIdentifiers:Ke}=$r(),Mt=class{constructor(t,n){if(n=fu(n),t instanceof Mt){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>Nr)throw new TypeError(`version is longer than ${Nr} characters`);hn("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let s=t.trim().match(n.loose?Lr[Fr.LOOSE]:Lr[Fr.FULL]);if(!s)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>pn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>pn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>pn||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(r=>{if(/^[0-9]+$/.test(r)){let i=+r;if(i>=0&&i<pn)return i}return r}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(hn("SemVer.compare",this.version,this.options,t),!(t instanceof Mt)){if(typeof t=="string"&&t===this.version)return 0;t=new Mt(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Mt||(t=new Mt(t,this.options)),Ke(this.major,t.major)||Ke(this.minor,t.minor)||Ke(this.patch,t.patch)}comparePre(t){if(t instanceof Mt||(t=new Mt(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{let s=this.prerelease[n],r=t.prerelease[n];if(hn("prerelease compare",n,s,r),s===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(s===void 0)return-1;if(s===r)continue;return Ke(s,r)}while(++n)}compareBuild(t){t instanceof Mt||(t=new Mt(t,this.options));let n=0;do{let s=this.build[n],r=t.build[n];if(hn("prerelease compare",n,s,r),s===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(s===void 0)return-1;if(s===r)continue;return Ke(s,r)}while(++n)}inc(t,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);s===-1&&this.prerelease.push(0)}n&&(this.prerelease[0]===n?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}};Dr.exports=Mt});var os=mt((vp,zr)=>{var{MAX_LENGTH:hu}=fn(),{re:Gr,t:Ur}=rs(),Wr=Br(),pu=is(),du=(e,t)=>{if(t=pu(t),e instanceof Wr)return e;if(typeof e!="string"||e.length>hu||!(t.loose?Gr[Ur.LOOSE]:Gr[Ur.FULL]).test(e))return null;try{return new Wr(e,t)}catch{return null}};zr.exports=du});var Zi=mt((um,Ji)=>{var Ge=1e3,Ue=Ge*60,We=Ue*60,xe=We*24,zu=xe*7,qu=xe*365.25;Ji.exports=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return Hu(e);if(n==="number"&&isFinite(e))return t.long?Yu(e):Vu(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Hu(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var n=parseFloat(t[1]),s=(t[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return n*qu;case"weeks":case"week":case"w":return n*zu;case"days":case"day":case"d":return n*xe;case"hours":case"hour":case"hrs":case"hr":case"h":return n*We;case"minutes":case"minute":case"mins":case"min":case"m":return n*Ue;case"seconds":case"second":case"secs":case"sec":case"s":return n*Ge;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Vu(e){var t=Math.abs(e);return t>=xe?Math.round(e/xe)+"d":t>=We?Math.round(e/We)+"h":t>=Ue?Math.round(e/Ue)+"m":t>=Ge?Math.round(e/Ge)+"s":e+"ms"}function Yu(e){var t=Math.abs(e);return t>=xe?Pn(e,t,xe,"day"):t>=We?Pn(e,t,We,"hour"):t>=Ue?Pn(e,t,Ue,"minute"):t>=Ge?Pn(e,t,Ge,"second"):e+" ms"}function Pn(e,t,n,s){var r=t>=n*1.5;return Math.round(e/n)+" "+s+(r?"s":"")}});var xs=mt((lm,to)=>{function Ku(e){n.debug=n,n.default=n,n.coerce=p,n.disable=i,n.enable=r,n.enabled=o,n.humanize=Zi(),n.destroy=_,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let l=0;for(let m=0;m<d.length;m++)l=(l<<5)-l+d.charCodeAt(m),l|=0;return n.colors[Math.abs(l)%n.colors.length]}n.selectColor=t;function n(d){let l,m=null,b,T;function w(...g){if(!w.enabled)return;let D=w,U=Number(new Date),Y=U-(l||U);D.diff=Y,D.prev=l,D.curr=U,l=U,g[0]=n.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let W=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(Tt,wt)=>{if(Tt==="%%")return"%";W++;let Bt=n.formatters[wt];if(typeof Bt=="function"){let Gt=g[W];Tt=Bt.call(D,Gt),g.splice(W,1),W--}return Tt}),n.formatArgs.call(D,g),(D.log||n.log).apply(D,g)}return w.namespace=d,w.useColors=n.useColors(),w.color=n.selectColor(d),w.extend=s,w.destroy=n.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(b!==n.namespaces&&(b=n.namespaces,T=n.enabled(d)),T),set:g=>{m=g}}),typeof n.init=="function"&&n.init(w),w}function s(d,l){let m=n(this.namespace+(typeof l>"u"?":":l)+d);return m.log=this.log,m}function r(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];let l,m=(typeof d=="string"?d:"").split(/[\s,]+/),b=m.length;for(l=0;l<b;l++)!m[l]||(d=m[l].replace(/\*/g,".*?"),d[0]==="-"?n.skips.push(new RegExp("^"+d.slice(1)+"$")):n.names.push(new RegExp("^"+d+"$")))}function i(){let d=[...n.names.map(u),...n.skips.map(u).map(l=>"-"+l)].join(",");return n.enable(""),d}function o(d){if(d[d.length-1]==="*")return!0;let l,m;for(l=0,m=n.skips.length;l<m;l++)if(n.skips[l].test(d))return!1;for(l=0,m=n.names.length;l<m;l++)if(n.names[l].test(d))return!0;return!1}function u(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function p(d){return d instanceof Error?d.stack||d.message:d}function _(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}to.exports=Ku});var eo=mt((Rt,jn)=>{Rt.formatArgs=Qu;Rt.save=Ju;Rt.load=Zu;Rt.useColors=Xu;Rt.storage=tl();Rt.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Rt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Xu(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Qu(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+jn.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let n=0,s=0;e[0].replace(/%[a-zA-Z%]/g,r=>{r!=="%%"&&(n++,r==="%c"&&(s=n))}),e.splice(s,0,t)}Rt.log=console.debug||console.log||(()=>{});function Ju(e){try{e?Rt.storage.setItem("debug",e):Rt.storage.removeItem("debug")}catch{}}function Zu(){let e;try{e=Rt.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function tl(){try{return localStorage}catch{}}jn.exports=xs()(Rt);var{formatters:el}=jn.exports;el.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var so=mt((fm,no)=>{"use strict";no.exports=(e,t)=>{t=t||process.argv;let n=e.startsWith("-")?"":e.length===1?"-":"--",s=t.indexOf(n+e),r=t.indexOf("--");return s!==-1&&(r===-1?!0:s<r)}});var io=mt((hm,ro)=>{"use strict";var nl=require("os"),Ht=so(),yt=process.env,ze;Ht("no-color")||Ht("no-colors")||Ht("color=false")?ze=!1:(Ht("color")||Ht("colors")||Ht("color=true")||Ht("color=always"))&&(ze=!0);"FORCE_COLOR"in yt&&(ze=yt.FORCE_COLOR.length===0||parseInt(yt.FORCE_COLOR,10)!==0);function sl(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function rl(e){if(ze===!1)return 0;if(Ht("color=16m")||Ht("color=full")||Ht("color=truecolor"))return 3;if(Ht("color=256"))return 2;if(e&&!e.isTTY&&ze!==!0)return 0;let t=ze?1:0;if(process.platform==="win32"){let n=nl.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in yt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in yt)||yt.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in yt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(yt.TEAMCITY_VERSION)?1:0;if(yt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in yt){let n=parseInt((yt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(yt.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(yt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(yt.TERM)||"COLORTERM"in yt?1:(yt.TERM==="dumb",t)}function Rs(e){let t=rl(e);return sl(t)}ro.exports={supportsColor:Rs,stdout:Rs(process.stdout),stderr:Rs(process.stderr)}});var ao=mt((bt,kn)=>{var il=require("tty"),Mn=require("util");bt.init=hl;bt.log=ul;bt.formatArgs=al;bt.save=ll;bt.load=fl;bt.useColors=ol;bt.destroy=Mn.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");bt.colors=[6,2,3,4,5,1];try{let e=io();e&&(e.stderr||e).level>=2&&(bt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}bt.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(r,i)=>i.toUpperCase()),s=process.env[t];return/^(yes|on|true|enabled)$/i.test(s)?s=!0:/^(no|off|false|disabled)$/i.test(s)?s=!1:s==="null"?s=null:s=Number(s),e[n]=s,e},{});function ol(){return"colors"in bt.inspectOpts?Boolean(bt.inspectOpts.colors):il.isatty(process.stderr.fd)}function al(e){let{namespace:t,useColors:n}=this;if(n){let s=this.color,r="\x1B[3"+(s<8?s:"8;5;"+s),i=`  ${r};1m${t} \x1B[0m`;e[0]=i+e[0].split(`
`).join(`
`+i),e.push(r+"m+"+kn.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=cl()+t+" "+e[0]}function cl(){return bt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function ul(...e){return process.stderr.write(Mn.format(...e)+`
`)}function ll(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function fl(){return process.env.DEBUG}function hl(e){e.inspectOpts={};let t=Object.keys(bt.inspectOpts);for(let n=0;n<t.length;n++)e.inspectOpts[t[n]]=bt.inspectOpts[t[n]]}kn.exports=xs()(bt);var{formatters:oo}=kn.exports;oo.o=function(e){return this.inspectOpts.colors=this.useColors,Mn.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};oo.O=function(e){return this.inspectOpts.colors=this.useColors,Mn.inspect(e,this.inspectOpts)}});var js=mt((pm,Ps)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Ps.exports=eo():Ps.exports=ao()});var co=mt(Pt=>{"use strict";var pl=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pt,"__esModule",{value:!0});var dl=require("fs"),ml=pl(js()),qe=ml.default("@kwsites/file-exists");function gl(e,t,n){qe("checking %s",e);try{let s=dl.statSync(e);return s.isFile()&&t?(qe("[OK] path represents a file"),!0):s.isDirectory()&&n?(qe("[OK] path represents a directory"),!0):(qe("[FAIL] path represents something other than a file or directory"),!1)}catch(s){if(s.code==="ENOENT")return qe("[FAIL] path is not accessible: %o",s),!1;throw qe("[FATAL] %o",s),s}}function bl(e,t=Pt.READABLE){return gl(e,(t&Pt.FILE)>0,(t&Pt.FOLDER)>0)}Pt.exists=bl;Pt.FILE=1;Pt.FOLDER=2;Pt.READABLE=Pt.FILE+Pt.FOLDER});var uo=mt($n=>{"use strict";function yl(e){for(var t in e)$n.hasOwnProperty(t)||($n[t]=e[t])}Object.defineProperty($n,"__esModule",{value:!0});yl(co())});var ks=mt(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.createDeferred=Re.deferred=void 0;function Ms(){let e,t,n="pending";return{promise:new Promise((r,i)=>{e=r,t=i}),done(r){n==="pending"&&(n="resolved",e(r))},fail(r){n==="pending"&&(n="rejected",t(r))},get fulfilled(){return n!=="pending"},get status(){return n}}}Re.deferred=Ms;Re.createDeferred=Ms;Re.default=Ms});var Lc=mt(Er=>{Er.get=function(e,t,n){return(e=(t.split?t.split("."):t).reduce(function(s,r){return s&&s[r]},e))===void 0?n:e},Er.set=function(e,t,n,s){return!/^(__proto__|constructor|prototype)$/.test(t)&&((t=t.split?t.split("."):t.slice(0)).slice(0,-1).reduce(function(r,i){return r[i]=r[i]||{}},e)[t.pop()]=n),e}});var bp={};module.exports=tu(bp);var es=require("fs/promises"),ts=me(os());var wn=require("assert");var mu={right:Eu,center:wu},gu=0,dn=1,bu=2,mn=3,Hr=class{constructor(t){var n;this.width=t.width,this.wrap=(n=t.wrap)!==null&&n!==void 0?n:!0,this.rows=[]}span(...t){let n=this.div(...t);n.span=!0}resetOutput(){this.rows=[]}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);let n=t.map(s=>typeof s=="string"?this.colFromString(s):s);return this.rows.push(n),n}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){let n=t.split(`
`).map(r=>r.split("	")),s=0;return n.forEach(r=>{r.length>1&&At.stringWidth(r[0])>s&&(s=Math.min(Math.floor(this.width*.5),At.stringWidth(r[0])))}),n.forEach(r=>{this.div(...r.map((i,o)=>({text:i.trim(),padding:this.measurePadding(i),width:o===0&&r.length>1?s:void 0})))}),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){let n=At.stripAnsi(t);return[0,n.match(/\s*$/)[0].length,0,n.match(/^\s*/)[0].length]}toString(){let t=[];return this.rows.forEach(n=>{this.rowToString(n,t)}),t.filter(n=>!n.hidden).map(n=>n.text).join(`
`)}rowToString(t,n){return this.rasterize(t).forEach((s,r)=>{let i="";s.forEach((o,u)=>{let{width:p}=t[u],_=this.negatePadding(t[u]),d=o;_>At.stringWidth(o)&&(d+=" ".repeat(_-At.stringWidth(o))),t[u].align&&t[u].align!=="left"&&this.wrap&&(d=mu[t[u].align](d,_),At.stringWidth(d)<_&&(d+=" ".repeat((p||0)-At.stringWidth(d)-1)));let l=t[u].padding||[0,0,0,0];l[mn]&&(i+=" ".repeat(l[mn])),i+=qr(t[u],d,"| "),i+=d,i+=qr(t[u],d," |"),l[dn]&&(i+=" ".repeat(l[dn])),r===0&&n.length>0&&(i=this.renderInline(i,n[n.length-1]))}),n.push({text:i.replace(/ +$/,""),span:t.span})}),n}renderInline(t,n){let s=t.match(/^ */),r=s?s[0].length:0,i=n.text,o=At.stringWidth(i.trimRight());return n.span?this.wrap?r<o?t:(n.hidden=!0,i.trimRight()+" ".repeat(r-o)+t.trimLeft()):(n.hidden=!0,i+t):t}rasterize(t){let n=[],s=this.columnWidths(t),r;return t.forEach((i,o)=>{i.width=s[o],this.wrap?r=At.wrap(i.text,this.negatePadding(i),{hard:!0}).split(`
`):r=i.text.split(`
`),i.border&&(r.unshift("."+"-".repeat(this.negatePadding(i)+2)+"."),r.push("'"+"-".repeat(this.negatePadding(i)+2)+"'")),i.padding&&(r.unshift(...new Array(i.padding[gu]||0).fill("")),r.push(...new Array(i.padding[bu]||0).fill(""))),r.forEach((u,p)=>{n[p]||n.push([]);let _=n[p];for(let d=0;d<o;d++)_[d]===void 0&&_.push("");_.push(u)})}),n}negatePadding(t){let n=t.width||0;return t.padding&&(n-=(t.padding[mn]||0)+(t.padding[dn]||0)),t.border&&(n-=4),n}columnWidths(t){if(!this.wrap)return t.map(o=>o.width||At.stringWidth(o.text));let n=t.length,s=this.width,r=t.map(o=>{if(o.width)return n--,s-=o.width,o.width}),i=n?Math.floor(s/n):0;return r.map((o,u)=>o===void 0?Math.max(i,yu(t[u])):o)}};function qr(e,t,n){return e.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?n:"  ":""}function yu(e){let t=e.padding||[],n=1+(t[mn]||0)+(t[dn]||0);return e.border?n+4:n}function _u(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function Eu(e,t){e=e.trim();let n=At.stringWidth(e);return n<t?" ".repeat(t-n)+e:e}function wu(e,t){e=e.trim();let n=At.stringWidth(e);return n>=t?e:" ".repeat(t-n>>1)+e}var At;function Vr(e,t){return At=t,new Hr({width:(e==null?void 0:e.width)||_u(),wrap:e==null?void 0:e.wrap})}var Yr=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function as(e){return e.replace(Yr,"")}function Kr(e,t){let[n,s]=e.match(Yr)||["",""];e=as(e);let r="";for(let i=0;i<e.length;i++)i!==0&&i%t===0&&(r+=`
`),r+=e.charAt(i);return n&&s&&(r=`${n}${r}${s}`),r}function cs(e){return Vr(e,{stringWidth:t=>[...t].length,stripAnsi:as,wrap:Kr})}var ke=require("path"),gn=require("fs");function Xr(e,t){let n=(0,ke.resolve)(".",e),s;for((0,gn.statSync)(n).isDirectory()||(n=(0,ke.dirname)(n));;){if(s=t(n,(0,gn.readdirSync)(n)),s)return(0,ke.resolve)(n,s);if(n=(0,ke.dirname)(s=n),s===n)break}}var hi=require("util"),pi=require("fs"),di=require("url");var ti=require("util"),_n=require("path");function ge(e){if(e!==e.toLowerCase()&&e!==e.toUpperCase()||(e=e.toLowerCase()),e.indexOf("-")===-1&&e.indexOf("_")===-1)return e;{let n="",s=!1,r=e.match(/^-+/);for(let i=r?r[0].length:0;i<e.length;i++){let o=e.charAt(i);s&&(s=!1,o=o.toUpperCase()),i!==0&&(o==="-"||o==="_")?s=!0:o!=="-"&&o!=="_"&&(n+=o)}return n}}function bn(e,t){let n=e.toLowerCase();t=t||"-";let s="";for(let r=0;r<e.length;r++){let i=n.charAt(r),o=e.charAt(r);i!==o&&r>0?s+=`${t}${n.charAt(r)}`:s+=o}return s}function yn(e){return e==null?!1:typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^0[^.]/.test(e)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function Qr(e){if(Array.isArray(e))return e.map(o=>typeof o!="string"?o+"":o);e=e.trim();let t=0,n=null,s=null,r=null,i=[];for(let o=0;o<e.length;o++){if(n=s,s=e.charAt(o),s===" "&&!r){n!==" "&&t++;continue}s===r?r=null:(s==="'"||s==='"')&&!r&&(r=s),i[t]||(i[t]=""),i[t]+=s}return i}var kt;(function(e){e.BOOLEAN="boolean",e.STRING="string",e.NUMBER="number",e.ARRAY="array"})(kt||(kt={}));var ee,ls=class{constructor(t){ee=t}parse(t,n){let s=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},n),r=Qr(t),i=typeof t=="string",o=Ou(Object.assign(Object.create(null),s.alias)),u=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},s.configuration),p=Object.assign(Object.create(null),s.default),_=s.configObjects||[],d=s.envPrefix,l=u["populate--"],m=l?"--":"_",b=Object.create(null),T=Object.create(null),w=s.__||ee.format,g={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},D=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,U=new RegExp("^--"+u["negation-prefix"]+"(.+)");[].concat(s.array||[]).filter(Boolean).forEach(function(c){let f=typeof c=="object"?c.key:c,E=Object.keys(c).map(function(y){return{boolean:"bools",string:"strings",number:"numbers"}[y]}).filter(Boolean).pop();E&&(g[E][f]=!0),g.arrays[f]=!0,g.keys.push(f)}),[].concat(s.boolean||[]).filter(Boolean).forEach(function(c){g.bools[c]=!0,g.keys.push(c)}),[].concat(s.string||[]).filter(Boolean).forEach(function(c){g.strings[c]=!0,g.keys.push(c)}),[].concat(s.number||[]).filter(Boolean).forEach(function(c){g.numbers[c]=!0,g.keys.push(c)}),[].concat(s.count||[]).filter(Boolean).forEach(function(c){g.counts[c]=!0,g.keys.push(c)}),[].concat(s.normalize||[]).filter(Boolean).forEach(function(c){g.normalize[c]=!0,g.keys.push(c)}),typeof s.narg=="object"&&Object.entries(s.narg).forEach(([c,f])=>{typeof f=="number"&&(g.nargs[c]=f,g.keys.push(c))}),typeof s.coerce=="object"&&Object.entries(s.coerce).forEach(([c,f])=>{typeof f=="function"&&(g.coercions[c]=f,g.keys.push(c))}),typeof s.config<"u"&&(Array.isArray(s.config)||typeof s.config=="string"?[].concat(s.config).filter(Boolean).forEach(function(c){g.configs[c]=!0}):typeof s.config=="object"&&Object.entries(s.config).forEach(([c,f])=>{(typeof f=="boolean"||typeof f=="function")&&(g.configs[c]=f)})),te(s.key,o,s.default,g.arrays),Object.keys(p).forEach(function(c){(g.aliases[c]||[]).forEach(function(f){p[f]=p[c]})});let Y=null;de();let W=[],Q=Object.assign(Object.create(null),{_:[]}),Tt={};for(let c=0;c<r.length;c++){let f=r[c],E=f.replace(/^-{3,}/,"---"),y,h,S,v,$,dt;if(f!=="--"&&st(f))wt(f);else if(E.match(/---+(=|$)/)){wt(f);continue}else if(f.match(/^--.+=/)||!u["short-option-groups"]&&f.match(/^-.+=/))v=f.match(/^--?([^=]+)=([\s\S]*)$/),v!==null&&Array.isArray(v)&&v.length>=3&&(L(v[1],g.arrays)?c=Gt(c,v[1],r,v[2]):L(v[1],g.nargs)!==!1?c=Bt(c,v[1],r,v[2]):J(v[1],v[2],!0));else if(f.match(U)&&u["boolean-negation"])v=f.match(U),v!==null&&Array.isArray(v)&&v.length>=2&&(h=v[1],J(h,L(h,g.arrays)?[!1]:!1));else if(f.match(/^--.+/)||!u["short-option-groups"]&&f.match(/^-[^-]+/))v=f.match(/^--?(.+)/),v!==null&&Array.isArray(v)&&v.length>=2&&(h=v[1],L(h,g.arrays)?c=Gt(c,h,r):L(h,g.nargs)!==!1?c=Bt(c,h,r):($=r[c+1],$!==void 0&&(!$.match(/^-/)||$.match(D))&&!L(h,g.bools)&&!L(h,g.counts)||/^(true|false)$/.test($)?(J(h,$),c++):J(h,rt(h))));else if(f.match(/^-.\..+=/))v=f.match(/^-([^=]+)=([\s\S]*)$/),v!==null&&Array.isArray(v)&&v.length>=3&&J(v[1],v[2]);else if(f.match(/^-.\..+/)&&!f.match(D))$=r[c+1],v=f.match(/^-(.\..+)/),v!==null&&Array.isArray(v)&&v.length>=2&&(h=v[1],$!==void 0&&!$.match(/^-/)&&!L(h,g.bools)&&!L(h,g.counts)?(J(h,$),c++):J(h,rt(h)));else if(f.match(/^-[^-]+/)&&!f.match(D)){S=f.slice(1,-1).split(""),y=!1;for(let Ot=0;Ot<S.length;Ot++){if($=f.slice(Ot+2),S[Ot+1]&&S[Ot+1]==="="){dt=f.slice(Ot+3),h=S[Ot],L(h,g.arrays)?c=Gt(c,h,r,dt):L(h,g.nargs)!==!1?c=Bt(c,h,r,dt):J(h,dt),y=!0;break}if($==="-"){J(S[Ot],$);continue}if(/[A-Za-z]/.test(S[Ot])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test($)&&L($,g.bools)===!1){J(S[Ot],$),y=!0;break}if(S[Ot+1]&&S[Ot+1].match(/\W/)){J(S[Ot],$),y=!0;break}else J(S[Ot],rt(S[Ot]))}h=f.slice(-1)[0],!y&&h!=="-"&&(L(h,g.arrays)?c=Gt(c,h,r):L(h,g.nargs)!==!1?c=Bt(c,h,r):($=r[c+1],$!==void 0&&(!/^(-|--)[^-]/.test($)||$.match(D))&&!L(h,g.bools)&&!L(h,g.counts)||/^(true|false)$/.test($)?(J(h,$),c++):J(h,rt(h))))}else if(f.match(/^-[0-9]$/)&&f.match(D)&&L(f.slice(1),g.bools))h=f.slice(1),J(h,rt(h));else if(f==="--"){W=r.slice(c+1);break}else if(u["halt-at-non-option"]){W=r.slice(c);break}else wt(f)}V(Q,!0),V(Q,!1),B(Q),at(),nt(Q,g.aliases,p,!0),ht(Q),u["set-placeholder-key"]&&Zt(Q),Object.keys(g.counts).forEach(function(c){Ut(Q,c.split("."))||J(c,0)}),l&&W.length&&(Q[m]=[]),W.forEach(function(c){Q[m].push(c)}),u["camel-case-expansion"]&&u["strip-dashed"]&&Object.keys(Q).filter(c=>c!=="--"&&c.includes("-")).forEach(c=>{delete Q[c]}),u["strip-aliased"]&&[].concat(...Object.keys(o).map(c=>o[c])).forEach(c=>{u["camel-case-expansion"]&&c.includes("-")&&delete Q[c.split(".").map(f=>ge(f)).join(".")],delete Q[c]});function wt(c){let f=I("_",c);(typeof f=="string"||typeof f=="number")&&Q._.push(f)}function Bt(c,f,E,y){let h,S=L(f,g.nargs);if(S=typeof S!="number"||isNaN(S)?1:S,S===0)return A(y)||(Y=Error(w("Argument unexpected for: %s",f))),J(f,rt(f)),c;let v=A(y)?0:1;if(u["nargs-eats-options"])E.length-(c+1)+v<S&&(Y=Error(w("Not enough arguments following: %s",f))),v=S;else{for(h=c+1;h<E.length&&(!E[h].match(/^-[^0-9]/)||E[h].match(D)||st(E[h]));h++)v++;v<S&&(Y=Error(w("Not enough arguments following: %s",f)))}let $=Math.min(v,S);for(!A(y)&&$>0&&(J(f,y),$--),h=c+1;h<$+c+1;h++)J(f,E[h]);return c+$}function Gt(c,f,E,y){let h=[],S=y||E[c+1],v=L(f,g.nargs);if(L(f,g.bools)&&!/^(true|false)$/.test(S))h.push(!0);else if(A(S)||A(y)&&/^-/.test(S)&&!D.test(S)&&!st(S)){if(p[f]!==void 0){let $=p[f];h=Array.isArray($)?$:[$]}}else{A(y)||h.push(O(f,y,!0));for(let $=c+1;$<E.length&&!(!u["greedy-arrays"]&&h.length>0||v&&typeof v=="number"&&h.length>=v||(S=E[$],/^-/.test(S)&&!D.test(S)&&!st(S)));$++)c=$,h.push(O(f,S,i))}return typeof v=="number"&&(v&&h.length<v||isNaN(v)&&h.length===0)&&(Y=Error(w("Not enough arguments following: %s",f))),J(f,h),c}function J(c,f,E=i){if(/-/.test(c)&&u["camel-case-expansion"]){let S=c.split(".").map(function(v){return ge(v)}).join(".");M(c,S)}let y=O(c,f,E),h=c.split(".");Wt(Q,h,y),g.aliases[c]&&g.aliases[c].forEach(function(S){let v=S.split(".");Wt(Q,v,y)}),h.length>1&&u["dot-notation"]&&(g.aliases[h[0]]||[]).forEach(function(S){let v=S.split("."),$=[].concat(h);$.shift(),v=v.concat($),(g.aliases[c]||[]).includes(v.join("."))||Wt(Q,v,y)}),L(c,g.normalize)&&!L(c,g.arrays)&&[c].concat(g.aliases[c]||[]).forEach(function(v){Object.defineProperty(Tt,v,{enumerable:!0,get(){return f},set($){f=typeof $=="string"?ee.normalize($):$}})})}function M(c,f){g.aliases[c]&&g.aliases[c].length||(g.aliases[c]=[f],b[f]=!0),g.aliases[f]&&g.aliases[f].length||M(f,c)}function O(c,f,E){E&&(f=Cu(f)),(L(c,g.bools)||L(c,g.counts))&&typeof f=="string"&&(f=f==="true");let y=Array.isArray(f)?f.map(function(h){return I(c,h)}):I(c,f);return L(c,g.counts)&&(A(y)||typeof y=="boolean")&&(y=us()),L(c,g.normalize)&&L(c,g.arrays)&&(Array.isArray(f)?y=f.map(h=>ee.normalize(h)):y=ee.normalize(f)),y}function I(c,f){return!u["parse-positional-numbers"]&&c==="_"||!L(c,g.strings)&&!L(c,g.bools)&&!Array.isArray(f)&&(yn(f)&&u["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${f}`)))||!A(f)&&L(c,g.numbers))&&(f=Number(f)),f}function B(c){let f=Object.create(null);nt(f,g.aliases,p),Object.keys(g.configs).forEach(function(E){let y=c[E]||f[E];if(y)try{let h=null,S=ee.resolve(ee.cwd(),y),v=g.configs[E];if(typeof v=="function"){try{h=v(S)}catch($){h=$}if(h instanceof Error){Y=h;return}}else h=ee.require(S);Z(h)}catch(h){h.name==="PermissionDenied"?Y=h:c[E]&&(Y=Error(w("Invalid JSON config file: %s",y)))}})}function Z(c,f){Object.keys(c).forEach(function(E){let y=c[E],h=f?f+"."+E:E;typeof y=="object"&&y!==null&&!Array.isArray(y)&&u["dot-notation"]?Z(y,h):(!Ut(Q,h.split("."))||L(h,g.arrays)&&u["combine-arrays"])&&J(h,y)})}function at(){typeof _<"u"&&_.forEach(function(c){Z(c)})}function V(c,f){if(typeof d>"u")return;let E=typeof d=="string"?d:"",y=ee.env();Object.keys(y).forEach(function(h){if(E===""||h.lastIndexOf(E,0)===0){let S=h.split("__").map(function(v,$){return $===0&&(v=v.substring(E.length)),ge(v)});(f&&g.configs[S.join(".")]||!f)&&!Ut(c,S)&&J(S.join("."),y[h])}})}function ht(c){let f,E=new Set;Object.keys(c).forEach(function(y){if(!E.has(y)&&(f=L(y,g.coercions),typeof f=="function"))try{let h=I(y,f(c[y]));[].concat(g.aliases[y]||[],y).forEach(S=>{E.add(S),c[S]=h})}catch(h){Y=h}})}function Zt(c){return g.keys.forEach(f=>{~f.indexOf(".")||typeof c[f]>"u"&&(c[f]=void 0)}),c}function nt(c,f,E,y=!1){Object.keys(E).forEach(function(h){Ut(c,h.split("."))||(Wt(c,h.split("."),E[h]),y&&(T[h]=!0),(f[h]||[]).forEach(function(S){Ut(c,S.split("."))||Wt(c,S.split("."),E[h])}))})}function Ut(c,f){let E=c;u["dot-notation"]||(f=[f.join(".")]),f.slice(0,-1).forEach(function(h){E=E[h]||{}});let y=f[f.length-1];return typeof E!="object"?!1:y in E}function Wt(c,f,E){let y=c;u["dot-notation"]||(f=[f.join(".")]),f.slice(0,-1).forEach(function(dt){dt=Jr(dt),typeof y=="object"&&y[dt]===void 0&&(y[dt]={}),typeof y[dt]!="object"||Array.isArray(y[dt])?(Array.isArray(y[dt])?y[dt].push({}):y[dt]=[y[dt],{}],y=y[dt][y[dt].length-1]):y=y[dt]});let h=Jr(f[f.length-1]),S=L(f.join("."),g.arrays),v=Array.isArray(E),$=u["duplicate-arguments-array"];!$&&L(h,g.nargs)&&($=!0,(!A(y[h])&&g.nargs[h]===1||Array.isArray(y[h])&&y[h].length===g.nargs[h])&&(y[h]=void 0)),E===us()?y[h]=us(y[h]):Array.isArray(y[h])?$&&S&&v?y[h]=u["flatten-duplicate-arrays"]?y[h].concat(E):(Array.isArray(y[h][0])?y[h]:[y[h]]).concat([E]):!$&&Boolean(S)===Boolean(v)?y[h]=E:y[h]=y[h].concat([E]):y[h]===void 0&&S?y[h]=v?E:[E]:$&&!(y[h]===void 0||L(h,g.counts)||L(h,g.bools))?y[h]=[y[h],E]:y[h]=E}function te(...c){c.forEach(function(f){Object.keys(f||{}).forEach(function(E){g.aliases[E]||(g.aliases[E]=[].concat(o[E]||[]),g.aliases[E].concat(E).forEach(function(y){if(/-/.test(y)&&u["camel-case-expansion"]){let h=ge(y);h!==E&&g.aliases[E].indexOf(h)===-1&&(g.aliases[E].push(h),b[h]=!0)}}),g.aliases[E].concat(E).forEach(function(y){if(y.length>1&&/[A-Z]/.test(y)&&u["camel-case-expansion"]){let h=bn(y,"-");h!==E&&g.aliases[E].indexOf(h)===-1&&(g.aliases[E].push(h),b[h]=!0)}}),g.aliases[E].forEach(function(y){g.aliases[y]=[E].concat(g.aliases[E].filter(function(h){return y!==h}))}))})})}function L(c,f){let E=[].concat(g.aliases[c]||[],c),y=Object.keys(f),h=E.find(S=>y.includes(S));return h?f[h]:!1}function Ye(c){let f=Object.keys(g);return[].concat(f.map(y=>g[y])).some(function(y){return Array.isArray(y)?y.includes(c):y[c]})}function N(c,...f){return[].concat(...f).some(function(y){let h=c.match(y);return h&&Ye(h[1])})}function tt(c){if(c.match(D)||!c.match(/^-[^-]+/))return!1;let f=!0,E,y=c.slice(1).split("");for(let h=0;h<y.length;h++){if(E=c.slice(h+2),!Ye(y[h])){f=!1;break}if(y[h+1]&&y[h+1]==="="||E==="-"||/[A-Za-z]/.test(y[h])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(E)||y[h+1]&&y[h+1].match(/\W/))break}return f}function st(c){return u["unknown-options-as-args"]&&H(c)}function H(c){return c=c.replace(/^-{3,}/,"--"),c.match(D)||tt(c)?!1:!N(c,/^-+([^=]+?)=[\s\S]*$/,U,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function rt(c){return!L(c,g.bools)&&!L(c,g.counts)&&`${c}`in p?p[c]:ct(it(c))}function ct(c){return{[kt.BOOLEAN]:!0,[kt.STRING]:"",[kt.NUMBER]:void 0,[kt.ARRAY]:[]}[c]}function it(c){let f=kt.BOOLEAN;return L(c,g.strings)?f=kt.STRING:L(c,g.numbers)?f=kt.NUMBER:L(c,g.bools)?f=kt.BOOLEAN:L(c,g.arrays)&&(f=kt.ARRAY),f}function A(c){return c===void 0}function de(){Object.keys(g.counts).find(c=>L(c,g.arrays)?(Y=Error(w("Invalid configuration: %s, opts.count excludes opts.array.",c)),!0):L(c,g.nargs)?(Y=Error(w("Invalid configuration: %s, opts.count excludes opts.narg.",c)),!0):!1)}return{aliases:Object.assign({},g.aliases),argv:Object.assign(Tt,Q),configuration:u,defaulted:Object.assign({},T),error:Y,newAliases:Object.assign({},b)}}};function Ou(e){let t=[],n=Object.create(null),s=!0;for(Object.keys(e).forEach(function(r){t.push([].concat(e[r],r))});s;){s=!1;for(let r=0;r<t.length;r++)for(let i=r+1;i<t.length;i++)if(t[r].filter(function(u){return t[i].indexOf(u)!==-1}).length){t[r]=t[r].concat(t[i]),t.splice(i,1),s=!0;break}}return t.forEach(function(r){r=r.filter(function(o,u,p){return p.indexOf(o)===u});let i=r.pop();i!==void 0&&typeof i=="string"&&(n[i]=r)}),n}function us(e){return e!==void 0?e+1:1}function Jr(e){return e==="__proto__"?"___proto___":e}function Cu(e){return typeof e=="string"&&(e[0]==="'"||e[0]==='"')&&e[e.length-1]===e[0]?e.substring(1,e.length-1):e}var ei=require("fs");var Zr=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12;if(process&&process.version&&Number(process.version.match(/v([^.]+)/)[1])<Zr)throw Error(`yargs parser supports a minimum Node.js version of ${Zr}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var vu=process?process.env:{},ni=new ls({cwd:process.cwd,env:()=>vu,format:ti.format,normalize:_n.normalize,resolve:_n.resolve,require:e=>{if(typeof require<"u")return require(e);if(e.match(/\.json$/))return JSON.parse((0,ei.readFileSync)(e,"utf8"));throw Error("only .json config files are supported in ESM")}}),Xe=function(t,n){return ni.parse(t.slice(),n).argv};Xe.detailed=function(e,t){return ni.parse(e.slice(),t)};Xe.camelCase=ge;Xe.decamelize=bn;Xe.looksLikeNumber=yn;var fs=Xe;var qt=require("path");function si(){return Tu()?0:1}function Tu(){return Au()&&!process.defaultApp}function Au(){return!!process.versions.electron}function hs(e){return e.slice(si()+1)}function ri(){return process.argv[si()]}var et=class extends Error{constructor(t){super(t||"yargs error");this.name="YError",Error.captureStackTrace(this,et)}};var $e=require("fs"),ii=require("util"),oi=require("path"),ai={fs:{readFileSync:$e.readFileSync,writeFile:$e.writeFile},format:ii.format,resolve:oi.resolve,exists:e=>{try{return(0,$e.statSync)(e).isFile()}catch{return!1}}};var zt,ci=class{constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let n=t.shift(),s=function(){};return typeof t[t.length-1]=="function"&&(s=t.pop()),s=s||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]=n,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:s})):s(),zt.format.apply(zt.format,[this.cache[this.locale][n]||n].concat(t))}__n(){let t=Array.prototype.slice.call(arguments),n=t.shift(),s=t.shift(),r=t.shift(),i=function(){};typeof t[t.length-1]=="function"&&(i=t.pop()),this.cache[this.locale]||this._readLocaleFile();let o=r===1?n:s;this.cache[this.locale][n]&&(o=this.cache[this.locale][n][r===1?"one":"other"]),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]={one:n,other:s},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:i})):i();let u=[o];return~o.indexOf("%d")&&u.push(r),zt.format.apply(zt.format,u.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this.cache[this.locale][n]=t[n])}_taggedLiteral(t,...n){let s="";return t.forEach(function(r,i){let o=n[i+1];s+=r,typeof o<"u"&&(s+="%s")}),this.__.apply(this,[s].concat([].slice.call(n,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let t=this,n=this.writeQueue[0],s=n.directory,r=n.locale,i=n.cb,o=this._resolveLocaleFile(s,r),u=JSON.stringify(this.cache[r],null,2);zt.fs.writeFile(o,u,"utf-8",function(p){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),i(p)})}_readLocaleFile(){let t={},n=this._resolveLocaleFile(this.directory,this.locale);try{zt.fs.readFileSync&&(t=JSON.parse(zt.fs.readFileSync(n,"utf-8")))}catch(s){if(s instanceof SyntaxError&&(s.message="syntax error in "+n),s.code==="ENOENT")t={};else throw s}this.cache[this.locale]=t}_resolveLocaleFile(t,n){let s=zt.resolve(t,"./",n+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(s)&&~n.lastIndexOf("_")){let r=zt.resolve(t,"./",n.split("_")[0]+".json");this._fileExistsSync(r)&&(s=r)}return s}_fileExistsSync(t){return zt.exists(t)}};function ui(e,t){zt=t;let n=new ci(e);return{__:n.__.bind(n),__n:n.__n.bind(n),setLocale:n.setLocale.bind(n),getLocale:n.getLocale.bind(n),updateLocale:n.updateLocale.bind(n),locale:n.locale}}var Su=e=>ui(e,ai),li=Su;var Ru={},Iu="require is not supported by ESM",fi="loading a directory of commands is not supported yet for ESM",En;try{En=(0,di.fileURLToPath)(Ru.url)}catch{En=process.cwd()}var xu=En.split("node_modules")[0],ps={assert:{notStrictEqual:wn.notStrictEqual,strictEqual:wn.strictEqual},cliui:cs,findUp:Xr,getEnv:e=>process.env[e],inspect:hi.inspect,getCallerFile:()=>{throw new et(fi)},getProcessArgvBin:ri,mainFilename:xu||process.cwd(),Parser:fs,path:{basename:qt.basename,dirname:qt.dirname,extname:qt.extname,relative:qt.relative,resolve:qt.resolve},process:{argv:()=>process.argv,cwd:process.cwd,emitWarning:(e,t)=>process.emitWarning(e,t),execPath:()=>process.execPath,exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<"u"?process.stdout.columns:null},readFileSync:pi.readFileSync,require:()=>{throw new et(Iu)},requireDirectory:()=>{throw new et(fi)},stringWidth:e=>[...e].length,y18n:li({directory:(0,qt.resolve)(En,"../../../locales"),updateFiles:!1})};function Ct(e,t,n,s){n.assert.notStrictEqual(e,t,s)}function ds(e,t){t.assert.strictEqual(typeof e,"string")}function Ne(e){return Object.keys(e)}function ot(e){return!!e&&!!e.then&&typeof e.then=="function"}function re(e){let n=e.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),s=/\.*[\][<>]/g,r=n.shift();if(!r)throw new Error(`No command found in: ${e}`);let i={cmd:r.replace(s,""),demanded:[],optional:[]};return n.forEach((o,u)=>{let p=!1;o=o.replace(/\s/g,""),/\.+[\]>]/.test(o)&&u===n.length-1&&(p=!0),/^\[/.test(o)?i.optional.push({cmd:o.replace(s,"").split("|"),variadic:p}):i.demanded.push({cmd:o.replace(s,"").split("|"),variadic:p})}),i}var Pu=["first","second","third","fourth","fifth","sixth"];function x(e,t,n){function s(){return typeof e=="object"?[{demanded:[],optional:[]},e,t]:[re(`cmd ${e}`),t,n]}try{let r=0,[i,o,u]=s(),p=[].slice.call(o);for(;p.length&&p[p.length-1]===void 0;)p.pop();let _=u||p.length;if(_<i.demanded.length)throw new et(`Not enough arguments provided. Expected ${i.demanded.length} but received ${p.length}.`);let d=i.demanded.length+i.optional.length;if(_>d)throw new et(`Too many arguments provided. Expected max ${d} but received ${_}.`);i.demanded.forEach(l=>{let m=p.shift(),b=mi(m);l.cmd.filter(w=>w===b||w==="*").length===0&&gi(b,l.cmd,r),r+=1}),i.optional.forEach(l=>{if(p.length===0)return;let m=p.shift(),b=mi(m);l.cmd.filter(w=>w===b||w==="*").length===0&&gi(b,l.cmd,r),r+=1})}catch(r){console.warn(r.stack)}}function mi(e){return Array.isArray(e)?"array":e===null?"null":typeof e}function gi(e,t,n){throw new et(`Invalid ${Pu[n]||"manyith"} argument. Expected ${t.join(" or ")} but received ${e}.`)}var ms=class{constructor(t){this.globalMiddleware=[],this.frozens=[],this.yargs=t}addMiddleware(t,n,s=!0,r=!1){if(x("<array|function> [boolean] [boolean] [boolean]",[t,n,s],arguments.length),Array.isArray(t)){for(let i=0;i<t.length;i++){if(typeof t[i]!="function")throw Error("middleware must be a function");let o=t[i];o.applyBeforeValidation=n,o.global=s}Array.prototype.push.apply(this.globalMiddleware,t)}else if(typeof t=="function"){let i=t;i.applyBeforeValidation=n,i.global=s,i.mutates=r,this.globalMiddleware.push(t)}return this.yargs}addCoerceMiddleware(t,n){let s=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(r=>{let i=[...s[n]||[],n];return r.option?!i.includes(r.option):!0}),t.option=n,this.addMiddleware(t,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let t=this.frozens.pop();t!==void 0&&(this.globalMiddleware=t)}reset(){this.globalMiddleware=this.globalMiddleware.filter(t=>t.global)}};function bi(e){return e?e.map(t=>(t.applyBeforeValidation=!1,t)):[]}function be(e,t,n,s){return n.reduce((r,i)=>{if(i.applyBeforeValidation!==s)return r;if(i.mutates){if(i.applied)return r;i.applied=!0}if(ot(r))return r.then(o=>Promise.all([o,i(o,t)])).then(([o,u])=>Object.assign(o,u));{let o=i(r,t);return ot(o)?o.then(u=>Object.assign(r,u)):Object.assign(r,o)}},e)}function ye(e,t,n=s=>{throw s}){try{let s=ju(e)?e():e;return ot(s)?s.then(r=>t(r)):t(s)}catch(s){return n(s)}}function ju(e){return typeof e=="function"}function gs(e){if(typeof require>"u")return null;for(let t=0,n=Object.keys(require.cache),s;t<n.length;t++)if(s=require.cache[n[t]],s.exports===e)return s;return null}var Le=/(^\*)|(^\$0)/,_i=class{constructor(t,n,s,r){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=r,this.usage=t,this.globalMiddleware=s,this.validation=n}addDirectory(t,n,s,r){r=r||{},typeof r.recurse!="boolean"&&(r.recurse=!1),Array.isArray(r.extensions)||(r.extensions=["js"]);let i=typeof r.visit=="function"?r.visit:o=>o;r.visit=(o,u,p)=>{let _=i(o,u,p);if(_){if(this.requireCache.has(u))return _;this.requireCache.add(u),this.addHandler(_)}return _},this.shim.requireDirectory({require:n,filename:s},t,r)}addHandler(t,n,s,r,i,o){let u=[],p=bi(i);if(r=r||(()=>{}),Array.isArray(t))if(Mu(t))[t,...u]=t;else for(let _ of t)this.addHandler(_);else if($u(t)){let _=Array.isArray(t.command)||typeof t.command=="string"?t.command:this.moduleName(t);t.aliases&&(_=[].concat(_).concat(t.aliases)),this.addHandler(_,this.extractDesc(t),t.builder,t.handler,t.middlewares,t.deprecated);return}else if(yi(s)){this.addHandler([t].concat(u),n,s.builder,s.handler,s.middlewares,s.deprecated);return}if(typeof t=="string"){let _=re(t);u=u.map(m=>re(m).cmd);let d=!1,l=[_.cmd].concat(u).filter(m=>Le.test(m)?(d=!0,!1):!0);l.length===0&&d&&l.push("$0"),d&&(_.cmd=l[0],u=l.slice(1),t=t.replace(Le,_.cmd)),u.forEach(m=>{this.aliasMap[m]=_.cmd}),n!==!1&&this.usage.command(t,n,d,u,o),this.handlers[_.cmd]={original:t,description:n,handler:r,builder:s||{},middlewares:p,deprecated:o,demanded:_.demanded,optional:_.optional},d&&(this.defaultCommand=this.handlers[_.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(t,n,s,r,i,o){let u=this.handlers[t]||this.handlers[this.aliasMap[t]]||this.defaultCommand,p=n.getInternalMethods().getContext(),_=p.commands.slice(),d=!t;t&&(p.commands.push(t),p.fullCommands.push(u.original));let l=this.applyBuilderUpdateUsageAndParse(d,u,n,s.aliases,_,r,i,o);return ot(l)?l.then(m=>this.applyMiddlewareAndGetResult(d,u,m.innerArgv,p,i,m.aliases,n)):this.applyMiddlewareAndGetResult(d,u,l.innerArgv,p,i,l.aliases,n)}applyBuilderUpdateUsageAndParse(t,n,s,r,i,o,u,p){let _=n.builder,d=s;if(On(_)){let l=_(s.getInternalMethods().reset(r),p);if(ot(l))return l.then(m=>(d=wi(m)?m:s,this.parseAndUpdateUsage(t,n,d,i,o,u)))}else ku(_)&&(d=s.getInternalMethods().reset(r),Object.keys(n.builder).forEach(l=>{d.option(l,_[l])}));return this.parseAndUpdateUsage(t,n,d,i,o,u)}parseAndUpdateUsage(t,n,s,r,i,o){t&&s.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(s)&&s.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(r,n),n.description);let u=s.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,i,o);return ot(u)?u.then(p=>({aliases:s.parsed.aliases,innerArgv:p})):{aliases:s.parsed.aliases,innerArgv:u}}shouldUpdateUsage(t){return!t.getInternalMethods().getUsageInstance().getUsageDisabled()&&t.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(t,n){let s=Le.test(n.original)?n.original.replace(Le,"").trim():n.original,r=t.filter(i=>!Le.test(i));return r.push(s),`$0 ${r.join(" ")}`}applyMiddlewareAndGetResult(t,n,s,r,i,o,u){let p={};if(i)return s;u.getInternalMethods().getHasOutput()||(p=this.populatePositionals(n,s,r,u));let _=this.globalMiddleware.getMiddleware().slice(0).concat(n.middlewares);if(s=be(s,u,_,!0),!u.getInternalMethods().getHasOutput()){let d=u.getInternalMethods().runValidation(o,p,u.parsed.error,t);s=ye(s,l=>(d(l),l))}if(n.handler&&!u.getInternalMethods().getHasOutput()){u.getInternalMethods().setHasOutput();let d=!!u.getOptions().configuration["populate--"];u.getInternalMethods().postProcess(s,d,!1,!1),s=be(s,u,_,!1),s=ye(s,l=>{let m=n.handler(l);return ot(m)?m.then(()=>l):l}),t||u.getInternalMethods().getUsageInstance().cacheHelpMessage(),ot(s)&&!u.getInternalMethods().hasParseCallback()&&s.catch(l=>{try{u.getInternalMethods().getUsageInstance().fail(null,l)}catch{}})}return t||(r.commands.pop(),r.fullCommands.pop()),s}populatePositionals(t,n,s,r){n._=n._.slice(s.commands.length);let i=t.demanded.slice(0),o=t.optional.slice(0),u={};for(this.validation.positionalCount(i.length,n._.length);i.length;){let p=i.shift();this.populatePositional(p,n,u)}for(;o.length;){let p=o.shift();this.populatePositional(p,n,u)}return n._=s.commands.concat(n._.map(p=>""+p)),this.postProcessPositionals(n,u,this.cmdToParseOptions(t.original),r),u}populatePositional(t,n,s){let r=t.cmd[0];t.variadic?s[r]=n._.splice(0).map(String):n._.length&&(s[r]=[String(n._.shift())])}cmdToParseOptions(t){let n={array:[],default:{},alias:{},demand:{}},s=re(t);return s.demanded.forEach(r=>{let[i,...o]=r.cmd;r.variadic&&(n.array.push(i),n.default[i]=[]),n.alias[i]=o,n.demand[i]=!0}),s.optional.forEach(r=>{let[i,...o]=r.cmd;r.variadic&&(n.array.push(i),n.default[i]=[]),n.alias[i]=o}),n}postProcessPositionals(t,n,s,r){let i=Object.assign({},r.getOptions());i.default=Object.assign(s.default,i.default);for(let _ of Object.keys(s.alias))i.alias[_]=(i.alias[_]||[]).concat(s.alias[_]);i.array=i.array.concat(s.array),i.config={};let o=[];if(Object.keys(n).forEach(_=>{n[_].map(d=>{i.configuration["unknown-options-as-args"]&&(i.key[_]=!0),o.push(`--${_}`),o.push(d)})}),!o.length)return;let u=Object.assign({},i.configuration,{"populate--":!1}),p=this.shim.Parser.detailed(o,Object.assign({},i,{configuration:u}));if(p.error)r.getInternalMethods().getUsageInstance().fail(p.error.message,p.error);else{let _=Object.keys(n);Object.keys(n).forEach(l=>{_.push(...p.aliases[l])});let d=r.getOptions().default;Object.keys(p.argv).forEach(l=>{_.includes(l)&&(n[l]||(n[l]=p.argv[l]),!Object.prototype.hasOwnProperty.call(d,l)&&Object.prototype.hasOwnProperty.call(t,l)&&Object.prototype.hasOwnProperty.call(p.argv,l)&&(Array.isArray(t[l])||Array.isArray(p.argv[l]))?t[l]=[].concat(t[l],p.argv[l]):t[l]=p.argv[l])})}}runDefaultBuilderOn(t){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(t)){let s=Le.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");t.getInternalMethods().getUsageInstance().usage(s,this.defaultCommand.description)}let n=this.defaultCommand.builder;if(On(n))return n(t,!0);yi(n)||Object.keys(n).forEach(s=>{t.option(s,n[s])})}moduleName(t){let n=gs(t);if(!n)throw new Error(`No command name given for module: ${this.shim.inspect(t)}`);return this.commandFromFilename(n.filename)}commandFromFilename(t){return this.shim.path.basename(t,this.shim.path.extname(t))}extractDesc({describe:t,description:n,desc:s}){for(let r of[t,n,s]){if(typeof r=="string"||r===!1)return r;Ct(r,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let t=this.frozens.pop();Ct(t,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=t}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function Ei(e,t,n,s){return new _i(e,t,n,s)}function yi(e){return typeof e=="object"&&!!e.builder&&typeof e.handler=="function"}function Mu(e){return e.every(t=>typeof t=="string")}function On(e){return typeof e=="function"}function ku(e){return typeof e=="object"}function $u(e){return typeof e=="object"&&!Array.isArray(e)}function ie(e={},t=()=>!0){let n={};return Ne(e).forEach(s=>{t(s,e[s])&&(n[s]=e[s])}),n}function oe(e){typeof process>"u"||[process.stdout,process.stderr].forEach(t=>{let n=t;n._handle&&n.isTTY&&typeof n._handle.setBlocking=="function"&&n._handle.setBlocking(e)})}function Nu(e){return typeof e=="boolean"}function Ci(e,t){let n=t.y18n.__,s={},r=[];s.failFn=function(O){r.push(O)};let i=null,o=!0;s.showHelpOnFail=function(O=!0,I){function B(){return typeof O=="string"?[!0,O]:[O,I]}let[Z,at]=B();return i=at,o=Z,s};let u=!1;s.fail=function(O,I){let B=e.getInternalMethods().getLoggerInstance();if(r.length)for(let Z=r.length-1;Z>=0;--Z){let at=r[Z];if(Nu(at)){if(I)throw I;if(O)throw Error(O)}else at(O,I,s)}else{if(e.getExitProcess()&&oe(!0),u||(u=!0,o&&(e.showHelp("error"),B.error()),(O||I)&&B.error(O||I),i&&((O||I)&&B.error(""),B.error(i))),I=I||new et(O),e.getExitProcess())return e.exit(1);if(e.getInternalMethods().hasParseCallback())return e.exit(1,I);throw I}};let p=[],_=!1;s.usage=(M,O)=>M===null?(_=!0,p=[],s):(_=!1,p.push([M,O||""]),s),s.getUsage=()=>p,s.getUsageDisabled=()=>_,s.getPositionalGroupName=()=>n("Positionals:");let d=[];s.example=(M,O)=>{d.push([M,O||""])};let l=[];s.command=function(O,I,B,Z,at=!1){B&&(l=l.map(V=>(V[2]=!1,V))),l.push([O,I||"",B,Z,at])},s.getCommands=()=>l;let m={};s.describe=function(O,I){Array.isArray(O)?O.forEach(B=>{s.describe(B,I)}):typeof O=="object"?Object.keys(O).forEach(B=>{s.describe(B,O[B])}):m[O]=I},s.getDescriptions=()=>m;let b=[];s.epilog=M=>{b.push(M)};let T=!1,w;s.wrap=M=>{T=!0,w=M};function g(){return T||(w=Bt(),T=!0),w}let D="__yargsString__:";s.deferY18nLookup=M=>D+M,s.help=function(){if(W)return W;Y();let O=e.customScriptName?e.$0:t.path.basename(e.$0),I=e.getDemandedOptions(),B=e.getDemandedCommands(),Z=e.getDeprecatedOptions(),at=e.getGroups(),V=e.getOptions(),ht=[];ht=ht.concat(Object.keys(m)),ht=ht.concat(Object.keys(I)),ht=ht.concat(Object.keys(B)),ht=ht.concat(Object.keys(V.default)),ht=ht.filter(Tt),ht=Object.keys(ht.reduce((N,tt)=>(tt!=="_"&&(N[tt]=!0),N),{}));let Zt=g(),nt=t.cliui({width:Zt,wrap:!!Zt});if(!_){if(p.length)p.forEach(N=>{nt.div({text:`${N[0].replace(/\$0/g,O)}`}),N[1]&&nt.div({text:`${N[1]}`,padding:[1,0,0,0]})}),nt.div();else if(l.length){let N=null;B._?N=`${O} <${n("command")}>
`:N=`${O} [${n("command")}]
`,nt.div(`${N}`)}}if(l.length>1||l.length===1&&!l[0][2]){nt.div(n("Commands:"));let N=e.getInternalMethods().getContext(),tt=N.commands.length?`${N.commands.join(" ")} `:"";e.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(l=l.sort((H,rt)=>H[0].localeCompare(rt[0])));let st=O?`${O} `:"";l.forEach(H=>{let rt=`${st}${tt}${H[0].replace(/^\$0 ?/,"")}`;nt.span({text:rt,padding:[0,2,0,2],width:U(l,Zt,`${O}${tt}`)+4},{text:H[1]});let ct=[];H[2]&&ct.push(`[${n("default")}]`),H[3]&&H[3].length&&ct.push(`[${n("aliases:")} ${H[3].join(", ")}]`),H[4]&&(typeof H[4]=="string"?ct.push(`[${n("deprecated: %s",H[4])}]`):ct.push(`[${n("deprecated")}]`)),ct.length?nt.div({text:ct.join(" "),padding:[0,0,0,2],align:"right"}):nt.div()}),nt.div()}let Ut=(Object.keys(V.alias)||[]).concat(Object.keys(e.parsed.newAliases)||[]);ht=ht.filter(N=>!e.parsed.newAliases[N]&&Ut.every(tt=>(V.alias[tt]||[]).indexOf(N)===-1));let Wt=n("Options:");at[Wt]||(at[Wt]=[]),Q(ht,V.alias,at,Wt);let te=N=>/^--/.test(Cn(N)),L=Object.keys(at).filter(N=>at[N].length>0).map(N=>{let tt=at[N].filter(Tt).map(st=>{if(Ut.includes(st))return st;for(let H=0,rt;(rt=Ut[H])!==void 0;H++)if((V.alias[rt]||[]).includes(st))return rt;return st});return{groupName:N,normalizedKeys:tt}}).filter(({normalizedKeys:N})=>N.length>0).map(({groupName:N,normalizedKeys:tt})=>{let st=tt.reduce((H,rt)=>(H[rt]=[rt].concat(V.alias[rt]||[]).map(ct=>N===s.getPositionalGroupName()?ct:(/^[0-9]$/.test(ct)?V.boolean.includes(rt)?"-":"--":ct.length>1?"--":"-")+ct).sort((ct,it)=>te(ct)===te(it)?0:te(ct)?1:-1).join(", "),H),{});return{groupName:N,normalizedKeys:tt,switches:st}});if(L.filter(({groupName:N})=>N!==s.getPositionalGroupName()).some(({normalizedKeys:N,switches:tt})=>!N.every(st=>te(tt[st])))&&L.filter(({groupName:N})=>N!==s.getPositionalGroupName()).forEach(({normalizedKeys:N,switches:tt})=>{N.forEach(st=>{te(tt[st])&&(tt[st]=Lu(tt[st],4))})}),L.forEach(({groupName:N,normalizedKeys:tt,switches:st})=>{nt.div(N),tt.forEach(H=>{let rt=st[H],ct=m[H]||"",it=null;ct.includes(D)&&(ct=n(ct.substring(D.length))),V.boolean.includes(H)&&(it=`[${n("boolean")}]`),V.count.includes(H)&&(it=`[${n("count")}]`),V.string.includes(H)&&(it=`[${n("string")}]`),V.normalize.includes(H)&&(it=`[${n("string")}]`),V.array.includes(H)&&(it=`[${n("array")}]`),V.number.includes(H)&&(it=`[${n("number")}]`);let A=c=>typeof c=="string"?`[${n("deprecated: %s",c)}]`:`[${n("deprecated")}]`,de=[H in Z?A(Z[H]):null,it,H in I?`[${n("required")}]`:null,V.choices&&V.choices[H]?`[${n("choices:")} ${s.stringifiedValues(V.choices[H])}]`:null,wt(V.default[H],V.defaultDescription[H])].filter(Boolean).join(" ");nt.span({text:Cn(rt),padding:[0,2,0,2+Oi(rt)],width:U(st,Zt)+4},ct),de?nt.div({text:de,padding:[0,0,0,2],align:"right"}):nt.div()}),nt.div()}),d.length&&(nt.div(n("Examples:")),d.forEach(N=>{N[0]=N[0].replace(/\$0/g,O)}),d.forEach(N=>{N[1]===""?nt.div({text:N[0],padding:[0,2,0,2]}):nt.div({text:N[0],padding:[0,2,0,2],width:U(d,Zt)+4},{text:N[1]})}),nt.div()),b.length>0){let N=b.map(tt=>tt.replace(/\$0/g,O)).join(`
`);nt.div(`${N}
`)}return nt.toString().replace(/\s*$/,"")};function U(M,O,I){let B=0;return Array.isArray(M)||(M=Object.values(M).map(Z=>[Z])),M.forEach(Z=>{B=Math.max(t.stringWidth(I?`${I} ${Cn(Z[0])}`:Cn(Z[0]))+Oi(Z[0]),B)}),O&&(B=Math.min(B,parseInt((O*.5).toString(),10))),B}function Y(){let M=e.getDemandedOptions(),O=e.getOptions();(Object.keys(O.alias)||[]).forEach(I=>{O.alias[I].forEach(B=>{m[B]&&s.describe(I,m[B]),B in M&&e.demandOption(I,M[B]),O.boolean.includes(B)&&e.boolean(I),O.count.includes(B)&&e.count(I),O.string.includes(B)&&e.string(I),O.normalize.includes(B)&&e.normalize(I),O.array.includes(B)&&e.array(I),O.number.includes(B)&&e.number(I)})})}let W;s.cacheHelpMessage=function(){W=this.help()},s.clearCachedHelpMessage=function(){W=void 0},s.hasCachedHelpMessage=function(){return!!W};function Q(M,O,I,B){let Z=[],at=null;return Object.keys(I).forEach(V=>{Z=Z.concat(I[V])}),M.forEach(V=>{at=[V].concat(O[V]),at.some(ht=>Z.indexOf(ht)!==-1)||I[B].push(V)}),Z}function Tt(M){return e.getOptions().hiddenOptions.indexOf(M)<0||e.parsed.argv[e.getOptions().showHiddenOpt]}s.showHelp=M=>{let O=e.getInternalMethods().getLoggerInstance();M||(M="error"),(typeof M=="function"?M:O[M])(s.help())},s.functionDescription=M=>{let O=M.name?t.Parser.decamelize(M.name,"-"):n("generated-value");return["(",O,")"].join("")},s.stringifiedValues=function(O,I){let B="",Z=I||", ",at=[].concat(O);return!O||!at.length||at.forEach(V=>{B.length&&(B+=Z),B+=JSON.stringify(V)}),B};function wt(M,O){let I=`[${n("default:")} `;if(M===void 0&&!O)return null;if(O)I+=O;else switch(typeof M){case"string":I+=`"${M}"`;break;case"object":I+=JSON.stringify(M);break;default:I+=M}return`${I}]`}function Bt(){return t.process.stdColumns?Math.min(80,t.process.stdColumns):80}let Gt=null;s.version=M=>{Gt=M},s.showVersion=M=>{let O=e.getInternalMethods().getLoggerInstance();M||(M="error"),(typeof M=="function"?M:O[M])(Gt)},s.reset=function(O){return i=null,u=!1,p=[],_=!1,b=[],d=[],l=[],m=ie(m,I=>!O[I]),s};let J=[];return s.freeze=function(){J.push({failMessage:i,failureOutput:u,usages:p,usageDisabled:_,epilogs:b,examples:d,commands:l,descriptions:m})},s.unfreeze=function(O=!1){let I=J.pop();!I||(O?(m=Me(Me({},I.descriptions),m),l=[...I.commands,...l],p=[...I.usages,...p],d=[...I.examples,...d],b=[...I.epilogs,...b]):{failMessage:i,failureOutput:u,usages:p,usageDisabled:_,epilogs:b,examples:d,commands:l,descriptions:m}=I)},s}function bs(e){return typeof e=="object"}function Lu(e,t){return bs(e)?{text:e.text,indentation:e.indentation+t}:{text:e,indentation:t}}function Oi(e){return bs(e)?e.indentation:0}function Cn(e){return bs(e)?e.text:e}var vi=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,Ti=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zsh_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;var Ai=class{constructor(t,n,s,r){var i,o,u;this.yargs=t,this.usage=n,this.command=s,this.shim=r,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(u=((i=this.shim.getEnv("SHELL"))===null||i===void 0?void 0:i.includes("zsh"))||((o=this.shim.getEnv("ZSH_NAME"))===null||o===void 0?void 0:o.includes("zsh")))!==null&&u!==void 0?u:!1}defaultCompletion(t,n,s,r){let i=this.command.getCommandHandlers();for(let u=0,p=t.length;u<p;++u)if(i[t[u]]&&i[t[u]].builder){let _=i[t[u]].builder;if(On(_)){this.indexAfterLastReset=u+1;let d=this.yargs.getInternalMethods().reset();return _(d,!0),d.argv}}let o=[];this.commandCompletions(o,t,s),this.optionCompletions(o,t,n,s),this.choicesFromOptionsCompletions(o,t,n,s),this.choicesFromPositionalsCompletions(o,t,n,s),r(null,o)}commandCompletions(t,n,s){let r=this.yargs.getInternalMethods().getContext().commands;!s.match(/^-/)&&r[r.length-1]!==s&&!this.previousArgHasChoices(n)&&this.usage.getCommands().forEach(i=>{let o=re(i[0]).cmd;if(n.indexOf(o)===-1)if(!this.zshShell)t.push(o);else{let u=i[1]||"";t.push(o.replace(/:/g,"\\:")+":"+u)}})}optionCompletions(t,n,s,r){if((r.match(/^-/)||r===""&&t.length===0)&&!this.previousArgHasChoices(n)){let i=this.yargs.getOptions(),o=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(i.key).forEach(u=>{let p=!!i.configuration["boolean-negation"]&&i.boolean.includes(u);!o.includes(u)&&!this.argsContainKey(n,s,u,p)&&(this.completeOptionKey(u,t,r),p&&!!i.default[u]&&this.completeOptionKey(`no-${u}`,t,r))})}}choicesFromOptionsCompletions(t,n,s,r){if(this.previousArgHasChoices(n)){let i=this.getPreviousArgChoices(n);i&&i.length>0&&t.push(...i)}}choicesFromPositionalsCompletions(t,n,s,r){let i=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],o=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),u=s._.slice(o),p=i[u.length-1];if(!p)return;let _=this.yargs.getOptions().choices[p]||[];for(let d of _)d.startsWith(r)&&t.push(d)}getPreviousArgChoices(t){if(t.length<1)return;let n=t[t.length-1],s="";if(!n.startsWith("-")&&t.length>1&&(s=n,n=t[t.length-2]),!n.startsWith("-"))return;let r=n.replace(/^-+/,""),i=this.yargs.getOptions(),o=[r,...this.yargs.getAliases()[r]||[]],u;for(let p of o)if(Object.prototype.hasOwnProperty.call(i.key,p)&&Array.isArray(i.choices[p])){u=i.choices[p];break}if(u)return u.filter(p=>!s||p.startsWith(s))}previousArgHasChoices(t){let n=this.getPreviousArgChoices(t);return n!==void 0&&n.length>0}argsContainKey(t,n,s,r){if(t.indexOf(`--${s}`)!==-1||r&&t.indexOf(`--no-${s}`)!==-1)return!0;if(this.aliases){for(let i of this.aliases[s])if(n[i]!==void 0)return!0}return!1}completeOptionKey(t,n,s){let r=this.usage.getDescriptions(),i=p=>/^--/.test(p),o=p=>/^[^0-9]$/.test(p),u=!i(s)&&o(t)?"-":"--";if(!this.zshShell)n.push(u+t);else{let p=r[t]||"";n.push(u+`${t.replace(/:/g,"\\:")}:${p.replace("__yargsString__:","")}`)}}customCompletion(t,n,s,r){if(Ct(this.customCompletionFunction,null,this.shim),Du(this.customCompletionFunction)){let i=this.customCompletionFunction(s,n);return ot(i)?i.then(o=>{this.shim.process.nextTick(()=>{r(null,o)})}).catch(o=>{this.shim.process.nextTick(()=>{r(o,void 0)})}):r(null,i)}else return Bu(this.customCompletionFunction)?this.customCompletionFunction(s,n,(i=r)=>this.defaultCompletion(t,n,s,i),i=>{r(null,i)}):this.customCompletionFunction(s,n,i=>{r(null,i)})}getCompletion(t,n){let s=t.length?t[t.length-1]:"",r=this.yargs.parse(t,!0),i=this.customCompletionFunction?o=>this.customCompletion(t,o,s,n):o=>this.defaultCompletion(t,o,s,n);return ot(r)?r.then(i):i(r)}generateCompletionScript(t,n){let s=this.zshShell?Ti:vi,r=this.shim.path.basename(t);return t.match(/\.js$/)&&(t=`./${t}`),s=s.replace(/{{app_name}}/g,r),s=s.replace(/{{completion_command}}/g,n),s.replace(/{{app_path}}/g,t)}registerFunction(t){this.customCompletionFunction=t}setParsed(t){this.aliases=t.aliases}};function Si(e,t,n,s){return new Ai(e,t,n,s)}function Du(e){return e.length<3}function Bu(e){return e.length>3}function Ii(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;let n=[],s;for(s=0;s<=t.length;s++)n[s]=[s];let r;for(r=0;r<=e.length;r++)n[0][r]=r;for(s=1;s<=t.length;s++)for(r=1;r<=e.length;r++)t.charAt(s-1)===e.charAt(r-1)?n[s][r]=n[s-1][r-1]:s>1&&r>1&&t.charAt(s-2)===e.charAt(r-1)&&t.charAt(s-1)===e.charAt(r-2)?n[s][r]=n[s-2][r-2]+1:n[s][r]=Math.min(n[s-1][r-1]+1,Math.min(n[s][r-1]+1,n[s-1][r]+1));return n[t.length][e.length]}var xi=["$0","--","_"];function Ri(e,t,n){let s=n.y18n.__,r=n.y18n.__n,i={};i.nonOptionCount=function(l){let m=e.getDemandedCommands(),T=l._.length+(l["--"]?l["--"].length:0)-e.getInternalMethods().getContext().commands.length;m._&&(T<m._.min||T>m._.max)&&(T<m._.min?m._.minMsg!==void 0?t.fail(m._.minMsg?m._.minMsg.replace(/\$0/g,T.toString()).replace(/\$1/,m._.min.toString()):null):t.fail(r("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",T,T.toString(),m._.min.toString())):T>m._.max&&(m._.maxMsg!==void 0?t.fail(m._.maxMsg?m._.maxMsg.replace(/\$0/g,T.toString()).replace(/\$1/,m._.max.toString()):null):t.fail(r("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",T,T.toString(),m._.max.toString()))))},i.positionalCount=function(l,m){m<l&&t.fail(r("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",m,m+"",l+""))},i.requiredArguments=function(l,m){let b=null;for(let T of Object.keys(m))(!Object.prototype.hasOwnProperty.call(l,T)||typeof l[T]>"u")&&(b=b||{},b[T]=m[T]);if(b){let T=[];for(let g of Object.keys(b)){let D=b[g];D&&T.indexOf(D)<0&&T.push(D)}let w=T.length?`
${T.join(`
`)}`:"";t.fail(r("Missing required argument: %s","Missing required arguments: %s",Object.keys(b).length,Object.keys(b).join(", ")+w))}},i.unknownArguments=function(l,m,b,T,w=!0){var g;let D=e.getInternalMethods().getCommandInstance().getCommands(),U=[],Y=e.getInternalMethods().getContext();if(Object.keys(l).forEach(W=>{!xi.includes(W)&&!Object.prototype.hasOwnProperty.call(b,W)&&!Object.prototype.hasOwnProperty.call(e.getInternalMethods().getParseContext(),W)&&!i.isValidAndSomeAliasIsNotNew(W,m)&&U.push(W)}),w&&(Y.commands.length>0||D.length>0||T)&&l._.slice(Y.commands.length).forEach(W=>{D.includes(""+W)||U.push(""+W)}),w){let Q=((g=e.getDemandedCommands()._)===null||g===void 0?void 0:g.max)||0,Tt=Y.commands.length+Q;Tt<l._.length&&l._.slice(Tt).forEach(wt=>{wt=String(wt),!Y.commands.includes(wt)&&!U.includes(wt)&&U.push(wt)})}U.length&&t.fail(r("Unknown argument: %s","Unknown arguments: %s",U.length,U.map(W=>W.trim()?W:`"${W}"`).join(", ")))},i.unknownCommands=function(l){let m=e.getInternalMethods().getCommandInstance().getCommands(),b=[],T=e.getInternalMethods().getContext();return(T.commands.length>0||m.length>0)&&l._.slice(T.commands.length).forEach(w=>{m.includes(""+w)||b.push(""+w)}),b.length>0?(t.fail(r("Unknown command: %s","Unknown commands: %s",b.length,b.join(", "))),!0):!1},i.isValidAndSomeAliasIsNotNew=function(l,m){if(!Object.prototype.hasOwnProperty.call(m,l))return!1;let b=e.parsed.newAliases;return[l,...m[l]].some(T=>!Object.prototype.hasOwnProperty.call(b,T)||!b[l])},i.limitedChoices=function(l){let m=e.getOptions(),b={};if(!Object.keys(m.choices).length)return;Object.keys(l).forEach(g=>{xi.indexOf(g)===-1&&Object.prototype.hasOwnProperty.call(m.choices,g)&&[].concat(l[g]).forEach(D=>{m.choices[g].indexOf(D)===-1&&D!==void 0&&(b[g]=(b[g]||[]).concat(D))})});let T=Object.keys(b);if(!T.length)return;let w=s("Invalid values:");T.forEach(g=>{w+=`
  ${s("Argument: %s, Given: %s, Choices: %s",g,t.stringifiedValues(b[g]),t.stringifiedValues(m.choices[g]))}`}),t.fail(w)};let o={};i.implies=function(l,m){x("<string|object> [array|number|string]",[l,m],arguments.length),typeof l=="object"?Object.keys(l).forEach(b=>{i.implies(b,l[b])}):(e.global(l),o[l]||(o[l]=[]),Array.isArray(m)?m.forEach(b=>i.implies(l,b)):(Ct(m,void 0,n),o[l].push(m)))},i.getImplied=function(){return o};function u(d,l){let m=Number(l);return l=isNaN(m)?l:m,typeof l=="number"?l=d._.length>=l:l.match(/^--no-.+/)?(l=l.match(/^--no-(.+)/)[1],l=!Object.prototype.hasOwnProperty.call(d,l)):l=Object.prototype.hasOwnProperty.call(d,l),l}i.implications=function(l){let m=[];if(Object.keys(o).forEach(b=>{let T=b;(o[b]||[]).forEach(w=>{let g=T,D=w;g=u(l,g),w=u(l,w),g&&!w&&m.push(` ${T} -> ${D}`)})}),m.length){let b=`${s("Implications failed:")}
`;m.forEach(T=>{b+=T}),t.fail(b)}};let p={};i.conflicts=function(l,m){x("<string|object> [array|string]",[l,m],arguments.length),typeof l=="object"?Object.keys(l).forEach(b=>{i.conflicts(b,l[b])}):(e.global(l),p[l]||(p[l]=[]),Array.isArray(m)?m.forEach(b=>i.conflicts(l,b)):p[l].push(m))},i.getConflicting=()=>p,i.conflicting=function(l){Object.keys(l).forEach(m=>{p[m]&&p[m].forEach(b=>{b&&l[m]!==void 0&&l[b]!==void 0&&t.fail(s("Arguments %s and %s are mutually exclusive",m,b))})}),e.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(p).forEach(m=>{p[m].forEach(b=>{b&&l[n.Parser.camelCase(m)]!==void 0&&l[n.Parser.camelCase(b)]!==void 0&&t.fail(s("Arguments %s and %s are mutually exclusive",m,b))})})},i.recommendCommands=function(l,m){m=m.sort((g,D)=>D.length-g.length);let T=null,w=1/0;for(let g=0,D;(D=m[g])!==void 0;g++){let U=Ii(l,D);U<=3&&U<w&&(w=U,T=D)}T&&t.fail(s("Did you mean %s?",T))},i.reset=function(l){return o=ie(o,m=>!l[m]),p=ie(p,m=>!l[m]),i};let _=[];return i.freeze=function(){_.push({implied:o,conflicting:p})},i.unfreeze=function(){let l=_.pop();Ct(l,void 0,n),{implied:o,conflicting:p}=l},i}var ys=[],Qe;function Je(e,t,n,s){Qe=s;let r={};if(Object.prototype.hasOwnProperty.call(e,"extends")){if(typeof e.extends!="string")return r;let i=/\.json|\..*rc$/.test(e.extends),o=null;if(i)o=Uu(t,e.extends);else try{o=require.resolve(e.extends)}catch{return e}Gu(o),ys.push(o),r=i?JSON.parse(Qe.readFileSync(o,"utf8")):require(e.extends),delete e.extends,r=Je(r,Qe.path.dirname(o),n,Qe)}return ys=[],n?Pi(r,e):Object.assign({},r,e)}function Gu(e){if(ys.indexOf(e)>-1)throw new et(`Circular extended configurations: '${e}'.`)}function Uu(e,t){return Qe.path.resolve(e,t)}function Pi(e,t){let n={};function s(r){return r&&typeof r=="object"&&!Array.isArray(r)}Object.assign(n,e);for(let r of Object.keys(t))s(t[r])&&s(n[r])?n[r]=Pi(e[r],t[r]):n[r]=t[r];return n}var j=function(e,t,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n},a=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},pt,_e,Ze,$t,St,vn,ae,Ee,Tn,Nt,An,Lt,Xt,It,Ft,Fe,gt,k,Sn,In,xt,we,De,Oe,ce,xn,F,Ce,ve,Te,G,Qt,lt;function Ki(e){return(t=[],n=e.process.cwd(),s)=>{let r=new Xi(t,n,s,e);return Object.defineProperty(r,"argv",{get:()=>r.parse(),enumerable:!0}),r.help(),r.version(),r}}var ji=Symbol("copyDoubleDash"),Mi=Symbol("copyDoubleDash"),_s=Symbol("deleteFromParserHintObject"),ki=Symbol("emitWarning"),$i=Symbol("freeze"),Ni=Symbol("getDollarZero"),Ae=Symbol("getParserConfiguration"),Es=Symbol("guessLocale"),Li=Symbol("guessVersion"),Fi=Symbol("parsePositionalNumbers"),ws=Symbol("pkgUp"),ue=Symbol("populateParserHintArray"),Be=Symbol("populateParserHintSingleValueDictionary"),Os=Symbol("populateParserHintArrayDictionary"),Cs=Symbol("populateParserHintDictionary"),vs=Symbol("sanitizeKey"),Ts=Symbol("setKey"),As=Symbol("unfreeze"),Di=Symbol("validateAsync"),Bi=Symbol("getCommandInstance"),Gi=Symbol("getContext"),Ui=Symbol("getHasOutput"),Wi=Symbol("getLoggerInstance"),zi=Symbol("getParseContext"),qi=Symbol("getUsageInstance"),Hi=Symbol("getValidationInstance"),Rn=Symbol("hasParseCallback"),Se=Symbol("postProcess"),Vi=Symbol("rebase"),Ss=Symbol("reset"),tn=Symbol("runYargsParserAndExecuteCommands"),Is=Symbol("runValidation"),Yi=Symbol("setHasOutput"),Ie=Symbol("kTrackManuallySetKeys"),Xi=class{constructor(t=[],n,s,r){this.customScriptName=!1,this.parsed=!1,pt.set(this,void 0),_e.set(this,void 0),Ze.set(this,{commands:[],fullCommands:[]}),$t.set(this,null),St.set(this,null),vn.set(this,"show-hidden"),ae.set(this,null),Ee.set(this,!0),Tn.set(this,{}),Nt.set(this,!0),An.set(this,[]),Lt.set(this,void 0),Xt.set(this,{}),It.set(this,!1),Ft.set(this,null),Fe.set(this,void 0),gt.set(this,""),k.set(this,void 0),Sn.set(this,void 0),In.set(this,{}),xt.set(this,null),we.set(this,null),De.set(this,{}),Oe.set(this,{}),ce.set(this,void 0),xn.set(this,!1),F.set(this,void 0),Ce.set(this,!1),ve.set(this,!1),Te.set(this,!1),G.set(this,void 0),Qt.set(this,null),lt.set(this,void 0),j(this,F,r,"f"),j(this,ce,t,"f"),j(this,_e,n,"f"),j(this,Sn,s,"f"),j(this,Lt,new ms(this),"f"),this.$0=this[Ni](),this[Ss](),j(this,pt,a(this,pt,"f"),"f"),j(this,G,a(this,G,"f"),"f"),j(this,lt,a(this,lt,"f"),"f"),j(this,k,a(this,k,"f"),"f"),a(this,k,"f").showHiddenOpt=a(this,vn,"f"),j(this,Fe,this[Mi](),"f")}addHelpOpt(t,n){let s="help";return x("[string|boolean] [string]",[t,n],arguments.length),a(this,Ft,"f")&&(this[_s](a(this,Ft,"f")),j(this,Ft,null,"f")),t===!1&&n===void 0?this:(j(this,Ft,typeof t=="string"?t:s,"f"),this.boolean(a(this,Ft,"f")),this.describe(a(this,Ft,"f"),n||a(this,G,"f").deferY18nLookup("Show help")),this)}help(t,n){return this.addHelpOpt(t,n)}addShowHiddenOpt(t,n){if(x("[string|boolean] [string]",[t,n],arguments.length),t===!1&&n===void 0)return this;let s=typeof t=="string"?t:a(this,vn,"f");return this.boolean(s),this.describe(s,n||a(this,G,"f").deferY18nLookup("Show hidden options")),a(this,k,"f").showHiddenOpt=s,this}showHidden(t,n){return this.addShowHiddenOpt(t,n)}alias(t,n){return x("<object|string|array> [string|array]",[t,n],arguments.length),this[Os](this.alias.bind(this),"alias",t,n),this}array(t){return x("<array|string>",[t],arguments.length),this[ue]("array",t),this[Ie](t),this}boolean(t){return x("<array|string>",[t],arguments.length),this[ue]("boolean",t),this[Ie](t),this}check(t,n){return x("<function> [boolean]",[t,n],arguments.length),this.middleware((s,r)=>ye(()=>t(s,r.getOptions()),i=>(i?(typeof i=="string"||i instanceof Error)&&a(this,G,"f").fail(i.toString(),i):a(this,G,"f").fail(a(this,F,"f").y18n.__("Argument check failed: %s",t.toString())),s),i=>(a(this,G,"f").fail(i.message?i.message:i.toString(),i),s)),!1,n),this}choices(t,n){return x("<object|string|array> [string|array]",[t,n],arguments.length),this[Os](this.choices.bind(this),"choices",t,n),this}coerce(t,n){if(x("<object|string|array> [function]",[t,n],arguments.length),Array.isArray(t)){if(!n)throw new et("coerce callback must be provided");for(let s of t)this.coerce(s,n);return this}else if(typeof t=="object"){for(let s of Object.keys(t))this.coerce(s,t[s]);return this}if(!n)throw new et("coerce callback must be provided");return a(this,k,"f").key[t]=!0,a(this,Lt,"f").addCoerceMiddleware((s,r)=>{let i;return ye(()=>(i=r.getAliases(),n(s[t])),o=>{if(s[t]=o,i[t])for(let u of i[t])s[u]=o;return s},o=>{throw new et(o.message)})},t),this}conflicts(t,n){return x("<string|object> [string|array]",[t,n],arguments.length),a(this,lt,"f").conflicts(t,n),this}config(t="config",n,s){return x("[object|string] [string|function] [function]",[t,n,s],arguments.length),typeof t=="object"&&!Array.isArray(t)?(t=Je(t,a(this,_e,"f"),this[Ae]()["deep-merge-config"]||!1,a(this,F,"f")),a(this,k,"f").configObjects=(a(this,k,"f").configObjects||[]).concat(t),this):(typeof n=="function"&&(s=n,n=void 0),this.describe(t,n||a(this,G,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(t)?t:[t]).forEach(r=>{a(this,k,"f").config[r]=s||!0}),this)}completion(t,n,s){return x("[string] [string|boolean|function] [function]",[t,n,s],arguments.length),typeof n=="function"&&(s=n,n=void 0),j(this,St,t||a(this,St,"f")||"completion","f"),!n&&n!==!1&&(n="generate completion script"),this.command(a(this,St,"f"),n),s&&a(this,$t,"f").registerFunction(s),this}command(t,n,s,r,i,o){return x("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[t,n,s,r,i,o],arguments.length),a(this,pt,"f").addHandler(t,n,s,r,i,o),this}commands(t,n,s,r,i,o){return this.command(t,n,s,r,i,o)}commandDir(t,n){x("<string> [object]",[t,n],arguments.length);let s=a(this,Sn,"f")||a(this,F,"f").require;return a(this,pt,"f").addDirectory(t,s,a(this,F,"f").getCallerFile(),n),this}count(t){return x("<array|string>",[t],arguments.length),this[ue]("count",t),this[Ie](t),this}default(t,n,s){return x("<object|string|array> [*] [string]",[t,n,s],arguments.length),s&&(ds(t,a(this,F,"f")),a(this,k,"f").defaultDescription[t]=s),typeof n=="function"&&(ds(t,a(this,F,"f")),a(this,k,"f").defaultDescription[t]||(a(this,k,"f").defaultDescription[t]=a(this,G,"f").functionDescription(n)),n=n.call()),this[Be](this.default.bind(this),"default",t,n),this}defaults(t,n,s){return this.default(t,n,s)}demandCommand(t=1,n,s,r){return x("[number] [number|string] [string|null|undefined] [string|null|undefined]",[t,n,s,r],arguments.length),typeof n!="number"&&(s=n,n=1/0),this.global("_",!1),a(this,k,"f").demandedCommands._={min:t,max:n,minMsg:s,maxMsg:r},this}demand(t,n,s){return Array.isArray(n)?(n.forEach(r=>{Ct(s,!0,a(this,F,"f")),this.demandOption(r,s)}),n=1/0):typeof n!="number"&&(s=n,n=1/0),typeof t=="number"?(Ct(s,!0,a(this,F,"f")),this.demandCommand(t,n,s,s)):Array.isArray(t)?t.forEach(r=>{Ct(s,!0,a(this,F,"f")),this.demandOption(r,s)}):typeof s=="string"?this.demandOption(t,s):(s===!0||typeof s>"u")&&this.demandOption(t),this}demandOption(t,n){return x("<object|string|array> [string]",[t,n],arguments.length),this[Be](this.demandOption.bind(this),"demandedOptions",t,n),this}deprecateOption(t,n){return x("<string> [string|boolean]",[t,n],arguments.length),a(this,k,"f").deprecatedOptions[t]=n,this}describe(t,n){return x("<object|string|array> [string]",[t,n],arguments.length),this[Ts](t,!0),a(this,G,"f").describe(t,n),this}detectLocale(t){return x("<boolean>",[t],arguments.length),j(this,Ee,t,"f"),this}env(t){return x("[string|boolean]",[t],arguments.length),t===!1?delete a(this,k,"f").envPrefix:a(this,k,"f").envPrefix=t||"",this}epilogue(t){return x("<string>",[t],arguments.length),a(this,G,"f").epilog(t),this}epilog(t){return this.epilogue(t)}example(t,n){return x("<string|array> [string]",[t,n],arguments.length),Array.isArray(t)?t.forEach(s=>this.example(...s)):a(this,G,"f").example(t,n),this}exit(t,n){j(this,It,!0,"f"),j(this,ae,n,"f"),a(this,Nt,"f")&&a(this,F,"f").process.exit(t)}exitProcess(t=!0){return x("[boolean]",[t],arguments.length),j(this,Nt,t,"f"),this}fail(t){if(x("<function|boolean>",[t],arguments.length),typeof t=="boolean"&&t!==!1)throw new et("Invalid first argument. Expected function or boolean 'false'");return a(this,G,"f").failFn(t),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(t,n){return x("<array> [function]",[t,n],arguments.length),n?a(this,$t,"f").getCompletion(t,n):new Promise((s,r)=>{a(this,$t,"f").getCompletion(t,(i,o)=>{i?r(i):s(o)})})}getDemandedOptions(){return x([],0),a(this,k,"f").demandedOptions}getDemandedCommands(){return x([],0),a(this,k,"f").demandedCommands}getDeprecatedOptions(){return x([],0),a(this,k,"f").deprecatedOptions}getDetectLocale(){return a(this,Ee,"f")}getExitProcess(){return a(this,Nt,"f")}getGroups(){return Object.assign({},a(this,Xt,"f"),a(this,Oe,"f"))}getHelp(){if(j(this,It,!0,"f"),!a(this,G,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[tn](a(this,ce,"f"),void 0,void 0,0,!0);if(ot(n))return n.then(()=>a(this,G,"f").help())}let t=a(this,pt,"f").runDefaultBuilderOn(this);if(ot(t))return t.then(()=>a(this,G,"f").help())}return Promise.resolve(a(this,G,"f").help())}getOptions(){return a(this,k,"f")}getStrict(){return a(this,Ce,"f")}getStrictCommands(){return a(this,ve,"f")}getStrictOptions(){return a(this,Te,"f")}global(t,n){return x("<string|array> [boolean]",[t,n],arguments.length),t=[].concat(t),n!==!1?a(this,k,"f").local=a(this,k,"f").local.filter(s=>t.indexOf(s)===-1):t.forEach(s=>{a(this,k,"f").local.includes(s)||a(this,k,"f").local.push(s)}),this}group(t,n){x("<string|array> <string>",[t,n],arguments.length);let s=a(this,Oe,"f")[n]||a(this,Xt,"f")[n];a(this,Oe,"f")[n]&&delete a(this,Oe,"f")[n];let r={};return a(this,Xt,"f")[n]=(s||[]).concat(t).filter(i=>r[i]?!1:r[i]=!0),this}hide(t){return x("<string>",[t],arguments.length),a(this,k,"f").hiddenOptions.push(t),this}implies(t,n){return x("<string|object> [number|string|array]",[t,n],arguments.length),a(this,lt,"f").implies(t,n),this}locale(t){return x("[string]",[t],arguments.length),t?(j(this,Ee,!1,"f"),a(this,F,"f").y18n.setLocale(t),this):(this[Es](),a(this,F,"f").y18n.getLocale())}middleware(t,n,s){return a(this,Lt,"f").addMiddleware(t,!!n,s)}nargs(t,n){return x("<string|object|array> [number]",[t,n],arguments.length),this[Be](this.nargs.bind(this),"narg",t,n),this}normalize(t){return x("<array|string>",[t],arguments.length),this[ue]("normalize",t),this}number(t){return x("<array|string>",[t],arguments.length),this[ue]("number",t),this[Ie](t),this}option(t,n){if(x("<string|object> [object]",[t,n],arguments.length),typeof t=="object")Object.keys(t).forEach(s=>{this.options(s,t[s])});else{typeof n!="object"&&(n={}),this[Ie](t),a(this,Qt,"f")&&(t==="version"||(n==null?void 0:n.alias)==="version")&&this[ki](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),a(this,k,"f").key[t]=!0,n.alias&&this.alias(t,n.alias);let s=n.deprecate||n.deprecated;s&&this.deprecateOption(t,s);let r=n.demand||n.required||n.require;r&&this.demand(t,r),n.demandOption&&this.demandOption(t,typeof n.demandOption=="string"?n.demandOption:void 0),n.conflicts&&this.conflicts(t,n.conflicts),"default"in n&&this.default(t,n.default),n.implies!==void 0&&this.implies(t,n.implies),n.nargs!==void 0&&this.nargs(t,n.nargs),n.config&&this.config(t,n.configParser),n.normalize&&this.normalize(t),n.choices&&this.choices(t,n.choices),n.coerce&&this.coerce(t,n.coerce),n.group&&this.group(t,n.group),(n.boolean||n.type==="boolean")&&(this.boolean(t),n.alias&&this.boolean(n.alias)),(n.array||n.type==="array")&&(this.array(t),n.alias&&this.array(n.alias)),(n.number||n.type==="number")&&(this.number(t),n.alias&&this.number(n.alias)),(n.string||n.type==="string")&&(this.string(t),n.alias&&this.string(n.alias)),(n.count||n.type==="count")&&this.count(t),typeof n.global=="boolean"&&this.global(t,n.global),n.defaultDescription&&(a(this,k,"f").defaultDescription[t]=n.defaultDescription),n.skipValidation&&this.skipValidation(t);let i=n.describe||n.description||n.desc;this.describe(t,i),n.hidden&&this.hide(t),n.requiresArg&&this.requiresArg(t)}return this}options(t,n){return this.option(t,n)}parse(t,n,s){x("[string|array] [function|boolean|object] [function]",[t,n,s],arguments.length),this[$i](),typeof t>"u"&&(t=a(this,ce,"f")),typeof n=="object"&&(j(this,we,n,"f"),n=s),typeof n=="function"&&(j(this,xt,n,"f"),n=!1),n||j(this,ce,t,"f"),a(this,xt,"f")&&j(this,Nt,!1,"f");let r=this[tn](t,!!n),i=this.parsed;return a(this,$t,"f").setParsed(this.parsed),ot(r)?r.then(o=>(a(this,xt,"f")&&a(this,xt,"f").call(this,a(this,ae,"f"),o,a(this,gt,"f")),o)).catch(o=>{throw a(this,xt,"f")&&a(this,xt,"f")(o,this.parsed.argv,a(this,gt,"f")),o}).finally(()=>{this[As](),this.parsed=i}):(a(this,xt,"f")&&a(this,xt,"f").call(this,a(this,ae,"f"),r,a(this,gt,"f")),this[As](),this.parsed=i,r)}parseAsync(t,n,s){let r=this.parse(t,n,s);return ot(r)?r:Promise.resolve(r)}parseSync(t,n,s){let r=this.parse(t,n,s);if(ot(r))throw new et(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return r}parserConfiguration(t){return x("<object>",[t],arguments.length),j(this,In,t,"f"),this}pkgConf(t,n){x("<string> [string]",[t,n],arguments.length);let s=null,r=this[ws](n||a(this,_e,"f"));return r[t]&&typeof r[t]=="object"&&(s=Je(r[t],n||a(this,_e,"f"),this[Ae]()["deep-merge-config"]||!1,a(this,F,"f")),a(this,k,"f").configObjects=(a(this,k,"f").configObjects||[]).concat(s)),this}positional(t,n){x("<string> <object>",[t,n],arguments.length);let s=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];n=ie(n,(o,u)=>o==="type"&&!["string","number","boolean"].includes(u)?!1:s.includes(o));let r=a(this,Ze,"f").fullCommands[a(this,Ze,"f").fullCommands.length-1],i=r?a(this,pt,"f").cmdToParseOptions(r):{array:[],alias:{},default:{},demand:{}};return Ne(i).forEach(o=>{let u=i[o];Array.isArray(u)?u.indexOf(t)!==-1&&(n[o]=!0):u[t]&&!(o in n)&&(n[o]=u[t])}),this.group(t,a(this,G,"f").getPositionalGroupName()),this.option(t,n)}recommendCommands(t=!0){return x("[boolean]",[t],arguments.length),j(this,xn,t,"f"),this}required(t,n,s){return this.demand(t,n,s)}require(t,n,s){return this.demand(t,n,s)}requiresArg(t){return x("<array|string|object> [number]",[t],arguments.length),typeof t=="string"&&a(this,k,"f").narg[t]?this:(this[Be](this.requiresArg.bind(this),"narg",t,NaN),this)}showCompletionScript(t,n){return x("[string] [string]",[t,n],arguments.length),t=t||this.$0,a(this,Fe,"f").log(a(this,$t,"f").generateCompletionScript(t,n||a(this,St,"f")||"completion")),this}showHelp(t){if(x("[string|function]",[t],arguments.length),j(this,It,!0,"f"),!a(this,G,"f").hasCachedHelpMessage()){if(!this.parsed){let s=this[tn](a(this,ce,"f"),void 0,void 0,0,!0);if(ot(s))return s.then(()=>{a(this,G,"f").showHelp(t)}),this}let n=a(this,pt,"f").runDefaultBuilderOn(this);if(ot(n))return n.then(()=>{a(this,G,"f").showHelp(t)}),this}return a(this,G,"f").showHelp(t),this}scriptName(t){return this.customScriptName=!0,this.$0=t,this}showHelpOnFail(t,n){return x("[boolean|string] [string]",[t,n],arguments.length),a(this,G,"f").showHelpOnFail(t,n),this}showVersion(t){return x("[string|function]",[t],arguments.length),a(this,G,"f").showVersion(t),this}skipValidation(t){return x("<array|string>",[t],arguments.length),this[ue]("skipValidation",t),this}strict(t){return x("[boolean]",[t],arguments.length),j(this,Ce,t!==!1,"f"),this}strictCommands(t){return x("[boolean]",[t],arguments.length),j(this,ve,t!==!1,"f"),this}strictOptions(t){return x("[boolean]",[t],arguments.length),j(this,Te,t!==!1,"f"),this}string(t){return x("<array|string>",[t],arguments.length),this[ue]("string",t),this[Ie](t),this}terminalWidth(){return x([],0),a(this,F,"f").process.stdColumns}updateLocale(t){return this.updateStrings(t)}updateStrings(t){return x("<object>",[t],arguments.length),j(this,Ee,!1,"f"),a(this,F,"f").y18n.updateLocale(t),this}usage(t,n,s,r){if(x("<string|null|undefined> [string|boolean] [function|object] [function]",[t,n,s,r],arguments.length),n!==void 0){if(Ct(t,null,a(this,F,"f")),(t||"").match(/^\$0( |$)/))return this.command(t,n,s,r);throw new et(".usage() description must start with $0 if being used as alias for .command()")}else return a(this,G,"f").usage(t),this}version(t,n,s){let r="version";if(x("[boolean|string] [string] [string]",[t,n,s],arguments.length),a(this,Qt,"f")&&(this[_s](a(this,Qt,"f")),a(this,G,"f").version(void 0),j(this,Qt,null,"f")),arguments.length===0)s=this[Li](),t=r;else if(arguments.length===1){if(t===!1)return this;s=t,t=r}else arguments.length===2&&(s=n,n=void 0);return j(this,Qt,typeof t=="string"?t:r,"f"),n=n||a(this,G,"f").deferY18nLookup("Show version number"),a(this,G,"f").version(s||void 0),this.boolean(a(this,Qt,"f")),this.describe(a(this,Qt,"f"),n),this}wrap(t){return x("<number|null|undefined>",[t],arguments.length),a(this,G,"f").wrap(t),this}[(pt=new WeakMap,_e=new WeakMap,Ze=new WeakMap,$t=new WeakMap,St=new WeakMap,vn=new WeakMap,ae=new WeakMap,Ee=new WeakMap,Tn=new WeakMap,Nt=new WeakMap,An=new WeakMap,Lt=new WeakMap,Xt=new WeakMap,It=new WeakMap,Ft=new WeakMap,Fe=new WeakMap,gt=new WeakMap,k=new WeakMap,Sn=new WeakMap,In=new WeakMap,xt=new WeakMap,we=new WeakMap,De=new WeakMap,Oe=new WeakMap,ce=new WeakMap,xn=new WeakMap,F=new WeakMap,Ce=new WeakMap,ve=new WeakMap,Te=new WeakMap,G=new WeakMap,Qt=new WeakMap,lt=new WeakMap,ji)](t){if(!t._||!t["--"])return t;t._.push.apply(t._,t["--"]);try{delete t["--"]}catch{}return t}[Mi](){return{log:(...t)=>{this[Rn]()||console.log(...t),j(this,It,!0,"f"),a(this,gt,"f").length&&j(this,gt,a(this,gt,"f")+`
`,"f"),j(this,gt,a(this,gt,"f")+t.join(" "),"f")},error:(...t)=>{this[Rn]()||console.error(...t),j(this,It,!0,"f"),a(this,gt,"f").length&&j(this,gt,a(this,gt,"f")+`
`,"f"),j(this,gt,a(this,gt,"f")+t.join(" "),"f")}}}[_s](t){Ne(a(this,k,"f")).forEach(n=>{if((r=>r==="configObjects")(n))return;let s=a(this,k,"f")[n];Array.isArray(s)?s.includes(t)&&s.splice(s.indexOf(t),1):typeof s=="object"&&delete s[t]}),delete a(this,G,"f").getDescriptions()[t]}[ki](t,n,s){a(this,Tn,"f")[s]||(a(this,F,"f").process.emitWarning(t,n),a(this,Tn,"f")[s]=!0)}[$i](){a(this,An,"f").push({options:a(this,k,"f"),configObjects:a(this,k,"f").configObjects.slice(0),exitProcess:a(this,Nt,"f"),groups:a(this,Xt,"f"),strict:a(this,Ce,"f"),strictCommands:a(this,ve,"f"),strictOptions:a(this,Te,"f"),completionCommand:a(this,St,"f"),output:a(this,gt,"f"),exitError:a(this,ae,"f"),hasOutput:a(this,It,"f"),parsed:this.parsed,parseFn:a(this,xt,"f"),parseContext:a(this,we,"f")}),a(this,G,"f").freeze(),a(this,lt,"f").freeze(),a(this,pt,"f").freeze(),a(this,Lt,"f").freeze()}[Ni](){let t="",n;return/\b(node|iojs|electron)(\.exe)?$/.test(a(this,F,"f").process.argv()[0])?n=a(this,F,"f").process.argv().slice(1,2):n=a(this,F,"f").process.argv().slice(0,1),t=n.map(s=>{let r=this[Vi](a(this,_e,"f"),s);return s.match(/^(\/|([a-zA-Z]:)?\\)/)&&r.length<s.length?r:s}).join(" ").trim(),a(this,F,"f").getEnv("_")&&a(this,F,"f").getProcessArgvBin()===a(this,F,"f").getEnv("_")&&(t=a(this,F,"f").getEnv("_").replace(`${a(this,F,"f").path.dirname(a(this,F,"f").process.execPath())}/`,"")),t}[Ae](){return a(this,In,"f")}[Es](){if(!a(this,Ee,"f"))return;let t=a(this,F,"f").getEnv("LC_ALL")||a(this,F,"f").getEnv("LC_MESSAGES")||a(this,F,"f").getEnv("LANG")||a(this,F,"f").getEnv("LANGUAGE")||"en_US";this.locale(t.replace(/[.:].*/,""))}[Li](){return this[ws]().version||"unknown"}[Fi](t){let n=t["--"]?t["--"]:t._;for(let s=0,r;(r=n[s])!==void 0;s++)a(this,F,"f").Parser.looksLikeNumber(r)&&Number.isSafeInteger(Math.floor(parseFloat(`${r}`)))&&(n[s]=Number(r));return t}[ws](t){let n=t||"*";if(a(this,De,"f")[n])return a(this,De,"f")[n];let s={};try{let r=t||a(this,F,"f").mainFilename;!t&&a(this,F,"f").path.extname(r)&&(r=a(this,F,"f").path.dirname(r));let i=a(this,F,"f").findUp(r,(o,u)=>{if(u.includes("package.json"))return"package.json"});Ct(i,void 0,a(this,F,"f")),s=JSON.parse(a(this,F,"f").readFileSync(i,"utf8"))}catch{}return a(this,De,"f")[n]=s||{},a(this,De,"f")[n]}[ue](t,n){n=[].concat(n),n.forEach(s=>{s=this[vs](s),a(this,k,"f")[t].push(s)})}[Be](t,n,s,r){this[Cs](t,n,s,r,(i,o,u)=>{a(this,k,"f")[i][o]=u})}[Os](t,n,s,r){this[Cs](t,n,s,r,(i,o,u)=>{a(this,k,"f")[i][o]=(a(this,k,"f")[i][o]||[]).concat(u)})}[Cs](t,n,s,r,i){if(Array.isArray(s))s.forEach(o=>{t(o,r)});else if((o=>typeof o=="object")(s))for(let o of Ne(s))t(o,s[o]);else i(n,this[vs](s),r)}[vs](t){return t==="__proto__"?"___proto___":t}[Ts](t,n){return this[Be](this[Ts].bind(this),"key",t,n),this}[As](){var t,n,s,r,i,o,u,p,_,d,l,m;let b=a(this,An,"f").pop();Ct(b,void 0,a(this,F,"f"));let T;t=this,n=this,s=this,r=this,i=this,o=this,u=this,p=this,_=this,d=this,l=this,m=this,{options:{set value(w){j(t,k,w,"f")}}.value,configObjects:T,exitProcess:{set value(w){j(n,Nt,w,"f")}}.value,groups:{set value(w){j(s,Xt,w,"f")}}.value,output:{set value(w){j(r,gt,w,"f")}}.value,exitError:{set value(w){j(i,ae,w,"f")}}.value,hasOutput:{set value(w){j(o,It,w,"f")}}.value,parsed:this.parsed,strict:{set value(w){j(u,Ce,w,"f")}}.value,strictCommands:{set value(w){j(p,ve,w,"f")}}.value,strictOptions:{set value(w){j(_,Te,w,"f")}}.value,completionCommand:{set value(w){j(d,St,w,"f")}}.value,parseFn:{set value(w){j(l,xt,w,"f")}}.value,parseContext:{set value(w){j(m,we,w,"f")}}.value}=b,a(this,k,"f").configObjects=T,a(this,G,"f").unfreeze(),a(this,lt,"f").unfreeze(),a(this,pt,"f").unfreeze(),a(this,Lt,"f").unfreeze()}[Di](t,n){return ye(n,s=>(t(s),s))}getInternalMethods(){return{getCommandInstance:this[Bi].bind(this),getContext:this[Gi].bind(this),getHasOutput:this[Ui].bind(this),getLoggerInstance:this[Wi].bind(this),getParseContext:this[zi].bind(this),getParserConfiguration:this[Ae].bind(this),getUsageInstance:this[qi].bind(this),getValidationInstance:this[Hi].bind(this),hasParseCallback:this[Rn].bind(this),postProcess:this[Se].bind(this),reset:this[Ss].bind(this),runValidation:this[Is].bind(this),runYargsParserAndExecuteCommands:this[tn].bind(this),setHasOutput:this[Yi].bind(this)}}[Bi](){return a(this,pt,"f")}[Gi](){return a(this,Ze,"f")}[Ui](){return a(this,It,"f")}[Wi](){return a(this,Fe,"f")}[zi](){return a(this,we,"f")||{}}[qi](){return a(this,G,"f")}[Hi](){return a(this,lt,"f")}[Rn](){return!!a(this,xt,"f")}[Se](t,n,s,r){return s||ot(t)||(n||(t=this[ji](t)),(this[Ae]()["parse-positional-numbers"]||this[Ae]()["parse-positional-numbers"]===void 0)&&(t=this[Fi](t)),r&&(t=be(t,this,a(this,Lt,"f").getMiddleware(),!1))),t}[Ss](t={}){j(this,k,a(this,k,"f")||{},"f");let n={};n.local=a(this,k,"f").local||[],n.configObjects=a(this,k,"f").configObjects||[];let s={};n.local.forEach(o=>{s[o]=!0,(t[o]||[]).forEach(u=>{s[u]=!0})}),Object.assign(a(this,Oe,"f"),Object.keys(a(this,Xt,"f")).reduce((o,u)=>{let p=a(this,Xt,"f")[u].filter(_=>!(_ in s));return p.length>0&&(o[u]=p),o},{})),j(this,Xt,{},"f");let r=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],i=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return r.forEach(o=>{n[o]=(a(this,k,"f")[o]||[]).filter(u=>!s[u])}),i.forEach(o=>{n[o]=ie(a(this,k,"f")[o],u=>!s[u])}),n.envPrefix=a(this,k,"f").envPrefix,j(this,k,n,"f"),j(this,G,a(this,G,"f")?a(this,G,"f").reset(s):Ci(this,a(this,F,"f")),"f"),j(this,lt,a(this,lt,"f")?a(this,lt,"f").reset(s):Ri(this,a(this,G,"f"),a(this,F,"f")),"f"),j(this,pt,a(this,pt,"f")?a(this,pt,"f").reset():Ei(a(this,G,"f"),a(this,lt,"f"),a(this,Lt,"f"),a(this,F,"f")),"f"),a(this,$t,"f")||j(this,$t,Si(this,a(this,G,"f"),a(this,pt,"f"),a(this,F,"f")),"f"),a(this,Lt,"f").reset(),j(this,St,null,"f"),j(this,gt,"","f"),j(this,ae,null,"f"),j(this,It,!1,"f"),this.parsed=!1,this}[Vi](t,n){return a(this,F,"f").path.relative(t,n)}[tn](t,n,s,r=0,i=!1){let o=!!s||i;t=t||a(this,ce,"f"),a(this,k,"f").__=a(this,F,"f").y18n.__,a(this,k,"f").configuration=this[Ae]();let u=!!a(this,k,"f").configuration["populate--"],p=Object.assign({},a(this,k,"f").configuration,{"populate--":!0}),_=a(this,F,"f").Parser.detailed(t,Object.assign({},a(this,k,"f"),{configuration:Me({"parse-positional-numbers":!1},p)})),d=Object.assign(_.argv,a(this,we,"f")),l,m=_.aliases,b=!1,T=!1;Object.keys(d).forEach(w=>{w===a(this,Ft,"f")&&d[w]?b=!0:w===a(this,Qt,"f")&&d[w]&&(T=!0)}),d.$0=this.$0,this.parsed=_,r===0&&a(this,G,"f").clearCachedHelpMessage();try{if(this[Es](),n)return this[Se](d,u,!!s,!1);a(this,Ft,"f")&&[a(this,Ft,"f")].concat(m[a(this,Ft,"f")]||[]).filter(Y=>Y.length>1).includes(""+d._[d._.length-1])&&(d._.pop(),b=!0);let w=a(this,pt,"f").getCommands(),g=a(this,$t,"f").completionKey in d,D=b||g||i;if(d._.length){if(w.length){let U;for(let Y=r||0,W;d._[Y]!==void 0;Y++)if(W=String(d._[Y]),w.includes(W)&&W!==a(this,St,"f")){let Q=a(this,pt,"f").runCommand(W,this,_,Y+1,i,b||T||i);return this[Se](Q,u,!!s,!1)}else if(!U&&W!==a(this,St,"f")){U=W;break}!a(this,pt,"f").hasDefaultCommand()&&a(this,xn,"f")&&U&&!D&&a(this,lt,"f").recommendCommands(U,w)}a(this,St,"f")&&d._.includes(a(this,St,"f"))&&!g&&(a(this,Nt,"f")&&oe(!0),this.showCompletionScript(),this.exit(0))}if(a(this,pt,"f").hasDefaultCommand()&&!D){let U=a(this,pt,"f").runCommand(null,this,_,0,i,b||T||i);return this[Se](U,u,!!s,!1)}if(g){a(this,Nt,"f")&&oe(!0),t=[].concat(t);let U=t.slice(t.indexOf(`--${a(this,$t,"f").completionKey}`)+1);return a(this,$t,"f").getCompletion(U,(Y,W)=>{if(Y)throw new et(Y.message);(W||[]).forEach(Q=>{a(this,Fe,"f").log(Q)}),this.exit(0)}),this[Se](d,!u,!!s,!1)}if(a(this,It,"f")||(b?(a(this,Nt,"f")&&oe(!0),o=!0,this.showHelp("log"),this.exit(0)):T&&(a(this,Nt,"f")&&oe(!0),o=!0,a(this,G,"f").showVersion("log"),this.exit(0))),!o&&a(this,k,"f").skipValidation.length>0&&(o=Object.keys(d).some(U=>a(this,k,"f").skipValidation.indexOf(U)>=0&&d[U]===!0)),!o){if(_.error)throw new et(_.error.message);if(!g){let U=this[Is](m,{},_.error);s||(l=be(d,this,a(this,Lt,"f").getMiddleware(),!0)),l=this[Di](U,l??d),ot(l)&&!s&&(l=l.then(()=>be(d,this,a(this,Lt,"f").getMiddleware(),!1)))}}}catch(w){if(w instanceof et)a(this,G,"f").fail(w.message,w);else throw w}return this[Se](l??d,u,!!s,!0)}[Is](t,n,s,r){let i=Me({},this.getDemandedOptions());return o=>{if(s)throw new et(s.message);a(this,lt,"f").nonOptionCount(o),a(this,lt,"f").requiredArguments(o,i);let u=!1;a(this,ve,"f")&&(u=a(this,lt,"f").unknownCommands(o)),a(this,Ce,"f")&&!u?a(this,lt,"f").unknownArguments(o,t,n,!!r):a(this,Te,"f")&&a(this,lt,"f").unknownArguments(o,t,{},!1,!1),a(this,lt,"f").limitedChoices(o),a(this,lt,"f").implications(o),a(this,lt,"f").conflicting(o)}}[Yi](){j(this,It,!0,"f")}[Ie](t){if(typeof t=="string")a(this,k,"f").key[t]=!0;else for(let n of t)a(this,k,"f").key[n]=!0}};function wi(e){return!!e&&typeof e.getInternalMethods=="function"}var Wu=Ki(ps),Qi=Wu;var Hn=me(uo(),1),zn=me(js(),1),Aa=require("child_process"),rc=me(ks(),1),He=me(ks(),1),qn=Object.defineProperty,_l=Object.defineProperties,El=Object.getOwnPropertyDescriptor,wl=Object.getOwnPropertyDescriptors,Js=Object.getOwnPropertyNames,lo=Object.getOwnPropertySymbols,Lo=Object.prototype.hasOwnProperty,Ol=Object.prototype.propertyIsEnumerable,fo=(e,t,n)=>t in e?qn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jt=(e,t)=>{for(var n in t||(t={}))Lo.call(t,n)&&fo(e,n,t[n]);if(lo)for(var n of lo(t))Ol.call(t,n)&&fo(e,n,t[n]);return e},Fs=(e,t)=>_l(e,wl(t)),Cl=e=>qn(e,"__esModule",{value:!0}),C=(e,t)=>function(){return e&&(t=(0,e[Js(e)[0]])(e=0)),t},vl=(e,t)=>function(){return t||(0,e[Js(e)[0]])((t={exports:{}}).exports,t),t.exports},ft=(e,t)=>{for(var n in t)qn(e,n,{get:t[n],enumerable:!0})},Tl=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Js(t))!Lo.call(e,r)&&(n||r!=="default")&&qn(e,r,{get:()=>t[r],enumerable:!(s=El(t,r))||s.enumerable});return e},ut=(e=>(t,n)=>e&&e.get(t)||(n=Tl(Cl({}),t,1),e&&e.set(t,n),n))(typeof WeakMap<"u"?new WeakMap:0),nn=(e,t,n)=>new Promise((s,r)=>{var i=p=>{try{u(n.next(p))}catch(_){r(_)}},o=p=>{try{u(n.throw(p))}catch(_){r(_)}},u=p=>p.done?s(p.value):Promise.resolve(p.value).then(i,o);u((n=n.apply(e,t)).next())}),ne,pe=C({"src/lib/errors/git-error.ts"(){ne=class extends Error{constructor(e,t){super(t);this.task=e,Object.setPrototypeOf(this,new.target.prototype)}}}}),on,Ve=C({"src/lib/errors/git-response-error.ts"(){pe(),on=class extends ne{constructor(e,t){super(void 0,t||String(e));this.git=e}}}}),Fo,Do=C({"src/lib/errors/task-configuration-error.ts"(){pe(),Fo=class extends ne{constructor(e){super(void 0,e)}}}});function Bo(e){return typeof e=="function"?e:je}function Go(e){return typeof e=="function"&&e!==je}function Uo(e,t){let n=e.indexOf(t);return n<=0?[e,""]:[e.substr(0,n),e.substr(n+1)]}function Wo(e,t=0){return zo(e)&&e.length>t?e[t]:void 0}function Pe(e,t=0){if(zo(e)&&e.length>t)return e[e.length-1-t]}function zo(e){return!!(e&&typeof e.length=="number")}function an(e="",t=!0,n=`
`){return e.split(n).reduce((s,r)=>{let i=t?r.trim():r;return i&&s.push(i),s},[])}function Zs(e,t){return an(e,!0).map(n=>t(n))}function tr(e){return(0,Hn.exists)(e,Hn.FOLDER)}function K(e,t){return Array.isArray(e)?e.includes(t)||e.push(t):e.add(t),t}function qo(e,t){return Array.isArray(e)&&!e.includes(t)&&e.push(t),e}function er(e,t){if(Array.isArray(e)){let n=e.indexOf(t);n>=0&&e.splice(n,1)}else e.delete(t);return t}function cn(e){return Array.isArray(e)?e:[e]}function Ho(e){return cn(e).map(String)}function Vt(e,t=0){if(e==null)return t;let n=parseInt(e,10);return isNaN(n)?t:n}function Wn(e,t){let n=[];for(let s=0,r=e.length;s<r;s++)n.push(t,e[s]);return n}function sn(e){return(Array.isArray(e)?Buffer.concat(e):e).toString("utf-8")}function Vo(e,t){return Object.assign({},...t.map(n=>n in e?{[n]:e[n]}:{}))}function Ds(e=0){return new Promise(t=>setTimeout(t,e))}var Vn,je,un,Yn=C({"src/lib/utils/util.ts"(){Vn="\0",je=()=>{},un=Object.prototype.toString.call.bind(Object.prototype.toString)}});function he(e,t,n){return t(e)?e:arguments.length>2?n:void 0}function nr(e,t){return/number|string|boolean/.test(typeof e)&&(!t||!t.includes(typeof e))}function sr(e){return!!e&&un(e)==="[object Object]"}function Yo(e){return typeof e=="function"}var Kn,_t,Ko,Xo,rr,Qo=C({"src/lib/utils/argument-filters.ts"(){Yn(),Kn=e=>Array.isArray(e),_t=e=>typeof e=="string",Ko=e=>Array.isArray(e)&&e.every(_t),Xo=e=>_t(e)||Array.isArray(e)&&e.every(_t),rr=e=>e==null||"number|boolean|function".includes(typeof e)?!1:Array.isArray(e)||typeof e=="string"||typeof e.length=="number"}}),Bs,Al=C({"src/lib/utils/exit-codes.ts"(){Bs=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.ERROR=1]="ERROR",e[e.UNCLEAN=128]="UNCLEAN",e))(Bs||{})}}),rn,Sl=C({"src/lib/utils/git-output-streams.ts"(){rn=class{constructor(e,t){this.stdOut=e,this.stdErr=t}asStrings(){return new rn(this.stdOut.toString("utf8"),this.stdErr.toString("utf8"))}}}}),X,fe,Il=C({"src/lib/utils/line-parser.ts"(){X=class{constructor(e,t){this.matches=[],this.parse=(n,s)=>(this.resetMatches(),this._regExp.every((r,i)=>this.addMatch(r,i,n(i)))?this.useMatches(s,this.prepareMatches())!==!1:!1),this._regExp=Array.isArray(e)?e:[e],t&&(this.useMatches=t)}useMatches(e,t){throw new Error("LineParser:useMatches not implemented")}resetMatches(){this.matches.length=0}prepareMatches(){return this.matches}addMatch(e,t,n){let s=n&&e.exec(n);return s&&this.pushMatch(t,s),!!s}pushMatch(e,t){this.matches.push(...t.slice(1))}},fe=class extends X{addMatch(e,t,n){return/^remote:\s/.test(String(n))&&super.addMatch(e,t,n)}pushMatch(e,t){(e>0||t.length>1)&&super.pushMatch(e,t)}}}});function Jo(...e){let t=process.cwd(),n=Object.assign(Jt({baseDir:t},Zo),...e.filter(s=>typeof s=="object"&&s));return n.baseDir=n.baseDir||t,n}var Zo,xl=C({"src/lib/utils/simple-git-options.ts"(){Zo={binary:"git",maxConcurrentProcesses:5,config:[]}}});function ir(e,t=[]){return sr(e)?Object.keys(e).reduce((n,s)=>{let r=e[s];return nr(r,["boolean"])?n.push(s+"="+r):n.push(s),n},t):t}function le(e,t=0,n=!1){let s=[];for(let r=0,i=t<0?e.length:t;r<i;r++)"string|number".includes(typeof e[r])&&s.push(String(e[r]));return ir(or(e),s),n||s.push(...Rl(e)),s}function Rl(e){let t=typeof Pe(e)=="function";return he(Pe(e,t?1:0),Kn,[])}function or(e){let t=Yo(Pe(e));return he(Pe(e,t?1:0),sr)}function vt(e,t=!0){let n=Bo(Pe(e));return t||Go(n)?n:void 0}var Pl=C({"src/lib/utils/task-options.ts"(){Qo(),Yn()}});function Gs(e,t){return e(t.stdOut,t.stdErr)}function Kt(e,t,...n){return n.forEach(s=>{for(let r=an(s),i=0,o=r.length;i<o;i++){let u=(p=0)=>{if(!(i+p>=o))return r[i+p]};t.some(({parse:p})=>p(u,e))}}),e}var jl=C({"src/lib/utils/task-parser.ts"(){Yn()}}),ta={};ft(ta,{ExitCodes:()=>Bs,GitOutputStreams:()=>rn,LineParser:()=>X,NOOP:()=>je,NULL:()=>Vn,RemoteLineParser:()=>fe,append:()=>K,appendTaskOptions:()=>ir,asArray:()=>cn,asFunction:()=>Bo,asNumber:()=>Vt,asStringArray:()=>Ho,bufferToString:()=>sn,callTaskParser:()=>Gs,createInstanceConfig:()=>Jo,delay:()=>Ds,filterArray:()=>Kn,filterFunction:()=>Yo,filterHasLength:()=>rr,filterPlainObject:()=>sr,filterPrimitives:()=>nr,filterString:()=>_t,filterStringArray:()=>Ko,filterStringOrStringArray:()=>Xo,filterType:()=>he,first:()=>Wo,folderExists:()=>tr,forEachLineWithContent:()=>Zs,getTrailingOptions:()=>le,including:()=>qo,isUserFunction:()=>Go,last:()=>Pe,objectToString:()=>un,parseStringResponse:()=>Kt,pick:()=>Vo,prefixedArray:()=>Wn,remove:()=>er,splitOn:()=>Uo,toLinesWithContent:()=>an,trailingFunctionArgument:()=>vt,trailingOptionsArgument:()=>or});var q=C({"src/lib/utils/index.ts"(){Qo(),Al(),Sl(),Il(),xl(),Pl(),jl(),Yn()}}),ea={};ft(ea,{CheckRepoActions:()=>Us,checkIsBareRepoTask:()=>sa,checkIsRepoRootTask:()=>na,checkIsRepoTask:()=>Ml});function Ml(e){switch(e){case"bare":return sa();case"root":return na()}return{commands:["rev-parse","--is-inside-work-tree"],format:"utf-8",onError:Xn,parser:ar}}function na(){return{commands:["rev-parse","--git-dir"],format:"utf-8",onError:Xn,parser(t){return/^\.(git)?$/.test(t.trim())}}}function sa(){return{commands:["rev-parse","--is-bare-repository"],format:"utf-8",onError:Xn,parser:ar}}function kl(e){return/(Not a git repository|Kein Git-Repository)/i.test(String(e))}var Us,Xn,ar,ra=C({"src/lib/tasks/check-is-repo.ts"(){q(),Us=(e=>(e.BARE="bare",e.IN_TREE="tree",e.IS_REPO_ROOT="root",e))(Us||{}),Xn=({exitCode:e},t,n,s)=>{if(e===128&&kl(t))return n(Buffer.from("false"));s(t)},ar=e=>e.trim()==="true"}});function $l(e,t){let n=new ia(e),s=e?aa:oa;return an(t).forEach(r=>{let i=r.replace(s,"");n.paths.push(i),(ca.test(i)?n.folders:n.files).push(i)}),n}var ia,oa,aa,ca,Nl=C({"src/lib/responses/CleanSummary.ts"(){q(),ia=class{constructor(e){this.dryRun=e,this.paths=[],this.files=[],this.folders=[]}},oa=/^[a-z]+\s*/i,aa=/^[a-z]+\s+[a-z]+\s*/i,ca=/\/$/}}),Ws={};ft(Ws,{EMPTY_COMMANDS:()=>Qn,adhocExecTask:()=>ua,configurationErrorTask:()=>Yt,isBufferTask:()=>la,isEmptyTask:()=>fa,straightThroughBufferTask:()=>Ll,straightThroughStringTask:()=>Dt});function ua(e){return{commands:Qn,format:"empty",parser:e}}function Yt(e){return{commands:Qn,format:"empty",parser(){throw typeof e=="string"?new Fo(e):e}}}function Dt(e,t=!1){return{commands:e,format:"utf-8",parser(n){return t?String(n).trim():n}}}function Ll(e){return{commands:e,format:"buffer",parser(t){return t}}}function la(e){return e.format==="buffer"}function fa(e){return e.format==="empty"||!e.commands.length}var Qn,Et=C({"src/lib/tasks/task.ts"(){Do(),Qn=[]}}),ha={};ft(ha,{CONFIG_ERROR_INTERACTIVE_MODE:()=>cr,CONFIG_ERROR_MODE_REQUIRED:()=>ur,CONFIG_ERROR_UNKNOWN_OPTION:()=>lr,CleanOptions:()=>Dn,cleanTask:()=>pa,cleanWithOptionsTask:()=>Fl,isCleanOptionsArray:()=>Dl});function Fl(e,t){let{cleanMode:n,options:s,valid:r}=Bl(e);return n?r.options?(s.push(...t),s.some(Wl)?Yt(cr):pa(n,s)):Yt(lr+JSON.stringify(e)):Yt(ur)}function pa(e,t){return{commands:["clean",`-${e}`,...t],format:"utf-8",parser(s){return $l(e==="n",s)}}}function Dl(e){return Array.isArray(e)&&e.every(t=>fr.has(t))}function Bl(e){let t,n=[],s={cleanMode:!1,options:!0};return e.replace(/[^a-z]i/g,"").split("").forEach(r=>{Gl(r)?(t=r,s.cleanMode=!0):s.options=s.options&&Ul(n[n.length]=`-${r}`)}),{cleanMode:t,options:n,valid:s}}function Gl(e){return e==="f"||e==="n"}function Ul(e){return/^-[a-z]$/i.test(e)&&fr.has(e.charAt(1))}function Wl(e){return/^-[^\-]/.test(e)?e.indexOf("i")>0:e==="--interactive"}var cr,ur,lr,Dn,fr,da=C({"src/lib/tasks/clean.ts"(){Nl(),q(),Et(),cr="Git clean interactive mode is not supported",ur='Git clean mode parameter ("n" or "f") is required',lr="Git clean unknown option found in: ",Dn=(e=>(e.DRY_RUN="n",e.FORCE="f",e.IGNORED_INCLUDED="x",e.IGNORED_ONLY="X",e.EXCLUDING="e",e.QUIET="q",e.RECURSIVE="d",e))(Dn||{}),fr=new Set(["i",...Ho(Object.values(Dn))])}});function zl(e){let t=new ga;for(let n of ma(e))t.addValue(n.file,String(n.key),n.value);return t}function ql(e,t){let n=null,s=[],r=new Map;for(let i of ma(e,t))i.key===t&&(s.push(n=i.value),r.has(i.file)||r.set(i.file,[]),r.get(i.file).push(n));return{key:t,paths:Array.from(r.keys()),scopes:r,value:n,values:s}}function Hl(e){return e.replace(/^(file):/,"")}function*ma(e,t=null){let n=e.split("\0");for(let s=0,r=n.length-1;s<r;){let i=Hl(n[s++]),o=n[s++],u=t;if(o.includes(`
`)){let p=Uo(o,`
`);u=p[0],o=p[1]}yield{file:i,key:u,value:o}}}var ga,Vl=C({"src/lib/responses/ConfigList.ts"(){q(),ga=class{constructor(){this.files=[],this.values=Object.create(null)}get all(){return this._all||(this._all=this.files.reduce((e,t)=>Object.assign(e,this.values[t]),{})),this._all}addFile(e){if(!(e in this.values)){let t=Pe(this.files);this.values[e]=t?Object.create(this.values[t]):{},this.files.push(e)}return this.values[e]}addValue(e,t,n){let s=this.addFile(e);s.hasOwnProperty(t)?Array.isArray(s[t])?s[t].push(n):s[t]=[s[t],n]:s[t]=n,this._all=void 0}}}});function $s(e,t){return typeof e=="string"&&zs.hasOwnProperty(e)?e:t}function Yl(e,t,n,s){let r=["config",`--${s}`];return n&&r.push("--add"),r.push(e,t),{commands:r,format:"utf-8",parser(i){return i}}}function Kl(e,t){let n=["config","--null","--show-origin","--get-all",e];return t&&n.splice(1,0,`--${t}`),{commands:n,format:"utf-8",parser(s){return ql(s,e)}}}function Xl(e){let t=["config","--list","--show-origin","--null"];return e&&t.push(`--${e}`),{commands:t,format:"utf-8",parser(n){return zl(n)}}}function Ql(){return{addConfig(e,t,...n){return this._runTask(Yl(e,t,n[0]===!0,$s(n[1],"local")),vt(arguments))},getConfig(e,t){return this._runTask(Kl(e,$s(t,void 0)),vt(arguments))},listConfig(...e){return this._runTask(Xl($s(e[0],void 0)),vt(arguments))}}}var zs,ba=C({"src/lib/tasks/config.ts"(){Vl(),q(),zs=(e=>(e.system="system",e.global="global",e.local="local",e.worktree="worktree",e))(zs||{})}});function Jl(...e){return new _a().param(...e)}function Zl(e){let t=new Set,n={};return Zs(e,s=>{let[r,i,o]=s.split(Vn);t.add(r),(n[r]=n[r]||[]).push({line:Vt(i),path:r,preview:o})}),{paths:t,results:n}}function tf(){return{grep(e){let t=vt(arguments),n=le(arguments);for(let r of ya)if(n.includes(r))return this._runTask(Yt(`git.grep: use of "${r}" is not supported.`),t);typeof e=="string"&&(e=Jl().param(e));let s=["grep","--null","-n","--full-name",...n,...e];return this._runTask({commands:s,format:"utf-8",parser(r){return Zl(r)}},t)}}}var ya,en,ho,_a,Ea=C({"src/lib/tasks/grep.ts"(){q(),Et(),ya=["-h"],en=Symbol("grepQuery"),_a=class{constructor(){this[ho]=[]}*[(ho=en,Symbol.iterator)](){for(let e of this[en])yield e}and(...e){return e.length&&this[en].push("--and","(",...Wn(e,"-e"),")"),this}param(...e){return this[en].push(...Wn(e,"-e")),this}}}}),wa={};ft(wa,{ResetMode:()=>Bn,getResetMode:()=>nf,resetTask:()=>ef});function ef(e,t){let n=["reset"];return Oa(e)&&n.push(`--${e}`),n.push(...t),Dt(n)}function nf(e){if(Oa(e))return e;switch(typeof e){case"string":case"undefined":return"soft"}}function Oa(e){return Ca.includes(e)}var Bn,Ca,va=C({"src/lib/tasks/reset.ts"(){Et(),Bn=(e=>(e.MIXED="mixed",e.SOFT="soft",e.HARD="hard",e.MERGE="merge",e.KEEP="keep",e))(Bn||{}),Ca=Array.from(Object.values(Bn))}});function sf(){return(0,zn.default)("simple-git")}function po(e,t,n){return!t||!String(t).replace(/\s*/,"")?n?(s,...r)=>{e(s,...r),n(s,...r)}:e:(s,...r)=>{e(`%s ${s}`,t,...r),n&&n(s,...r)}}function rf(e,t,{namespace:n}){if(typeof e=="string")return e;let s=t&&t.namespace||"";return s.startsWith(n)?s.substr(n.length+1):s||n}function hr(e,t,n,s=sf()){let r=e&&`[${e}]`||"",i=[],o=typeof t=="string"?s.extend(t):t,u=rf(he(t,_t),o,s);return _(n);function p(d,l){return K(i,hr(e,u.replace(/^[^:]+/,d),l,s))}function _(d){let l=d&&`[${d}]`||"",m=o&&po(o,l)||je,b=po(s,`${r} ${l}`,m);return Object.assign(o?m:b,{label:e,sibling:p,info:b,step:_})}}var Ta=C({"src/lib/git-logger.ts"(){q(),zn.default.formatters.L=e=>String(rr(e)?e.length:"-"),zn.default.formatters.B=e=>Buffer.isBuffer(e)?e.toString("utf8"):un(e)}}),Nn,qs,of=C({"src/lib/runners/tasks-pending-queue.ts"(){pe(),Ta(),Nn=class{constructor(e="GitExecutor"){this.logLabel=e,this._queue=new Map}withProgress(e){return this._queue.get(e)}createProgress(e){let t=Nn.getName(e.commands[0]),n=hr(this.logLabel,t);return{task:e,logger:n,name:t}}push(e){let t=this.createProgress(e);return t.logger("Adding task to the queue, commands = %o",e.commands),this._queue.set(e,t),t}fatal(e){for(let[t,{logger:n}]of Array.from(this._queue.entries()))t===e.task?(n.info("Failed %o",e),n("Fatal exception, any as-yet un-started tasks run through this executor will not be attempted")):n.info("A fatal exception occurred in a previous task, the queue has been purged: %o",e.message),this.complete(t);if(this._queue.size!==0)throw new Error(`Queue size should be zero after fatal: ${this._queue.size}`)}complete(e){this.withProgress(e)&&this._queue.delete(e)}attempt(e){let t=this.withProgress(e);if(!t)throw new ne(void 0,"TasksPendingQueue: attempt called for an unknown task");return t.logger("Starting task"),t}static getName(e="empty"){return`task:${e}:${++Nn.counter}`}},qs=Nn,qs.counter=0}});function Ln(e,t){return{method:Wo(e.commands)||"",commands:t}}function af(e,t){return n=>{t("[ERROR] child process exception %o",n),e.push(Buffer.from(String(n.stack),"ascii"))}}function mo(e,t,n,s){return r=>{n("%s received %L bytes",t,r),s("%B",r),e.push(r)}}var Hs,cf=C({"src/lib/runners/git-executor-chain.ts"(){pe(),Et(),q(),of(),Hs=class{constructor(e,t,n){this._executor=e,this._scheduler=t,this._plugins=n,this._chain=Promise.resolve(),this._queue=new qs}get binary(){return this._executor.binary}get cwd(){return this._cwd||this._executor.cwd}set cwd(e){this._cwd=e}get env(){return this._executor.env}get outputHandler(){return this._executor.outputHandler}chain(){return this}push(e){return this._queue.push(e),this._chain=this._chain.then(()=>this.attemptTask(e))}attemptTask(e){return nn(this,null,function*(){let t=yield this._scheduler.next(),n=()=>this._queue.complete(e);try{let{logger:s}=this._queue.attempt(e);return yield fa(e)?this.attemptEmptyTask(e,s):this.attemptRemoteTask(e,s)}catch(s){throw this.onFatalException(e,s)}finally{n(),t()}})}onFatalException(e,t){let n=t instanceof ne?Object.assign(t,{task:e}):new ne(e,t&&String(t));return this._chain=Promise.resolve(),this._queue.fatal(n),n}attemptRemoteTask(e,t){return nn(this,null,function*(){let n=this._plugins.exec("spawn.args",[...e.commands],Ln(e,e.commands)),s=yield this.gitResponse(e,this.binary,n,this.outputHandler,t.step("SPAWN")),r=yield this.handleTaskData(e,n,s,t.step("HANDLE"));return t("passing response to task's parser as a %s",e.format),la(e)?Gs(e.parser,r):Gs(e.parser,r.asStrings())})}attemptEmptyTask(e,t){return nn(this,null,function*(){return t("empty task bypassing child process to call to task's parser"),e.parser(this)})}handleTaskData(e,t,n,s){let{exitCode:r,rejection:i,stdOut:o,stdErr:u}=n;return new Promise((p,_)=>{s("Preparing to handle process response exitCode=%d stdOut=",r);let{error:d}=this._plugins.exec("task.error",{error:i},Jt(Jt({},Ln(e,t)),n));if(d&&e.onError)return s.info("exitCode=%s handling with custom error handler"),e.onError(n,d,l=>{s.info("custom error handler treated as success"),s("custom error returned a %s",un(l)),p(new rn(Array.isArray(l)?Buffer.concat(l):l,Buffer.concat(u)))},_);if(d)return s.info("handling as error: exitCode=%s stdErr=%s rejection=%o",r,u.length,i),_(d);s.info("retrieving task output complete"),p(new rn(Buffer.concat(o),Buffer.concat(u)))})}gitResponse(e,t,n,s,r){return nn(this,null,function*(){let i=r.sibling("output"),o=this._plugins.exec("spawn.options",{cwd:this.cwd,env:this.env,windowsHide:!0},Ln(e,e.commands));return new Promise(u=>{let p=[],_=[],d;r.info("%s %o",t,n),r("%O",o);let l=(0,Aa.spawn)(t,n,o);l.stdout.on("data",mo(p,"stdOut",r,i.step("stdOut"))),l.stderr.on("data",mo(_,"stdErr",r,i.step("stdErr"))),l.on("error",af(_,r)),s&&(r("Passing child process stdOut/stdErr to custom outputHandler"),s(t,l.stdout,l.stderr,[...n])),this._plugins.exec("spawn.after",void 0,Fs(Jt({},Ln(e,n)),{spawned:l,close(m,b){u({stdOut:p,stdErr:_,exitCode:m,rejection:d||b})},kill(m){l.killed||(d=m,l.kill("SIGINT"))}}))})})}}}}),Sa={};ft(Sa,{GitExecutor:()=>Ia});var Ia,uf=C({"src/lib/runners/git-executor.ts"(){cf(),Ia=class{constructor(e="git",t,n,s){this.binary=e,this.cwd=t,this._scheduler=n,this._plugins=s,this._chain=new Hs(this,this._scheduler,this._plugins)}chain(){return new Hs(this,this._scheduler,this._plugins)}push(e){return this._chain.push(e)}}}});function lf(e,t,n=je){let s=i=>{n(null,i)},r=i=>{(i==null?void 0:i.task)===e&&n(i instanceof on?ff(i):i,void 0)};t.then(s,r)}function ff(e){let t=s=>{console.warn(`simple-git deprecation notice: accessing GitResponseError.${s} should be GitResponseError.git.${s}, this will no longer be available in version 3`),t=je};return Object.create(e,Object.getOwnPropertyNames(e.git).reduce(n,{}));function n(s,r){return r in e||(s[r]={enumerable:!1,configurable:!1,get(){return t(r),e.git[r]}}),s}}var hf=C({"src/lib/task-callback.ts"(){Ve(),q()}});function go(e,t){return ua(n=>{if(!tr(e))throw new Error(`Git.cwd: cannot change to non-directory "${e}"`);return(t||n).cwd=e})}var pf=C({"src/lib/tasks/change-working-directory.ts"(){q(),Et()}});function df(e,t){let n=["hash-object",e];return t&&n.push("-w"),Dt(n,!0)}var mf=C({"src/lib/tasks/hash-object.ts"(){Et()}});function gf(e,t,n){let s=String(n).trim(),r;if(r=xa.exec(s))return new Gn(e,t,!1,r[1]);if(r=Ra.exec(s))return new Gn(e,t,!0,r[1]);let i="",o=s.split(" ");for(;o.length;)if(o.shift()==="in"){i=o.join(" ");break}return new Gn(e,t,/^re/i.test(s),i)}var Gn,xa,Ra,bf=C({"src/lib/responses/InitSummary.ts"(){Gn=class{constructor(e,t,n,s){this.bare=e,this.path=t,this.existing=n,this.gitDir=s}},xa=/^Init.+ repository in (.+)$/,Ra=/^Rein.+ in (.+)$/}});function yf(e){return e.includes(pr)}function _f(e=!1,t,n){let s=["init",...n];return e&&!yf(s)&&s.splice(1,0,pr),{commands:s,format:"utf-8",parser(r){return gf(s.includes("--bare"),t,r)}}}var pr,Ef=C({"src/lib/tasks/init.ts"(){bf(),pr="--bare"}}),Pa,wf=C({"src/lib/responses/DiffSummary.ts"(){Pa=class{constructor(){this.changed=0,this.deletions=0,this.insertions=0,this.files=[]}}}});function ja(e){let t=e.trim().split(`
`),n=new Pa;Of(n,t.pop());for(let s=0,r=t.length;s<r;s++){let i=t[s];vf(i,n)||Tf(i,n)}return n}function Of(e,t){(t||"").trim().split(", ").forEach(function(n){let s=/(\d+)\s([a-z]+)/.exec(n);!s||Cf(e,s[2],parseInt(s[1],10))})}function Cf(e,t,n){let s=/([a-z]+?)s?\b/.exec(t);!s||!Vs[s[1]]||Vs[s[1]](e,n)}function vf(e,{files:t}){let n=e.trim().match(/^(.+)\s+\|\s+(\d+)(\s+[+\-]+)?$/);if(n){var s=(n[3]||"").trim();return t.push({file:n[1].trim(),changes:parseInt(n[2],10),insertions:s.replace(/-/g,"").length,deletions:s.replace(/\+/g,"").length,binary:!1}),!0}return!1}function Tf(e,{files:t}){let n=e.match(/^(.+) \|\s+Bin ([0-9.]+) -> ([0-9.]+) ([a-z]+)$/);return n?(t.push({file:n[1].trim(),before:+n[2],after:+n[3],binary:!0}),!0):!1}var Vs,Ma=C({"src/lib/parsers/parse-diff-summary.ts"(){wf(),Vs={file(e,t){e.changed=t},deletion(e,t){e.deletions=t},insertion(e,t){e.insertions=t}}}});function Af(e,t){return t.reduce((n,s,r)=>(n[s]=e[r]||"",n),Object.create({diff:null}))}function ka(e=gr,t=$a){return function(n){let s=an(n,!0,dr).map(function(r){let i=r.trim().split(mr),o=Af(i[0].trim().split(e),t);return i.length>1&&!!i[1].trim()&&(o.diff=ja(i[1])),o});return{all:s,latest:s.length&&s[0]||null,total:s.length}}}var dr,mr,gr,$a,Na=C({"src/lib/parsers/parse-list-log-summary.ts"(){q(),Ma(),dr="\xF2\xF2\xF2\xF2\xF2\xF2 ",mr=" \xF2\xF2",gr=" \xF2 ",$a=["hash","date","message","refs","author_name","author_email"]}});function Sf(e,t){let n=[],s=[];return Object.keys(e).forEach(r=>{n.push(r),s.push(String(e[r]))}),[n,s.join(t)]}function If(e){return Object.keys(e).reduce((t,n)=>(n in Ys||(t[n]=e[n]),t),{})}function La(e={},t=[]){let n=he(e.splitter,_t,gr),s=!nr(e.format)&&e.format?e.format:{hash:"%H",date:e.strictDate===!1?"%ai":"%aI",message:"%s",refs:"%D",body:e.multiLine?"%B":"%b",author_name:e.mailMap!==!1?"%aN":"%an",author_email:e.mailMap!==!1?"%aE":"%ae"},[r,i]=Sf(s,n),o=[],u=[`--pretty=format:${dr}${i}${mr}`,...t],p=e.n||e["max-count"]||e.maxCount;if(p&&u.push(`--max-count=${p}`),e.from&&e.to){let _=e.symmetric!==!1?"...":"..";o.push(`${e.from}${_}${e.to}`)}return _t(e.file)&&o.push("--follow",e.file),ir(If(e),u),{fields:r,splitter:n,commands:[...u,...o]}}function xf(e,t,n){return{commands:["log",...n],format:"utf-8",parser:ka(e,t)}}function Rf(){return{log(...n){let s=vt(arguments),r=t(...n)||e(La(or(arguments),he(arguments[0],Kn)));return this._runTask(r,s)}};function e(n){return xf(n.splitter,n.fields,n.commands)}function t(n,s){return _t(n)&&_t(s)&&Yt("git.log(string, string) should be replaced with git.log({ from: string, to: string })")}}var Ys,Fa=C({"src/lib/tasks/log.ts"(){Na(),q(),Et(),Ys=(e=>(e[e["--pretty"]=0]="--pretty",e[e["max-count"]=1]="max-count",e[e.maxCount=2]="maxCount",e[e.n=3]="n",e[e.file=4]="file",e[e.format=5]="format",e[e.from=6]="from",e[e.to=7]="to",e[e.splitter=8]="splitter",e[e.symmetric=9]="symmetric",e[e.mailMap=10]="mailMap",e[e.multiLine=11]="multiLine",e[e.strictDate=12]="strictDate",e))(Ys||{})}}),Un,Da,Pf=C({"src/lib/responses/MergeSummary.ts"(){Un=class{constructor(e,t=null,n){this.reason=e,this.file=t,this.meta=n}toString(){return`${this.file}:${this.reason}`}},Da=class{constructor(){this.conflicts=[],this.merges=[],this.result="success"}get failed(){return this.conflicts.length>0}get reason(){return this.result}toString(){return this.conflicts.length?`CONFLICTS: ${this.conflicts.join(", ")}`:"OK"}}}}),Ks,Ba,jf=C({"src/lib/responses/PullSummary.ts"(){Ks=class{constructor(){this.remoteMessages={all:[]},this.created=[],this.deleted=[],this.files=[],this.deletions={},this.insertions={},this.summary={changes:0,deletions:0,insertions:0}}},Ba=class{constructor(){this.remote="",this.hash={local:"",remote:""},this.branch={local:"",remote:""},this.message=""}toString(){return this.message}}}});function Ns(e){return e.objects=e.objects||{compressing:0,counting:0,enumerating:0,packReused:0,reused:{count:0,delta:0},total:{count:0,delta:0}}}function bo(e){let t=/^\s*(\d+)/.exec(e),n=/delta (\d+)/i.exec(e);return{count:Vt(t&&t[1]||"0"),delta:Vt(n&&n[1]||"0")}}var Ga,Mf=C({"src/lib/parsers/parse-remote-objects.ts"(){q(),Ga=[new fe(/^remote:\s*(enumerating|counting|compressing) objects: (\d+),/i,(e,[t,n])=>{let s=t.toLowerCase(),r=Ns(e.remoteMessages);Object.assign(r,{[s]:Vt(n)})}),new fe(/^remote:\s*(enumerating|counting|compressing) objects: \d+% \(\d+\/(\d+)\),/i,(e,[t,n])=>{let s=t.toLowerCase(),r=Ns(e.remoteMessages);Object.assign(r,{[s]:Vt(n)})}),new fe(/total ([^,]+), reused ([^,]+), pack-reused (\d+)/i,(e,[t,n,s])=>{let r=Ns(e.remoteMessages);r.total=bo(t),r.reused=bo(n),r.packReused=Vt(s)})]}});function Ua(e,t){return Kt({remoteMessages:new za},Wa,t)}var Wa,za,qa=C({"src/lib/parsers/parse-remote-messages.ts"(){q(),Mf(),Wa=[new fe(/^remote:\s*(.+)$/,(e,[t])=>(e.remoteMessages.all.push(t.trim()),!1)),...Ga,new fe([/create a (?:pull|merge) request/i,/\s(https?:\/\/\S+)$/],(e,[t])=>{e.remoteMessages.pullRequestUrl=t}),new fe([/found (\d+) vulnerabilities.+\(([^)]+)\)/i,/\s(https?:\/\/\S+)$/],(e,[t,n,s])=>{e.remoteMessages.vulnerabilities={count:Vt(t),summary:n,url:s}})],za=class{constructor(){this.all=[]}}}});function kf(e,t){let n=Kt(new Ba,Ha,e,t);return n.message&&n}var yo,_o,Eo,wo,Ha,Oo,br,Va=C({"src/lib/parsers/parse-pull.ts"(){jf(),q(),qa(),yo=/^\s*(.+?)\s+\|\s+\d+\s*(\+*)(-*)/,_o=/(\d+)\D+((\d+)\D+\(\+\))?(\D+(\d+)\D+\(-\))?/,Eo=/^(create|delete) mode \d+ (.+)/,wo=[new X(yo,(e,[t,n,s])=>{e.files.push(t),n&&(e.insertions[t]=n.length),s&&(e.deletions[t]=s.length)}),new X(_o,(e,[t,,n,,s])=>n!==void 0||s!==void 0?(e.summary.changes=+t||0,e.summary.insertions=+n||0,e.summary.deletions=+s||0,!0):!1),new X(Eo,(e,[t,n])=>{K(e.files,n),K(t==="create"?e.created:e.deleted,n)})],Ha=[new X(/^from\s(.+)$/i,(e,[t])=>void(e.remote=t)),new X(/^fatal:\s(.+)$/,(e,[t])=>void(e.message=t)),new X(/([a-z0-9]+)\.\.([a-z0-9]+)\s+(\S+)\s+->\s+(\S+)$/,(e,[t,n,s,r])=>{e.branch.local=s,e.hash.local=t,e.branch.remote=r,e.hash.remote=n})],Oo=(e,t)=>Kt(new Ks,wo,e,t),br=(e,t)=>Object.assign(new Ks,Oo(e,t),Ua(e,t))}}),Co,Ya,vo,$f=C({"src/lib/parsers/parse-merge.ts"(){Pf(),q(),Va(),Co=[new X(/^Auto-merging\s+(.+)$/,(e,[t])=>{e.merges.push(t)}),new X(/^CONFLICT\s+\((.+)\): Merge conflict in (.+)$/,(e,[t,n])=>{e.conflicts.push(new Un(t,n))}),new X(/^CONFLICT\s+\((.+\/delete)\): (.+) deleted in (.+) and/,(e,[t,n,s])=>{e.conflicts.push(new Un(t,n,{deleteRef:s}))}),new X(/^CONFLICT\s+\((.+)\):/,(e,[t])=>{e.conflicts.push(new Un(t,null))}),new X(/^Automatic merge failed;\s+(.+)$/,(e,[t])=>{e.result=t})],Ya=(e,t)=>Object.assign(vo(e,t),br(e,t)),vo=e=>Kt(new Da,Co,e)}});function To(e){return e.length?{commands:["merge",...e],format:"utf-8",parser(t,n){let s=Ya(t,n);if(s.failed)throw new on(s);return s}}:Yt("Git.merge requires at least one option")}var Nf=C({"src/lib/tasks/merge.ts"(){Ve(),$f(),Et()}});function Lf(e,t,n){let s=n.includes("deleted"),r=n.includes("tag")||/^refs\/tags/.test(e),i=!n.includes("new");return{deleted:s,tag:r,branch:!r,new:!i,alreadyUpdated:i,local:e,remote:t}}var Ao,Ka,So,Ff=C({"src/lib/parsers/parse-push.ts"(){q(),qa(),Ao=[new X(/^Pushing to (.+)$/,(e,[t])=>{e.repo=t}),new X(/^updating local tracking ref '(.+)'/,(e,[t])=>{e.ref=Fs(Jt({},e.ref||{}),{local:t})}),new X(/^[*-=]\s+([^:]+):(\S+)\s+\[(.+)]$/,(e,[t,n,s])=>{e.pushed.push(Lf(t,n,s))}),new X(/^Branch '([^']+)' set up to track remote branch '([^']+)' from '([^']+)'/,(e,[t,n,s])=>{e.branch=Fs(Jt({},e.branch||{}),{local:t,remote:n,remoteName:s})}),new X(/^([^:]+):(\S+)\s+([a-z0-9]+)\.\.([a-z0-9]+)$/,(e,[t,n,s,r])=>{e.update={head:{local:t,remote:n},hash:{from:s,to:r}}})],Ka=(e,t)=>{let n=So(e,t),s=Ua(e,t);return Jt(Jt({},n),s)},So=(e,t)=>Kt({pushed:[]},Ao,e,t)}}),Xa={};ft(Xa,{pushTagsTask:()=>Df,pushTask:()=>yr});function Df(e={},t){return K(t,"--tags"),yr(e,t)}function yr(e={},t){let n=["push",...t];return e.branch&&n.splice(1,0,e.branch),e.remote&&n.splice(1,0,e.remote),er(n,"-v"),K(n,"--verbose"),K(n,"--porcelain"),{commands:n,format:"utf-8",parser:Ka}}var Qa=C({"src/lib/tasks/push.ts"(){Ff(),q()}}),Io,Ja,Bf=C({"src/lib/responses/FileStatusSummary.ts"(){Io=/^(.+) -> (.+)$/,Ja=class{constructor(e,t,n){if(this.path=e,this.index=t,this.working_dir=n,t+n==="R"){let s=Io.exec(e)||[null,e,e];this.from=s[1]||"",this.path=s[2]||""}}}}});function xo(e){let t=/^(.+) -> (.+)$/.exec(e);return t?{from:String(t[1]),to:String(t[2])}:{from:e,to:e}}function jt(e,t,n){return[`${e}${t}`,n]}function Ls(e,...t){return t.map(n=>jt(e,n,(s,r)=>K(s.conflicted,r)))}function Gf(e,t){let n=t.trim();switch(" "){case n.charAt(2):return s(n.charAt(0),n.charAt(1),n.substr(3));case n.charAt(1):return s(" ",n.charAt(0),n.substr(2));default:return}function s(r,i,o){let u=`${r}${i}`,p=Za.get(u);p&&p(e,o),u!=="##"&&u!=="!!"&&e.files.push(new Ja(o,r,i))}}var Ro,Za,tc,Uf=C({"src/lib/responses/StatusSummary.ts"(){q(),Bf(),Ro=class{constructor(){this.not_added=[],this.conflicted=[],this.created=[],this.deleted=[],this.ignored=void 0,this.modified=[],this.renamed=[],this.files=[],this.staged=[],this.ahead=0,this.behind=0,this.current=null,this.tracking=null,this.detached=!1,this.isClean=()=>!this.files.length}},Za=new Map([jt(" ","A",(e,t)=>K(e.created,t)),jt(" ","D",(e,t)=>K(e.deleted,t)),jt(" ","M",(e,t)=>K(e.modified,t)),jt("A"," ",(e,t)=>K(e.created,t)&&K(e.staged,t)),jt("A","M",(e,t)=>K(e.created,t)&&K(e.staged,t)&&K(e.modified,t)),jt("D"," ",(e,t)=>K(e.deleted,t)&&K(e.staged,t)),jt("M"," ",(e,t)=>K(e.modified,t)&&K(e.staged,t)),jt("M","M",(e,t)=>K(e.modified,t)&&K(e.staged,t)),jt("R"," ",(e,t)=>{K(e.renamed,xo(t))}),jt("R","M",(e,t)=>{let n=xo(t);K(e.renamed,n),K(e.modified,n.to)}),jt("!","!",(e,t)=>{K(e.ignored=e.ignored||[],t)}),jt("?","?",(e,t)=>K(e.not_added,t)),...Ls("A","A","U"),...Ls("D","D","U"),...Ls("U","A","D","U"),["##",(e,t)=>{let n=/ahead (\d+)/,s=/behind (\d+)/,r=/^(.+?(?=(?:\.{3}|\s|$)))/,i=/\.{3}(\S*)/,o=/\son\s([\S]+)$/,u;u=n.exec(t),e.ahead=u&&+u[1]||0,u=s.exec(t),e.behind=u&&+u[1]||0,u=r.exec(t),e.current=u&&u[1],u=i.exec(t),e.tracking=u&&u[1],u=o.exec(t),e.current=u&&u[1]||e.current,e.detached=/\(no branch\)/.test(t)}]]),tc=function(e){let t=e.trim().split(Vn),n=new Ro;for(let s=0,r=t.length;s<r;s++)Gf(n,t[s]);return n}}});function Wf(e){let t=["status","--porcelain","-b","-u","--null",...e.filter(n=>!ec.includes(n))];return{format:"utf-8",commands:t,parser(n){return tc(n)}}}var ec,zf=C({"src/lib/tasks/status.ts"(){Uf(),ec=["--null","-z"]}}),nc={};ft(nc,{SimpleGitApi:()=>Xs});var Xs,qf=C({"src/lib/simple-git-api.ts"(){hf(),pf(),ba(),Ea(),mf(),Ef(),Fa(),Nf(),Qa(),zf(),Et(),q(),Xs=class{constructor(e){this._executor=e}_runTask(e,t){let n=this._executor.chain(),s=n.push(e);return t&&lf(e,s,t),Object.create(this,{then:{value:s.then.bind(s)},catch:{value:s.catch.bind(s)},_executor:{value:n}})}add(e){return this._runTask(Dt(["add",...cn(e)]),vt(arguments))}cwd(e){let t=vt(arguments);return typeof e=="string"?this._runTask(go(e,this._executor),t):typeof(e==null?void 0:e.path)=="string"?this._runTask(go(e.path,e.root&&this._executor||void 0),t):this._runTask(Yt("Git.cwd: workingDirectory must be supplied as a string"),t)}hashObject(e,t){return this._runTask(df(e,t===!0),vt(arguments))}init(e){return this._runTask(_f(e===!0,this._executor.cwd,le(arguments)),vt(arguments))}merge(){return this._runTask(To(le(arguments)),vt(arguments))}mergeFromTo(e,t){return _t(e)&&_t(t)?this._runTask(To([e,t,...le(arguments)]),vt(arguments,!1)):this._runTask(Yt("Git.mergeFromTo requires that the 'remote' and 'branch' arguments are supplied as strings"))}outputHandler(e){return this._executor.outputHandler=e,this}push(){let e=yr({remote:he(arguments[0],_t),branch:he(arguments[1],_t)},le(arguments));return this._runTask(e,vt(arguments))}stash(){return this._runTask(Dt(["stash",...le(arguments)]),vt(arguments))}status(){return this._runTask(Wf(le(arguments)),vt(arguments))}},Object.assign(Xs.prototype,Ql(),tf(),Rf())}}),sc={};ft(sc,{Scheduler:()=>ic});var Po,ic,Hf=C({"src/lib/runners/scheduler.ts"(){q(),Ta(),Po=(()=>{let e=0;return()=>{e++;let{promise:t,done:n}=(0,rc.createDeferred)();return{promise:t,done:n,id:e}}})(),ic=class{constructor(e=2){this.concurrency=e,this.logger=hr("","scheduler"),this.pending=[],this.running=[],this.logger("Constructed, concurrency=%s",e)}schedule(){if(!this.pending.length||this.running.length>=this.concurrency){this.logger("Schedule attempt ignored, pending=%s running=%s concurrency=%s",this.pending.length,this.running.length,this.concurrency);return}let e=K(this.running,this.pending.shift());this.logger("Attempting id=%s",e.id),e.done(()=>{this.logger("Completing id=",e.id),er(this.running,e),this.schedule()})}next(){let{promise:e,id:t}=K(this.pending,Po());return this.logger("Scheduling id=%s",t),this.schedule(),e}}}}),oc={};ft(oc,{applyPatchTask:()=>Vf});function Vf(e,t){return Dt(["apply",...t,...e])}var Yf=C({"src/lib/tasks/apply-patch.ts"(){Et()}});function Kf(e,t){return{branch:e,hash:t,success:!0}}function Xf(e){return{branch:e,hash:null,success:!1}}var ac,Qf=C({"src/lib/responses/BranchDeleteSummary.ts"(){ac=class{constructor(){this.all=[],this.branches={},this.errors=[]}get success(){return!this.errors.length}}}});function cc(e,t){return t===1&&Qs.test(e)}var jo,Qs,Mo,Jn,Jf=C({"src/lib/parsers/parse-branch-delete.ts"(){Qf(),q(),jo=/(\S+)\s+\(\S+\s([^)]+)\)/,Qs=/^error[^']+'([^']+)'/m,Mo=[new X(jo,(e,[t,n])=>{let s=Kf(t,n);e.all.push(s),e.branches[t]=s}),new X(Qs,(e,[t])=>{let n=Xf(t);e.errors.push(n),e.all.push(n),e.branches[t]=n})],Jn=(e,t)=>Kt(new ac,Mo,e,t)}}),uc,Zf=C({"src/lib/responses/BranchSummary.ts"(){uc=class{constructor(){this.all=[],this.branches={},this.current="",this.detached=!1}push(e,t,n,s,r){e&&(this.detached=t,this.current=n),this.all.push(n),this.branches[n]={current:e,name:n,commit:s,label:r}}}}});function lc(e){return Kt(new uc,fc,e)}var fc,th=C({"src/lib/parsers/parse-branch.ts"(){Zf(),q(),fc=[new X(/^(\*\s)?\((?:HEAD )?detached (?:from|at) (\S+)\)\s+([a-z0-9]+)\s(.*)$/,(e,[t,n,s,r])=>{e.push(!!t,!0,n,s,r)}),new X(/^(\*\s)?(\S+)\s+([a-z0-9]+)\s?(.*)$/s,(e,[t,n,s,r])=>{e.push(!!t,!1,n,s,r)})]}}),hc={};ft(hc,{branchLocalTask:()=>nh,branchTask:()=>eh,containsDeleteBranchCommand:()=>pc,deleteBranchTask:()=>rh,deleteBranchesTask:()=>sh});function pc(e){let t=["-d","-D","--delete"];return e.some(n=>t.includes(n))}function eh(e){let t=pc(e),n=["branch",...e];return n.length===1&&n.push("-a"),n.includes("-v")||n.splice(1,0,"-v"),{format:"utf-8",commands:n,parser(s,r){return t?Jn(s,r).all[0]:lc(s)}}}function nh(){return{format:"utf-8",commands:["branch","-v"],parser:lc}}function sh(e,t=!1){return{format:"utf-8",commands:["branch","-v",t?"-D":"-d",...e],parser(n,s){return Jn(n,s)},onError({exitCode:n,stdOut:s},r,i,o){if(!cc(String(r),n))return o(r);i(s)}}}function rh(e,t=!1){let n={format:"utf-8",commands:["branch","-v",t?"-D":"-d",e],parser(s,r){return Jn(s,r).branches[e]},onError({exitCode:s,stdErr:r,stdOut:i},o,u,p){if(!cc(String(o),s))return p(o);throw new on(n.parser(sn(i),sn(r)),String(o))}};return n}var ih=C({"src/lib/tasks/branch.ts"(){Ve(),Jf(),th(),q()}}),dc,oh=C({"src/lib/responses/CheckIgnore.ts"(){dc=e=>e.split(/\n/g).map(t=>t.trim()).filter(t=>!!t)}}),mc={};ft(mc,{checkIgnoreTask:()=>ah});function ah(e){return{commands:["check-ignore",...e],format:"utf-8",parser:dc}}var ch=C({"src/lib/tasks/check-ignore.ts"(){oh()}}),gc={};ft(gc,{cloneMirrorTask:()=>lh,cloneTask:()=>bc});function uh(e){return/^--upload-pack(=|$)/.test(e)}function bc(e,t,n){let s=["clone",...n];return _t(e)&&s.push(e),_t(t)&&s.push(t),s.find(uh)?Yt("git.fetch: potential exploit argument blocked."):Dt(s)}function lh(e,t,n){return K(n,"--mirror"),bc(e,t,n)}var fh=C({"src/lib/tasks/clone.ts"(){Et(),q()}});function hh(e){return Kt({author:null,branch:"",commit:"",root:!1,summary:{changes:0,insertions:0,deletions:0}},yc,e)}var yc,ph=C({"src/lib/parsers/parse-commit.ts"(){q(),yc=[new X(/^\[([^\s]+)( \([^)]+\))? ([^\]]+)/,(e,[t,n,s])=>{e.branch=t,e.commit=s,e.root=!!n}),new X(/\s*Author:\s(.+)/i,(e,[t])=>{let n=t.split("<"),s=n.pop();!s||!s.includes("@")||(e.author={email:s.substr(0,s.length-1),name:n.join("<").trim()})}),new X(/(\d+)[^,]*(?:,\s*(\d+)[^,]*)(?:,\s*(\d+))/g,(e,[t,n,s])=>{e.summary.changes=parseInt(t,10)||0,e.summary.insertions=parseInt(n,10)||0,e.summary.deletions=parseInt(s,10)||0}),new X(/^(\d+)[^,]*(?:,\s*(\d+)[^(]+\(([+-]))?/,(e,[t,n,s])=>{e.summary.changes=parseInt(t,10)||0;let r=parseInt(n,10)||0;s==="-"?e.summary.deletions=r:s==="+"&&(e.summary.insertions=r)})]}}),_c={};ft(_c,{commitTask:()=>dh});function dh(e,t,n){let s=["commit"];return e.forEach(r=>s.push("-m",r)),s.push(...t,...n),{commands:s,format:"utf-8",parser:hh}}var mh=C({"src/lib/tasks/commit.ts"(){ph()}}),Ec={};ft(Ec,{diffSummaryTask:()=>gh});function gh(e){return{commands:["diff","--stat=4096",...e],format:"utf-8",parser(t){return ja(t)}}}var bh=C({"src/lib/tasks/diff.ts"(){Ma()}});function yh(e,t){return Kt({raw:e,remote:null,branches:[],tags:[]},wc,e,t)}var wc,_h=C({"src/lib/parsers/parse-fetch.ts"(){q(),wc=[new X(/From (.+)$/,(e,[t])=>{e.remote=t}),new X(/\* \[new branch]\s+(\S+)\s*-> (.+)$/,(e,[t,n])=>{e.branches.push({name:t,tracking:n})}),new X(/\* \[new tag]\s+(\S+)\s*-> (.+)$/,(e,[t,n])=>{e.tags.push({name:t,tracking:n})})]}}),Oc={};ft(Oc,{fetchTask:()=>wh});function Eh(e){return/^--upload-pack(=|$)/.test(e)}function wh(e,t,n){let s=["fetch",...n];return e&&t&&s.push(e,t),s.find(Eh)?Yt("git.fetch: potential exploit argument blocked."):{commands:s,format:"utf-8",parser:yh}}var Oh=C({"src/lib/tasks/fetch.ts"(){_h(),Et()}});function Ch(e){return Kt({moves:[]},Cc,e)}var Cc,vh=C({"src/lib/parsers/parse-move.ts"(){q(),Cc=[new X(/^Renaming (.+) to (.+)$/,(e,[t,n])=>{e.moves.push({from:t,to:n})})]}}),vc={};ft(vc,{moveTask:()=>Th});function Th(e,t){return{commands:["mv","-v",...cn(e),t],format:"utf-8",parser:Ch}}var Ah=C({"src/lib/tasks/move.ts"(){vh(),q()}}),Tc={};ft(Tc,{pullTask:()=>Sh});function Sh(e,t,n){let s=["pull",...n];return e&&t&&s.splice(1,0,e,t),{commands:s,format:"utf-8",parser(r,i){return br(r,i)},onError(r,i,o,u){let p=kf(sn(r.stdOut),sn(r.stdErr));if(p)return u(new on(p));u(i)}}}var Ih=C({"src/lib/tasks/pull.ts"(){Ve(),Va(),q()}});function xh(e){let t={};return Ac(e,([n])=>t[n]={name:n}),Object.values(t)}function Rh(e){let t={};return Ac(e,([n,s,r])=>{t.hasOwnProperty(n)||(t[n]={name:n,refs:{fetch:"",push:""}}),r&&s&&(t[n].refs[r.replace(/[^a-z]/g,"")]=s)}),Object.values(t)}function Ac(e,t){Zs(e,n=>t(n.split(/\s+/)))}var Ph=C({"src/lib/responses/GetRemoteSummary.ts"(){q()}}),Sc={};ft(Sc,{addRemoteTask:()=>jh,getRemotesTask:()=>Mh,listRemotesTask:()=>kh,remoteTask:()=>$h,removeRemoteTask:()=>Nh});function jh(e,t,n=[]){return Dt(["remote","add",...n,e,t])}function Mh(e){let t=["remote"];return e&&t.push("-v"),{commands:t,format:"utf-8",parser:e?Rh:xh}}function kh(e=[]){let t=[...e];return t[0]!=="ls-remote"&&t.unshift("ls-remote"),Dt(t)}function $h(e=[]){let t=[...e];return t[0]!=="remote"&&t.unshift("remote"),Dt(t)}function Nh(e){return Dt(["remote","remove",e])}var Lh=C({"src/lib/tasks/remote.ts"(){Ph(),Et()}}),Ic={};ft(Ic,{stashListTask:()=>Fh});function Fh(e={},t){let n=La(e),s=ka(n.splitter,n.fields);return{commands:["stash","list",...n.commands,...t],format:"utf-8",parser:s}}var Dh=C({"src/lib/tasks/stash-list.ts"(){Na(),Fa()}}),xc={};ft(xc,{addSubModuleTask:()=>Bh,initSubModuleTask:()=>Gh,subModuleTask:()=>Zn,updateSubModuleTask:()=>Uh});function Bh(e,t){return Zn(["add",e,t])}function Gh(e){return Zn(["init",...e])}function Zn(e){let t=[...e];return t[0]!=="submodule"&&t.unshift("submodule"),Dt(t)}function Uh(e){return Zn(["update",...e])}var Wh=C({"src/lib/tasks/sub-module.ts"(){Et()}});function zh(e,t){let n=isNaN(e),s=isNaN(t);return n!==s?n?1:-1:n?Rc(e,t):0}function Rc(e,t){return e===t?0:e>t?1:-1}function qh(e){return e.trim()}function Fn(e){return typeof e=="string"&&parseInt(e.replace(/^\D+/g,""),10)||0}var ko,Pc,Hh=C({"src/lib/responses/TagList.ts"(){ko=class{constructor(e,t){this.all=e,this.latest=t}},Pc=function(e,t=!1){let n=e.split(`
`).map(qh).filter(Boolean);t||n.sort(function(r,i){let o=r.split("."),u=i.split(".");if(o.length===1||u.length===1)return zh(Fn(o[0]),Fn(u[0]));for(let p=0,_=Math.max(o.length,u.length);p<_;p++){let d=Rc(Fn(o[p]),Fn(u[p]));if(d)return d}return 0});let s=t?n[0]:[...n].reverse().find(r=>r.indexOf(".")>=0);return new ko(n,s)}}}),jc={};ft(jc,{addAnnotatedTagTask:()=>Kh,addTagTask:()=>Yh,tagListTask:()=>Vh});function Vh(e=[]){let t=e.some(n=>/^--sort=/.test(n));return{format:"utf-8",commands:["tag","-l",...e],parser(n){return Pc(n,t)}}}function Yh(e){return{format:"utf-8",commands:["tag",e],parser(){return{name:e}}}}function Kh(e,t){return{format:"utf-8",commands:["tag","-a","-m",t,e],parser(){return{name:e}}}}var Xh=C({"src/lib/tasks/tag.ts"(){Hh()}}),Qh=vl({"src/git.js"(e,t){var{GitExecutor:n}=(uf(),ut(Sa)),{SimpleGitApi:s}=(qf(),ut(nc)),{Scheduler:r}=(Hf(),ut(sc)),{configurationErrorTask:i}=(Et(),ut(Ws)),{asArray:o,filterArray:u,filterPrimitives:p,filterString:_,filterStringOrStringArray:d,filterType:l,getTrailingOptions:m,trailingFunctionArgument:b,trailingOptionsArgument:T}=(q(),ut(ta)),{applyPatchTask:w}=(Yf(),ut(oc)),{branchTask:g,branchLocalTask:D,deleteBranchesTask:U,deleteBranchTask:Y}=(ih(),ut(hc)),{checkIgnoreTask:W}=(ch(),ut(mc)),{checkIsRepoTask:Q}=(ra(),ut(ea)),{cloneTask:Tt,cloneMirrorTask:wt}=(fh(),ut(gc)),{cleanWithOptionsTask:Bt,isCleanOptionsArray:Gt}=(da(),ut(ha)),{commitTask:J}=(mh(),ut(_c)),{diffSummaryTask:M}=(bh(),ut(Ec)),{fetchTask:O}=(Oh(),ut(Oc)),{moveTask:I}=(Ah(),ut(vc)),{pullTask:B}=(Ih(),ut(Tc)),{pushTagsTask:Z}=(Qa(),ut(Xa)),{addRemoteTask:at,getRemotesTask:V,listRemotesTask:ht,remoteTask:Zt,removeRemoteTask:nt}=(Lh(),ut(Sc)),{getResetMode:Ut,resetTask:Wt}=(va(),ut(wa)),{stashListTask:te}=(Dh(),ut(Ic)),{addSubModuleTask:L,initSubModuleTask:Ye,subModuleTask:N,updateSubModuleTask:tt}=(Wh(),ut(xc)),{addAnnotatedTagTask:st,addTagTask:H,tagListTask:rt}=(Xh(),ut(jc)),{straightThroughBufferTask:ct,straightThroughStringTask:it}=(Et(),ut(Ws));function A(c,f){this._executor=new n(c.binary,c.baseDir,new r(c.maxConcurrentProcesses),f)}(A.prototype=Object.create(s.prototype)).constructor=A,A.prototype.customBinary=function(c){return this._executor.binary=c,this},A.prototype.env=function(c,f){return arguments.length===1&&typeof c=="object"?this._executor.env=c:(this._executor.env=this._executor.env||{})[c]=f,this},A.prototype.stashList=function(c){return this._runTask(te(T(arguments)||{},u(c)&&c||[]),b(arguments))};function de(c,f,E,y){return typeof E!="string"?i(`git.${c}() requires a string 'repoPath'`):f(E,l(y,_),m(arguments))}A.prototype.clone=function(){return this._runTask(de("clone",Tt,...arguments),b(arguments))},A.prototype.mirror=function(){return this._runTask(de("mirror",wt,...arguments),b(arguments))},A.prototype.mv=function(c,f){return this._runTask(I(c,f),b(arguments))},A.prototype.checkoutLatestTag=function(c){var f=this;return this.pull(function(){f.tags(function(E,y){f.checkout(y.latest,c)})})},A.prototype.commit=function(c,f,E,y){let h=b(arguments);return d(c)?this._runTask(J(o(c),o(l(f,d,[])),[...l(E,u,[]),...m(arguments,0,!0)]),h):this._runTask(i("git.commit: requires the commit message to be supplied as a string/string[]"),h)},A.prototype.pull=function(c,f,E,y){return this._runTask(B(l(c,_),l(f,_),m(arguments)),b(arguments))},A.prototype.fetch=function(c,f){return this._runTask(O(l(c,_),l(f,_),m(arguments)),b(arguments))},A.prototype.silent=function(c){return console.warn("simple-git deprecation notice: git.silent: logging should be configured using the `debug` library / `DEBUG` environment variable, this will be an error in version 3"),this},A.prototype.tags=function(c,f){return this._runTask(rt(m(arguments)),b(arguments))},A.prototype.rebase=function(){return this._runTask(it(["rebase",...m(arguments)]),b(arguments))},A.prototype.reset=function(c){return this._runTask(Wt(Ut(c),m(arguments)),b(arguments))},A.prototype.revert=function(c){let f=b(arguments);return typeof c!="string"?this._runTask(i("Commit must be a string"),f):this._runTask(it(["revert",...m(arguments,0,!0),c]),f)},A.prototype.addTag=function(c){let f=typeof c=="string"?H(c):i("Git.addTag requires a tag name");return this._runTask(f,b(arguments))},A.prototype.addAnnotatedTag=function(c,f){return this._runTask(st(c,f),b(arguments))},A.prototype.checkout=function(){let c=["checkout",...m(arguments,!0)];return this._runTask(it(c),b(arguments))},A.prototype.checkoutBranch=function(c,f,E){return this.checkout(["-b",c,f],b(arguments))},A.prototype.checkoutLocalBranch=function(c,f){return this.checkout(["-b",c],b(arguments))},A.prototype.deleteLocalBranch=function(c,f,E){return this._runTask(Y(c,typeof f=="boolean"?f:!1),b(arguments))},A.prototype.deleteLocalBranches=function(c,f,E){return this._runTask(U(c,typeof f=="boolean"?f:!1),b(arguments))},A.prototype.branch=function(c,f){return this._runTask(g(m(arguments)),b(arguments))},A.prototype.branchLocal=function(c){return this._runTask(D(),b(arguments))},A.prototype.raw=function(c){let f=!Array.isArray(c),E=[].slice.call(f?arguments:c,0);for(let h=0;h<E.length&&f;h++)if(!p(E[h])){E.splice(h,E.length-h);break}E.push(...m(arguments,0,!0));var y=b(arguments);return E.length?this._runTask(it(E),y):this._runTask(i("Raw: must supply one or more command to execute"),y)},A.prototype.submoduleAdd=function(c,f,E){return this._runTask(L(c,f),b(arguments))},A.prototype.submoduleUpdate=function(c,f){return this._runTask(tt(m(arguments,!0)),b(arguments))},A.prototype.submoduleInit=function(c,f){return this._runTask(Ye(m(arguments,!0)),b(arguments))},A.prototype.subModule=function(c,f){return this._runTask(N(m(arguments)),b(arguments))},A.prototype.listRemote=function(){return this._runTask(ht(m(arguments)),b(arguments))},A.prototype.addRemote=function(c,f,E){return this._runTask(at(c,f,m(arguments)),b(arguments))},A.prototype.removeRemote=function(c,f){return this._runTask(nt(c),b(arguments))},A.prototype.getRemotes=function(c,f){return this._runTask(V(c===!0),b(arguments))},A.prototype.remote=function(c,f){return this._runTask(Zt(m(arguments)),b(arguments))},A.prototype.tag=function(c,f){let E=m(arguments);return E[0]!=="tag"&&E.unshift("tag"),this._runTask(it(E),b(arguments))},A.prototype.updateServerInfo=function(c){return this._runTask(it(["update-server-info"]),b(arguments))},A.prototype.pushTags=function(c,f){let E=Z({remote:l(c,_)},m(arguments));return this._runTask(E,b(arguments))},A.prototype.rm=function(c){return this._runTask(it(["rm","-f",...o(c)]),b(arguments))},A.prototype.rmKeepLocal=function(c){return this._runTask(it(["rm","--cached",...o(c)]),b(arguments))},A.prototype.catFile=function(c,f){return this._catFile("utf-8",arguments)},A.prototype.binaryCatFile=function(){return this._catFile("buffer",arguments)},A.prototype._catFile=function(c,f){var E=b(f),y=["cat-file"],h=f[0];if(typeof h=="string")return this._runTask(i("Git.catFile: options must be supplied as an array of strings"),E);Array.isArray(h)&&y.push.apply(y,h);let S=c==="buffer"?ct(y):it(y);return this._runTask(S,E)},A.prototype.diff=function(c,f){let E=_(c)?i("git.diff: supplying options as a single string is no longer supported, switch to an array of strings"):it(["diff",...m(arguments)]);return this._runTask(E,b(arguments))},A.prototype.diffSummary=function(){return this._runTask(M(m(arguments,1)),b(arguments))},A.prototype.applyPatch=function(c){let f=d(c)?w(o(c),m([].slice.call(arguments,1))):i("git.applyPatch requires one or more string patches as the first argument");return this._runTask(f,b(arguments))},A.prototype.revparse=function(){let c=["rev-parse",...m(arguments,!0)];return this._runTask(it(c,!0),b(arguments))},A.prototype.show=function(c,f){return this._runTask(it(["show",...m(arguments,1)]),b(arguments))},A.prototype.clean=function(c,f,E){let y=Gt(c),h=y&&c.join("")||l(c,_)||"",S=m([].slice.call(arguments,y?1:0));return this._runTask(Bt(h,S),b(arguments))},A.prototype.exec=function(c){let f={commands:[],format:"utf-8",parser(){typeof c=="function"&&c()}};return this._runTask(f)},A.prototype.clearQueue=function(){return this},A.prototype.checkIgnore=function(c,f){return this._runTask(W(o(l(c,d,[]))),b(arguments))},A.prototype.checkIsRepo=function(c,f){return this._runTask(Q(l(c,_)),b(arguments))},t.exports=A}});pe();var Jh=class extends ne{constructor(e,t){super(void 0,t);this.config=e}};pe();pe();var Zh=class extends ne{constructor(e,t,n){super(e,n);this.task=e,this.plugin=t,Object.setPrototypeOf(this,new.target.prototype)}};Ve();Do();ra();da();ba();Ea();va();q();function tp(e){let t=Wn(e,"-c");return{type:"spawn.args",action(n){return[...t,...n]}}}q();var $o=(0,He.deferred)().promise;function ep({onClose:e=!0,onExit:t=50}={}){function n(){let r=-1,i={close:(0,He.deferred)(),closeTimeout:(0,He.deferred)(),exit:(0,He.deferred)(),exitTimeout:(0,He.deferred)()},o=Promise.race([e===!1?$o:i.closeTimeout.promise,t===!1?$o:i.exitTimeout.promise]);return s(e,i.close,i.closeTimeout),s(t,i.exit,i.exitTimeout),{close(u){r=u,i.close.done()},exit(u){r=u,i.exit.done()},get exitCode(){return r},result:o}}function s(r,i,o){r!==!1&&(r===!0?i.promise:i.promise.then(()=>Ds(r))).then(o.done)}return{type:"spawn.after",action(r,i){return nn(this,arguments,function*(o,{spawned:u,close:p}){var _,d;let l=n(),m=!0,b=()=>void(m=!1);(_=u.stdout)==null||_.on("data",b),(d=u.stderr)==null||d.on("data",b),u.on("error",b),u.on("close",T=>l.close(T)),u.on("exit",T=>l.exit(T));try{yield l.result,m&&(yield Ds(50)),p(l.exitCode)}catch(T){p(l.exitCode,T)}})}}}pe();function np(e){return!!(e.exitCode&&e.stdErr.length)}function sp(e){return Buffer.concat([...e.stdOut,...e.stdErr])}function rp(e=!1,t=np,n=sp){return(s,r)=>!e&&s||!t(r)?s:n(r)}function No(e){return{type:"task.error",action(t,n){let s=e(t.error,{stdErr:n.stdErr,stdOut:n.stdOut,exitCode:n.exitCode});return Buffer.isBuffer(s)?{error:new ne(void 0,s.toString("utf-8"))}:{error:s}}}}q();var ip=class{constructor(){this.plugins=new Set}add(e){let t=[];return cn(e).forEach(n=>n&&this.plugins.add(K(t,n))),()=>{t.forEach(n=>this.plugins.delete(n))}}exec(e,t,n){let s=t,r=Object.freeze(Object.create(n));for(let i of this.plugins)i.type===e&&(s=i.action(s,r));return s}};q();function op(e){let t="--progress",n=["checkout","clone","fetch","pull","push"];return[{type:"spawn.args",action(i,o){return n.includes(o.method)?qo(i,t):i}},{type:"spawn.after",action(i,o){var u;!o.commands.includes(t)||(u=o.spawned.stderr)==null||u.on("data",p=>{let _=/^([\s\S]+?):\s*(\d+)% \((\d+)\/(\d+)\)/.exec(p.toString("utf8"));!_||e({method:o.method,stage:ap(_[1]),progress:Vt(_[2]),processed:Vt(_[3]),total:Vt(_[4])})})}}]}function ap(e){return String(e.toLowerCase().split(" ",1))||"unknown"}q();function cp(e){let t=Vo(e,["uid","gid"]);return{type:"spawn.options",action(n){return Jt(Jt({},t),n)}}}function up({block:e}){if(e>0)return{type:"spawn.after",action(t,n){var s,r;let i;function o(){i&&clearTimeout(i),i=setTimeout(p,e)}function u(){var _,d;(_=n.spawned.stdout)==null||_.off("data",o),(d=n.spawned.stderr)==null||d.off("data",o),n.spawned.off("exit",u),n.spawned.off("close",u)}function p(){u(),n.kill(new Zh(void 0,"timeout","block timeout reached"))}(s=n.spawned.stdout)==null||s.on("data",o),(r=n.spawned.stderr)==null||r.on("data",o),n.spawned.on("exit",u),n.spawned.on("close",u),o()}}}q();var lp=Qh();function fp(e,t){let n=new ip,s=Jo(e&&(typeof e=="string"?{baseDir:e}:e)||{},t);if(!tr(s.baseDir))throw new Jh(s,"Cannot use simple-git on a directory that does not exist");return Array.isArray(s.config)&&n.add(tp(s.config)),n.add(ep(s.completion)),s.progress&&n.add(op(s.progress)),s.timeout&&n.add(up(s.timeout)),s.spawnOptions&&n.add(cp(s.spawnOptions)),n.add(No(rp(!0))),s.errors&&n.add(No(s.errors)),new lp(s,n)}Ve();var Mc=fp;var _r=Mc();async function kc(){return await _r.raw("rev-parse","HEAD")}async function $c(e){return(await _r.raw(["log","--no-merges","--pretty=format:%B\u0700",e?`${e}..HEAD`:"HEAD"])).split("\u0700").map(n=>n.trim()).filter(n=>n.length>0)}async function Nc(e,t,n){await _r.commit(`${t}: ${n}`,e)}var Dc=require("fs/promises"),Bc=me(os()),Gc=me(Lc());var hp=/^([a-z]+!?)(?:\(([\w-/]+)\))?: ([a-zA-Zа-яА-Я\d][^\n]+)(?:\n{2}(.+))?$/s;function wr(e){let[t,n=""]=e.match(/#(\d+)/)||[];return n}function pp(e){return e.replace(/^#.*$/gm,"")}function Fc(e){e=pp(e);let[,t=""]=e.match(/Merge (branch|remote\-tracking branch|pull request) /i)||[];if(t.length>0){let[,l=""]=e.match(/([^\s\/]+\/[^:]+:[^\s]+)/i)||[];return{commit:e,type:"merge",scope:"",message:`${t} from ${l}`,footer:"",isMerge:!0,isBreaking:!1,issueID:wr(e)}}let[n,s="",r="",i="",o=""]=e.match(hp)||[];if(s.length===0)throw new Error("commit is not a valid conventional commit");let u=s.endsWith("!")||o.startsWith("BREAKING CHANGE"),p=wr(i),_=wr(o);return{commit:e,type:s,scope:r,message:i,footer:o,isMerge:!1,isBreaking:u,issueID:p||_}}async function Uc(e,t){let n=await(0,Dc.readFile)(e,"utf8"),s=JSON.parse(n),r=(0,Gc.get)(s,t,"");return typeof r=="string"?r:""}async function Wc(e,t){e=(0,Bc.default)(e.version);let n=await $c(t),s=!1,r=!1,i=!1;for(let o of n)try{let u=Fc(o);if(u.isBreaking){s=!0;break}if(u.type==="feat"){r=!0;break}u.type==="fix"&&(i=!0)}catch{}return s?e.inc("major"):r?e.inc("minor"):i?e.inc("patch"):e}function Or(e){let[,t=void 0]=e.raw.match(/sha\.(\w+)/i)||[];return t}var Cr="semverity",zc={type:"string",describe:"initial version"},qc={type:"string",alias:"f",describe:"file to grab version from",default:"package.json"},Hc={type:"string",describe:"dot-notated path to version in json object",default:"version"},dp={type:"array",alias:"o",describe:"files to patch version",default:["package.json","package-lock.json"]},mp={type:"string",describe:"commmit type to save"};async function Vc(e){let t;if(e.semver)t=(0,ts.default)(e.semver);else{let n=await Uc(e.from,e.fromPath);t=(0,ts.default)(n)}if(t===null)throw new Error("invalid semver passed");return t}async function Yc(e,t){let n=await kc().catch(()=>{throw new Error("not enough commits to build version")}),s=await Wc(e,t),r=`sha.${n.substring(0,8)}`;return(0,ts.default)(`${s.version}+${r}`)}async function gp(e,t,n){let s=await(0,es.readFile)(e,"utf8"),r=s.replaceAll(t.raw,n.raw);return await(0,es.writeFile)(e,r),s!==r}Qi(hs(process.argv)).command("bump [semver]","bump version from git history",e=>e.usage(`Usage: ${Cr} bump [options]`).positional("semver",zc).option("from",qc).option("from-path",Hc),async e=>{let t=await Vc(e),n=Or(t),s=await Yc(t,n);process.stdout.write(s.raw)}).command("patch [semver]","bump and patch files",e=>e.usage(`Usage: ${Cr} patch [options]`).positional("semver",zc).option("from",qc).option("from-path",Hc).option("files",dp).option("commit",mp),async e=>{let t=await Vc(e),n=Or(t),s=await Yc(t,n),r=0;for(let i of e.files)r+=await gp(i,t,s)?1:0;process.stdout.write(`${r} file(s) pathed to version ${s}
`),e.commit&&await Nc(e.files,e.commit,s.raw)}).usage(`Usage: ${Cr} <command>`).demandCommand(1).parse();
/**
 * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
 * CJS and ESM environments.
 *
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */
/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */
/*!
 * semverity v0.1.2+sha.f6dc7ec7
 * (c) 2021 Aleksey Korolev
 * Released under the MIT License.
 */
